# üì± Telegram Message Ingestion Setup

–¶–µ–π –≥–∞–π–¥ –¥–æ–ø–æ–º–æ–∂–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—ñ–¥–≥—Ä—É–∑–∫—É —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ Telegram –≥—Ä—É–ø.

## üîë –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞—Ç–∏ API Credentials

1. –í—ñ–¥–∫—Ä–∏–π https://my.telegram.org/apps
2. –ó–∞–ª–æ–≥—ñ–Ω—å—Å—è —á–µ—Ä–µ–∑ —Å–≤—ñ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É
3. –ó–∞–ø–æ–≤–Ω–∏ —Ñ–æ—Ä–º—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É:
   - **App title**: Task Tracker
   - **Short name**: task_tracker
   - **Platform**: Other
4. –ù–∞—Ç–∏—Å–Ω–∏ **Create application**
5. –°–∫–æ–ø—ñ—é–π **api_id** —Ç–∞ **api_hash**

## ‚öôÔ∏è –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Environment

–î–æ–¥–∞–π –≤ `.env` —Ñ–∞–π–ª:

```bash
# Telegram Client API (–¥–ª—è –ø—ñ–¥–≥—Ä—É–∑–∫–∏ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=0123456789abcdef0123456789abcdef
```

## üîê –ö—Ä–æ–∫ 3: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (–æ–¥–∏–Ω —Ä–∞–∑)

–ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:

```bash
cd backend
uv run python scripts/telegram_auth.py
```

–°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç—å:
1. **–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É** (–∑ –∫–æ–¥–æ–º –∫—Ä–∞—ó–Ω–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: +380123456789)
2. **–ö–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è** (–ø—Ä–∏–π–¥–µ –≤ Telegram)
3. **2FA –ø–∞—Ä–æ–ª—å** (—è–∫—â–æ –≤–≤—ñ–º–∫–Ω–µ–Ω–æ –¥–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é)

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä–∏—Ç—å—Å—è —Ñ–∞–π–ª `task_tracker.session` - **–ù–ï –≤–∏–¥–∞–ª—è–π –π–æ–≥–æ!**

## ‚úÖ –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –º–æ–∂–µ—à –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—ñ–¥–≥—Ä—É–∑–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:

1. –í—ñ–¥–∫—Ä–∏–π http://localhost/messages
2. –ù–∞—Ç–∏—Å–Ω–∏ **"Ingest Messages"**
3. –í–∏–±–µ—Ä–∏ –≥—Ä—É–ø–∏ –∑ —Å–ø–∏—Å–∫—É
4. –ù–∞—Ç–∏—Å–Ω–∏ **"Ingest from N group(s)"**

## üîí –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ `api_id` —Ç–∞ `api_hash` - –º–æ–∂–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ `.env`
- ‚ùå `task_tracker.session` - **–ù–ï –∫–æ–º—ñ—Ç–∏—Ç–∏ –≤ git!** (–≤–∂–µ –≤ `.gitignore`)
- ‚ö†Ô∏è Session —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω–∏ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ç–≤–æ–≥–æ Telegram –∞–∫–∞—É–Ω—Ç—É

## üêõ Troubleshooting

### "Telegram API credentials not configured"
–ü–µ—Ä–µ–≤—ñ—Ä —â–æ `TELEGRAM_API_ID` —Ç–∞ `TELEGRAM_API_HASH` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –≤ `.env`

### "Not authorized"
–ó–∞–ø—É—Å—Ç–∏ `python scripts/telegram_auth.py` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó

### "Client not connected"
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è —â–æ session —Ñ–∞–π–ª `task_tracker.session` —ñ—Å–Ω—É—î

### "Error fetching messages"
–ü–µ—Ä–µ–≤—ñ—Ä —â–æ –±–æ—Ç/–∞–∫–∞—É–Ω—Ç –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –≥—Ä—É–ø–∏

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

- **Bot API** - —Ç—ñ–ª—å–∫–∏ –Ω–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ webhook
- **Client API (Telethon)** - —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–ø–æ—Ç—Ä–µ–±—É—î auth)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Telegram API: https://core.telegram.org/api
- Telethon docs: https://docs.telethon.dev/
