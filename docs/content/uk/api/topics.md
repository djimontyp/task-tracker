# –î–æ–≤—ñ–¥–Ω–∏–∫ API —Ç–æ–ø—ñ–∫—ñ–≤

!!! info "–î–æ–≤—ñ–¥–Ω–∏–∫ API"
    –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –¥–ª—è –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ —Ç–æ–ø—ñ–∫—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–æ—à—É–∫—É, –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è.

---

## –ë–∞–∑–æ–≤–∏–π URL

```
http://localhost:8000/api/v1/topics
```

---

## –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –°–ø–∏—Å–æ–∫ —Ç–æ–ø—ñ–∫—ñ–≤

–û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–ø—ñ–∫–∏ –∑ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º –ø–æ—à—É–∫–æ–º, –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º.

**GET** `/api/v1/topics`

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±–æ–≤'—è–∑–∫–æ–≤–∏–π | –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º | –û–ø–∏—Å |
|----------|-----|--------------|------------------|------|
| `search` | string | –ù—ñ | - | –ü–æ—à—É–∫ –±–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—É –≤ –Ω–∞–∑–≤—ñ —Ç–∞ –æ–ø–∏—Å—ñ (–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ UTF-8/–∫–∏—Ä–∏–ª–∏—Ü—ñ) |
| `sort_by` | string | –ù—ñ | `created_desc` | –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (–¥–∏–≤. –æ–ø—Ü—ñ—ó –Ω–∏–∂—á–µ) |
| `skip` | number | –ù—ñ | `0` | –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫—É (–¥–ª—è –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó) |
| `limit` | number | –ù—ñ | `100` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è (1-1000) |

#### –û–ø—Ü—ñ—ó —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

| –ó–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å | –ü–æ—Ä—è–¥–æ–∫ |
|----------|------|---------|
| `name_asc` | –ê–ª—Ñ–∞–≤—ñ—Ç–Ω–∏–π –ê‚Üí–Ø | –ó–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º –∑–∞ –Ω–∞–∑–≤–æ—é |
| `name_desc` | –ê–ª—Ñ–∞–≤—ñ—Ç–Ω–∏–π –Ø‚Üí–ê | –ó–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º –∑–∞ –Ω–∞–∑–≤–æ—é |
| `created_desc` | –°–ø–æ—á–∞—Ç–∫—É –Ω–æ–≤—ñ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) | –ó–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º –∑–∞ –¥–∞—Ç–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è |
| `created_asc` | –°–ø–æ—á–∞—Ç–∫—É —Å—Ç–∞—Ä—ñ | –ó–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º –∑–∞ –¥–∞—Ç–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è |
| `updated_desc` | –ù–µ–¥–∞–≤–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω—ñ –ø–µ—Ä—à–∏–º–∏ | –ó–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º –∑–∞ –¥–∞—Ç–æ—é –æ–Ω–æ–≤–ª–µ–Ω–Ω—è |

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤

=== "cURL - –ë–∞–∑–æ–≤–∏–π"
    ```bash
    # –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–µ—Ä—à—ñ 100 —Ç–æ–ø—ñ–∫—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
    curl http://localhost:8000/api/v1/topics
    ```

=== "cURL - –ü–æ—à—É–∫"
    ```bash
    # –ó–Ω–∞–π—Ç–∏ —Ç–æ–ø—ñ–∫–∏, —â–æ –º—ñ—Å—Ç—è—Ç—å "–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è"
    curl "http://localhost:8000/api/v1/topics?search=–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è"
    ```

=== "cURL - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è"
    ```bash
    # –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–ø—ñ–∫–∏, –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∑–∞ –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º
    curl "http://localhost:8000/api/v1/topics?sort_by=name_asc"
    ```

=== "cURL - –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è"
    ```bash
    # –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É 2 (24 –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É)
    curl "http://localhost:8000/api/v1/topics?skip=24&limit=24"
    ```

=== "cURL - –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π"
    ```bash
    # –ü–æ—à—É–∫ + –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è + –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
    curl "http://localhost:8000/api/v1/topics?search=api&sort_by=name_asc&skip=0&limit=24"
    ```

=== "cURL - –ö–∏—Ä–∏–ª–∏—Ü—è"
    ```bash
    # –ü–æ—à—É–∫ –∑ –∫–∏—Ä–∏–ª–∏—á–Ω–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ (URL-–∫–æ–¥—É–≤–∞–Ω–Ω—è)
    curl "http://localhost:8000/api/v1/topics?search=%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82"
    # –î–µ–∫–æ–¥–æ–≤–∞–Ω–æ: search=–ø—Ä–æ–µ–∫—Ç
    ```

=== "TypeScript"
    ```typescript
    interface ListTopicsParams {
      search?: string;
      sort_by?: 'name_asc' | 'name_desc' | 'created_desc' | 'created_asc' | 'updated_desc';
      skip?: number;
      limit?: number;
    }

    async function listTopics(params?: ListTopicsParams) {
      const queryParams = new URLSearchParams();

      if (params?.search) {
        queryParams.append('search', params.search);
      }
      if (params?.sort_by) {
        queryParams.append('sort_by', params.sort_by);
      }
      if (params?.skip !== undefined) {
        queryParams.append('skip', params.skip.toString());
      }
      if (params?.limit) {
        queryParams.append('limit', params.limit.toString());
      }

      const response = await fetch(
        `http://localhost:8000/api/v1/topics?${queryParams}`
      );

      if (!response.ok) {
        throw new Error(`–ü–æ–º–∏–ª–∫–∞ API: ${response.status}`);
      }

      return response.json();
    }

    // –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
    const allTopics = await listTopics();
    const searchResults = await listTopics({ search: 'api', limit: 24 });
    const sortedTopics = await listTopics({ sort_by: 'name_asc' });
    const page2 = await listTopics({ skip: 24, limit: 24 });
    ```

=== "Python"
    ```python
    import httpx
    from typing import Optional, Literal

    SortBy = Literal[
        "name_asc",
        "name_desc",
        "created_desc",
        "created_asc",
        "updated_desc"
    ]

    async def list_topics(
        search: Optional[str] = None,
        sort_by: SortBy = "created_desc",
        skip: int = 0,
        limit: int = 100,
    ):
        params = {
            "skip": skip,
            "limit": limit,
            "sort_by": sort_by,
        }

        if search:
            params["search"] = search

        async with httpx.AsyncClient() as client:
            response = await client.get(
                "http://localhost:8000/api/v1/topics",
                params=params
            )
            response.raise_for_status()
            return response.json()

    # –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
    all_topics = await list_topics()
    search_results = await list_topics(search="api", limit=24)
    sorted_topics = await list_topics(sort_by="name_asc")
    page_2 = await list_topics(skip=24, limit=24)
    cyrillic_search = await list_topics(search="–ø—Ä–æ–µ–∫—Ç")
    ```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

=== "–°—Ö–µ–º–∞"
    ```typescript
    interface TopicListResponse {
      items: TopicPublic[];
      total: number;        // –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∫—Ä–∏—Ç–µ—Ä—ñ—è–º
      page: number;         // –ü–æ—Ç–æ—á–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 1)
      page_size: number;    // –ó–∞–ø–∏—Ç–∞–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    }

    interface TopicPublic {
      id: number;
      name: string;
      description: string;
      icon?: string;        // –ù–∞–∑–≤–∞ —ñ–∫–æ–Ω–∫–∏ Heroicon
      color?: string;       // Hex –∫–æ–ª—ñ—Ä (#RRGGBB)
      created_at: string;   // –ß–∞—Å–æ–≤–∞ –º—ñ—Ç–∫–∞ ISO 8601
      updated_at: string;   // –ß–∞—Å–æ–≤–∞ –º—ñ—Ç–∫–∞ ISO 8601
    }
    ```

=== "–ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ"
    ```json
    {
      "items": [
        {
          "id": 42,
          "name": "–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è API",
          "description": "–Ü–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è OAuth2 —Ç–∞ –ø–∞—Ç–µ—Ä–Ω–∏ –±–µ–∑–ø–µ–∫–∏",
          "icon": "LockClosedIcon",
          "color": "#3B82F6",
          "created_at": "2025-10-20T14:30:00Z",
          "updated_at": "2025-10-27T09:15:00Z"
        },
        {
          "id": 38,
          "name": "–î–∏–∑–∞–π–Ω –±–∞–∑–∏ –¥–∞–Ω–∏—Ö",
          "description": "–°—Ç—Ä–∞—Ç–µ–≥—ñ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Å—Ö–µ–º–∏ PostgreSQL",
          "icon": "CircleStackIcon",
          "color": "#10B981",
          "created_at": "2025-10-18T11:20:00Z",
          "updated_at": "2025-10-26T16:45:00Z"
        }
      ],
      "total": 156,
      "page": 1,
      "page_size": 24
    }
    ```

=== "–ü–æ—Ä–æ–∂–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏"
    ```json
    {
      "items": [],
      "total": 0,
      "page": 1,
      "page_size": 24
    }
    ```

#### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó

**–§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Üí –ë–µ–∫–µ–Ω–¥:**

```typescript
// –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î —Å—Ç–æ—Ä—ñ–Ω–∫—É 3 –∑ 24 –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É
const page = 3;
const pageSize = 24;
const skip = (page - 1) * pageSize; // = 48

await fetch(`/api/v1/topics?skip=${skip}&limit=${pageSize}`);
```

**–ë–µ–∫–µ–Ω–¥ ‚Üí –§—Ä–æ–Ω—Ç–µ–Ω–¥:**

```typescript
// –ö–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å API –≤ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É
const response = await fetch('/api/v1/topics?skip=48&limit=24');
const data = await response.json();

const currentPage = Math.floor(data.skip / data.page_size) + 1; // = 3
const totalPages = Math.ceil(data.total / data.page_size);
const startItem = data.skip + 1; // = 49
const endItem = Math.min(data.skip + data.page_size, data.total); // = 72
```

#### –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –ø–æ—à—É–∫—É

!!! info "–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ—à—É–∫—É"
    –ü–æ—à—É–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î PostgreSQL `ILIKE` –¥–ª—è –ø–æ—à—É–∫—É –±–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—É:

    ```sql
    WHERE name ILIKE '%–ø–æ—à—É–∫–æ–≤–∏–π_—Ç–µ—Ä–º—ñ–Ω%' OR description ILIKE '%–ø–æ—à—É–∫–æ–≤–∏–π_—Ç–µ—Ä–º—ñ–Ω%'
    ```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–æ—à—É–∫—É:**

- **–ë–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—É**: "API" = "api" = "Api"
- **–ß–∞—Å—Ç–∫–æ–≤–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è**: "–∞–≤—Ç" –∑–Ω–∞—Ö–æ–¥–∏—Ç—å "–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è", "OAuth", "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è"
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ UTF-8**: –û–±—Ä–æ–±–ª—è—î –∫–∏—Ä–∏–ª–∏—Ü—é, –∫–∏—Ç–∞–π—Å—å–∫—ñ —Å–∏–º–≤–æ–ª–∏, –µ–º–æ–¥–∑—ñ —Ç–∞ –≤—Å—ñ Unicode —Å–∏–º–≤–æ–ª–∏
- **–ë–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω–∏–π**: –ö–æ–∂–Ω–µ —Å–ª–æ–≤–æ —à—É–∫–∞—î—Ç—å—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ (–ª–æ–≥—ñ—á–Ω–µ –ê–ë–û)
- **–ù–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∏**: –ó–∞–ø–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è `%`

**–ü—Ä–∏–∫–ª–∞–¥–∏ –ø–æ—à—É–∫—É:**

| –ü–æ—à—É–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç | –ó–Ω–∞—Ö–æ–¥–∏—Ç—å —Ç–æ–ø—ñ–∫–∏ –∑ |
|-----------------|---------------------|
| `api` | "–î–∏–∑–∞–π–Ω API", "REST API", "GraphQL APIs" |
| `–ø—Ä–æ–µ–∫—Ç` | "–ú—ñ–π –ø—Ä–æ–µ–∫—Ç", "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏" |
| `oauth –±–µ–∑–ø–µ–∫–∞` | –¢–æ–ø—ñ–∫–∏, —â–æ –º—ñ—Å—Ç—è—Ç—å "oauth" –ê–ë–û "–±–µ–∑–ø–µ–∫–∞" |
| `üîí –∑–∞–º–æ–∫` | –¢–æ–ø—ñ–∫–∏ –∑ –µ–º–æ–¥–∑—ñ –∞–±–æ —Å–ª–æ–≤–æ–º "–∑–∞–º–æ–∫" |

#### –ü–æ–º–∏–ª–∫–∏

| –°—Ç–∞—Ç—É—Å | –ü–æ–º–∏–ª–∫–∞ | –û–ø–∏—Å |
|--------|---------|------|
| `400` | Bad Request | –ù–µ–≤—ñ—Ä–Ω–∏–π `limit` (–º–∞—î –±—É—Ç–∏ 1-1000) –∞–±–æ `skip` (–º–∞—î –±—É—Ç–∏ ‚â• 0) |
| `422` | Validation Error | –ù–µ–≤—ñ—Ä–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è `sort_by` |
| `500` | Internal Server Error | –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö –∞–±–æ —Å–µ—Ä–≤–µ—Ä–Ω–∞ –ø–æ–º–∏–ª–∫–∞ |

=== "400 - –ù–µ–≤—ñ—Ä–Ω–∏–π –ª—ñ–º—ñ—Ç"
    ```json
    {
      "detail": "limit –º–∞—î –±—É—Ç–∏ –º—ñ–∂ 1 —Ç–∞ 1000"
    }
    ```

=== "422 - –ù–µ–≤—ñ—Ä–Ω–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è"
    ```json
    {
      "detail": [
        {
          "loc": ["query", "sort_by"],
          "msg": "–Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è; –¥–æ–∑–≤–æ–ª–µ–Ω—ñ: 'name_asc', 'name_desc', 'created_desc', 'created_asc', 'updated_desc'",
          "type": "value_error.const"
        }
      ]
    }
    ```

#### –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

!!! tip "–û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è"
    –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **24 –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É** –¥–ª—è —Å—ñ—Ç–∫–æ–≤–∏—Ö –º–∞–∫–µ—Ç—ñ–≤ (2 —Ä—è–¥–∏ √ó 12 –∫–æ–ª–æ–Ω–æ–∫). –¶–µ –±–∞–ª–∞–Ω—Å—É—î –≤–∏–¥–∏–º—ñ—Å—Ç—å —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

!!! tip "–ó–∞—Ç—Ä–∏–º–∫–∞ –ø–æ—à—É–∫—É"
    –†–µ–∞–ª—ñ–∑—É–π—Ç–µ –∑–∞—Ç—Ä–∏–º–∫—É 300 –º—Å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ –¥–ª—è –ø–æ–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è –ø–æ—à—É–∫—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –Ω–∞–¥–º—ñ—Ä–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤ API:

    ```typescript
    const debouncedSearch = useMemo(
      () => debounce((value: string) => setSearchQuery(value), 300),
      []
    );
    ```

!!! tip "URL-–∫–æ–¥—É–≤–∞–Ω–Ω—è"
    –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ URL-–∫–æ–¥—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤, –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è –∫–∏—Ä–∏–ª–∏—Ü—ñ –∞–±–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤:

    ```typescript
    const searchQuery = "–ø—Ä–æ–µ–∫—Ç API";
    const encoded = encodeURIComponent(searchQuery);
    // –†–µ–∑—É–ª—å—Ç–∞—Ç: %D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%20API
    ```

!!! warning "–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å"
    - –î–ª—è –∫–æ–ª–µ–∫—Ü—ñ–π >10 000 —Ç–æ–ø—ñ–∫—ñ–≤ —Ä–æ–∑–≥–ª—è–Ω—å—Ç–µ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—é –ø–æ–≤–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ—à—É–∫—É (PostgreSQL FTS)
    - –ú–æ–Ω—ñ—Ç–æ—Ä—Ç–µ —á–∞—Å –≤—ñ–¥–≥—É–∫—É API; —Ü—ñ–ª—å <500 –º—Å –¥–ª—è –ø–æ—à—É–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
    - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–µ—à—É–≤–∞–Ω–Ω—è (TanStack Query, SWR) –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –Ω–∞–¥–ª–∏—à–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

---

## –ü—Ä–∏–∫–ª–∞–¥–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

### React + TanStack Query

–ü–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –∑ –ø–æ—à—É–∫–æ–º, —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é:

```typescript
import { useQuery } from '@tanstack/react-query';
import { useState, useMemo } from 'react';
import { debounce } from 'lodash';

interface TopicListParams {
  search?: string;
  sort_by?: string;
  page?: number;
  page_size?: number;
}

function useTopics(params: TopicListParams) {
  const skip = params.page ? (params.page - 1) * (params.page_size || 24) : 0;

  return useQuery({
    queryKey: ['topics', params],
    queryFn: async () => {
      const queryParams = new URLSearchParams();

      if (params.search) {
        queryParams.append('search', params.search);
      }
      if (params.sort_by) {
        queryParams.append('sort_by', params.sort_by);
      }
      queryParams.append('skip', skip.toString());
      queryParams.append('limit', (params.page_size || 24).toString());

      const response = await fetch(`/api/v1/topics?${queryParams}`);
      if (!response.ok) throw new Error('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–æ–ø—ñ–∫–∏');
      return response.json();
    },
    keepPreviousData: true, // –ü–ª–∞–≤–Ω—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏ –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏
  });
}

function TopicsPage() {
  const [searchInput, setSearchInput] = useState('');
  const [searchQuery, setSearchQuery] = useState('');
  const [sortBy, setSortBy] = useState('created_desc');
  const [currentPage, setCurrentPage] = useState(1);

  // –ó–∞—Ç—Ä–∏–º–∫–∞ –≤–≤–µ–¥–µ–Ω–Ω—è –ø–æ—à—É–∫—É
  const debouncedSearch = useMemo(
    () => debounce((value: string) => {
      setSearchQuery(value);
      setCurrentPage(1); // –°–∫–∏–Ω—É—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É 1 –ø—Ä–∏ –ø–æ—à—É–∫—É
    }, 300),
    []
  );

  const { data, isLoading, error } = useTopics({
    search: searchQuery,
    sort_by: sortBy,
    page: currentPage,
    page_size: 24,
  });

  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setSearchInput(e.target.value);
    debouncedSearch(e.target.value);
  };

  const handleSortChange = (newSort: string) => {
    setSortBy(newSort);
    setCurrentPage(1); // –°–∫–∏–Ω—É—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É 1 –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
  };

  if (error) return <div>–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–æ–ø—ñ–∫—ñ–≤</div>;

  return (
    <div>
      {/* –†—è–¥–æ–∫ –ø–æ—à—É–∫—É */}
      <input
        type="text"
        value={searchInput}
        onChange={handleSearchChange}
        placeholder="–ü–æ—à—É–∫ —Ç–æ–ø—ñ–∫—ñ–≤..."
      />

      {/* –í–∏–ø–∞–¥–∞—é—á–∏–π —Å–ø–∏—Å–æ–∫ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è */}
      <select value={sortBy} onChange={(e) => handleSortChange(e.target.value)}>
        <option value="created_desc">–°–ø–æ—á–∞—Ç–∫—É –Ω–æ–≤—ñ</option>
        <option value="created_asc">–°–ø–æ—á–∞—Ç–∫—É —Å—Ç–∞—Ä—ñ</option>
        <option value="name_asc">–ù–∞–∑–≤–∞ –ê-–Ø</option>
        <option value="name_desc">–ù–∞–∑–≤–∞ –Ø-–ê</option>
        <option value="updated_desc">–ù–µ–¥–∞–≤–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω—ñ</option>
      </select>

      {/* –õ—ñ—á–∏–ª—å–Ω–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ */}
      {data && (
        <p>
          –ó–Ω–∞–π–¥–µ–Ω–æ {data.total} —Ç–æ–ø—ñ–∫—ñ–≤
          {data.total > 0 && ` (–ø–æ–∫–∞–∑–∞–Ω–æ ${(currentPage - 1) * 24 + 1}-${Math.min(currentPage * 24, data.total)})`}
        </p>
      )}

      {/* –°—ñ—Ç–∫–∞ —Ç–æ–ø—ñ–∫—ñ–≤ */}
      {isLoading ? (
        <div>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
      ) : (
        <div className="grid">
          {data?.items.map((topic) => (
            <div key={topic.id}>
              <h3>{topic.name}</h3>
              <p>{topic.description}</p>
            </div>
          ))}
        </div>
      )}

      {/* –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è */}
      {data && data.total > 24 && (
        <div>
          <button
            disabled={currentPage === 1}
            onClick={() => setCurrentPage((p) => p - 1)}
          >
            –ü–æ–ø–µ—Ä–µ–¥–Ω—è
          </button>

          <span>–°—Ç–æ—Ä—ñ–Ω–∫–∞ {currentPage} –∑ {Math.ceil(data.total / 24)}</span>

          <button
            disabled={currentPage * 24 >= data.total}
            onClick={() => setCurrentPage((p) => p + 1)}
          >
            –ù–∞—Å—Ç—É–ø–Ω–∞
          </button>
        </div>
      )}
    </div>
  );
}
```

---

## –ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

!!! success "–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥–∞–∫—à–Ω—É"
    –ù–∞ –æ—Å–Ω–æ–≤—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ 60+ —Ç–æ–ø—ñ–∫–∞–º–∏:

    - **–ß–∞—Å –≤—ñ–¥–≥—É–∫—É –ø–æ—à—É–∫—É**: <500 –º—Å (–Ω–∞–≤—ñ—Ç—å –∑ –∫–∏—Ä–∏–ª–∏—á–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏)
    - **–ß–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏**: <1 —Å –¥–ª—è –±—É–¥—å-—è–∫–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    - **–ß–∞—Å –≤—ñ–¥–≥—É–∫—É —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è**: <300 –º—Å (—Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö)
    - **–ó–∞—Ç—Ä–∏–º–∫–∞**: 300 –º—Å (–æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å –º—ñ–∂ –≤—ñ–¥–≥—É–∫–æ–º —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é API)

**–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å:**

| –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–ø—ñ–∫—ñ–≤ | –ß–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è |
|-------------------|------------------|--------------|
| 1-100 | <200 –º—Å | –ü–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞ |
| 100-1 000 | <500 –º—Å | –ü–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞ |
| 1 000-10 000 | <1 —Å | –†–æ–∑–≥–ª—è–Ω—å—Ç–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö |
| 10 000+ | <2 —Å | –Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–π—Ç–µ –ø–æ–≤–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ—à—É–∫ PostgreSQL (FTS) |

---

## –ü–æ–≤'—è–∑–∞–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–æ–ø—ñ–∫

**POST** `/api/v1/topics`

–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–ø—ñ–∫ –≤—Ä—É—á–Ω—É (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—é –∑–Ω–∞–Ω—å).

### –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–ø—ñ–∫ –∑–∞ ID

**GET** `/api/v1/topics/{topic_id}`

–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–æ–ø—ñ–∫ –∑ —É—Å—ñ–º–∞ –¥–µ—Ç–∞–ª—è–º–∏.

### –û–Ω–æ–≤–∏—Ç–∏ —Ç–æ–ø—ñ–∫

**PATCH** `/api/v1/topics/{topic_id}`

–ó–º—ñ–Ω–∏—Ç–∏ –Ω–∞–∑–≤—É, –æ–ø–∏—Å, —ñ–∫–æ–Ω–∫—É –∞–±–æ –∫–æ–ª—ñ—Ä —Ç–æ–ø—ñ–∫–∞.

### –û—Ç—Ä–∏–º–∞—Ç–∏ –∞—Ç–æ–º–∏ —Ç–æ–ø—ñ–∫–∞

**GET** `/api/v1/topics/{topic_id}/atoms`

–°–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –∞—Ç–æ–º—ñ–≤ (–æ–¥–∏–Ω–∏—Ü—å –∑–Ω–∞–Ω—å) –≤ —Ç–æ–ø—ñ–∫—É.

### –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–æ–ø—ñ–∫–∞

**GET** `/api/v1/topics/{topic_id}/messages`

–°–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ —Ç–æ–ø—ñ–∫–æ–º.

---

## –ñ—É—Ä–Ω–∞–ª –∑–º—ñ–Ω

### v1.1.0 (27 –∂–æ–≤—Ç–Ω—è 2025)

!!! info "–ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó"
    - ‚úÖ –ü–æ—à—É–∫: –ë–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—É, –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ UTF-8/–∫–∏—Ä–∏–ª–∏—Ü—ñ, –∑–∞—Ç—Ä–∏–º–∫–∞ 300 –º—Å
    - ‚úÖ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è: 5 –æ–ø—Ü—ñ–π (name_asc/desc, created_asc/desc, updated_desc)
    - ‚úÖ –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è: –†–æ–∑—É–º–Ω—ñ –Ω–æ–º–µ—Ä–∏ —Å—Ç–æ—Ä—ñ–Ω–æ–∫, –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    - ‚úÖ –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å: <500 –º—Å —á–∞—Å –≤—ñ–¥–≥—É–∫—É –¥–ª—è 10 000+ —Ç–æ–ø—ñ–∫—ñ–≤

### v1.0.0 (–ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–ª—ñ–∑)

- –ë–∞–∑–æ–≤–∏–π —Å–ø–∏—Å–æ–∫ —Ç–æ–ø—ñ–∫—ñ–≤ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `skip` —Ç–∞ `limit`
- –ë–µ–∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –ø–æ—à—É–∫—É —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

---

## –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–ø–æ–º–æ–≥–∏

**–î–ª—è –ø–∏—Ç–∞–Ω—å –ø—Ä–æ API:**

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [–ü–æ—Å—ñ–±–Ω–∏–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞](/guides/topics-search-pagination) –¥–ª—è –æ–≥–ª—è–¥—É —Ñ—É–Ω–∫—Ü—ñ–π
- –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏](/architecture/overview)

**–î–ª—è –ø–æ–º–∏–ª–æ–∫ –∞–±–æ –ø—Ä–æ–±–ª–µ–º:**

- –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ API, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ cURL –≤–∏—â–µ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DevTools –±—Ä–∞—É–∑–µ—Ä–∞ ‚Üí –≤–∫–ª–∞–¥–∫–∞ Network –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –∑–∞–ø–∏—Ç—É/–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ URL-–∫–æ–¥—É–≤–∞–Ω–Ω—è –¥–ª—è –∫–∏—Ä–∏–ª–∏—Ü—ñ/—Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤
- –ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ —Å–∏—Å—Ç–µ–º–Ω–∏–º –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∑ –¥–µ—Ç–∞–ª—è–º–∏ –ø–æ–º–∏–ª–∫–∏

---

!!! tip "–®–≤–∏–¥–∫–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫"
    ```bash
    # –ü–æ—à—É–∫ —Ç–æ–ø—ñ–∫—ñ–≤
    GET /api/v1/topics?search=–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

    # –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º
    GET /api/v1/topics?sort_by=name_asc

    # –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è (—Å—Ç–æ—Ä—ñ–Ω–∫–∞ 2, 24 –µ–ª–µ–º–µ–Ω—Ç–∏)
    GET /api/v1/topics?skip=24&limit=24

    # –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –∑–∞–ø–∏—Ç
    GET /api/v1/topics?search=api&sort_by=name_asc&skip=0&limit=24
    ```
