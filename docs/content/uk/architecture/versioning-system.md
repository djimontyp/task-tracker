# –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º–∏ –í–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 26 –∂–æ–≤—Ç–Ω—è 2025
**–°—Ç–∞—Ç—É—Å:** –û—Å–Ω–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
**–ü—Ä–æ–≥—Ä–µ—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:** 100% (–±–µ–∫–µ–Ω–¥-–≤–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è, –ø—Ä–æ—Ü–µ—Å –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è, API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)

---

## –ó–º—ñ—Å—Ç

1. [–û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏](#–æ–≥–ª—è–¥-—Å–∏—Å—Ç–µ–º–∏)
2. [–ü—Ä–æ—Ü–µ—Å –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è](#–ø—Ä–æ—Ü–µ—Å-–∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)
3. [–°—Ç–∞–Ω–∏ –≤–µ—Ä—Å—ñ–π](#—Å—Ç–∞–Ω–∏-–≤–µ—Ä—Å—ñ–π)
4. [API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏](#api-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏)
5. [–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤](#–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞-—Å–µ—Ä–≤—ñ—Å—ñ–≤)
6. [–ü–∞—Ç–µ—Ä–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–ø–∞—Ç–µ—Ä–Ω–∏-–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
7. [–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–µ—Ä—Å—ñ–π](#–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è-–≤–µ—Ä—Å—ñ–π)
8. [–ü—Ä–æ–≥–∞–ª–∏–Ω–∏ —Å–∏—Å—Ç–µ–º–∏](#–ø—Ä–æ–≥–∞–ª–∏–Ω–∏-—Å–∏—Å—Ç–µ–º–∏)

---

## –û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏

–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è –∑–∞–±–µ–∑–ø–µ—á—É—î –∞—É–¥–∏—Ç-—Ç—Ä–µ–π–ª —Ç–∞ –ø—Ä–æ—Ü–µ—Å –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥–ª—è –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö AI –æ–Ω–æ–≤–ª–µ–Ω—å –¢–µ–º —Ç–∞ –ê—Ç–æ–º—ñ–≤. –ö–æ–ª–∏ —Å–µ—Ä–≤—ñ—Å –≤–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å –≤–∏—è–≤–ª—è—î –∑–º—ñ–Ω–∏ –≤ —ñ—Å–Ω—É—é—á–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç—è—Ö, –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –Ω–µ–∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ –∑–Ω—ñ–º–∫–∏ –≤–µ—Ä—Å—ñ–π, —è–∫—ñ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ª—é–¥—Å—å–∫–æ–≥–æ –æ–≥–ª—è–¥—É –ø–µ—Ä–µ–¥ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è–º.

### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

**–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–º—ñ–Ω:** –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–º—É –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É –∫—É—Ä–æ–≤–∞–Ω–∏—Ö –∑–Ω–∞–Ω—å AI-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏:
- –í–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å –ø—Ä–∞—Ü—é—î –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–æ –Ω–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö –¢–µ–º/–ê—Ç–æ–º—ñ–≤ —Ñ—ñ–∫—Å—É—é—Ç—å—Å—è —è–∫ –≤–µ—Ä—Å—ñ—ó
- –õ—é–¥–∏–Ω–∞-—Ä–µ—Ü–µ–Ω–∑–µ–Ω—Ç –∑–∞—Ç–≤–µ—Ä–¥–∂—É—î –∞–±–æ –≤—ñ–¥—Ö–∏–ª—è—î –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω—ñ –∑–º—ñ–Ω–∏
- –õ–∏—à–µ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó –º–æ–¥–∏—Ñ—ñ–∫—É—é—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ

**–ê—É–¥–∏—Ç-—Ç—Ä–µ–π–ª:** –ü–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –≤—Å—ñ—Ö –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏—Ö —Ç–∞ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏—Ö –∑–º—ñ–Ω:
- –ö–æ–∂–Ω–∞ –≤–µ—Ä—Å—ñ—è –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ–≤–Ω–∏–π –∑–Ω—ñ–º–æ–∫ –¥–∞–Ω–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç—ñ
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ—ó –≤—ñ–¥—Å—Ç–µ–∂—É—î—Ç—å—Å—è –∑ –º—ñ—Ç–∫–æ—é —á–∞—Å—É —Ç–∞ –∞–≤—Ç–æ—Ä–æ–º
- –ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥—Å—Ç–µ–∂—É—î—Ç—å—Å—è –∑ –º—ñ—Ç–∫–æ—é —á–∞—Å—É (–ø–æ–ª–µ approved_by –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ)
- –í—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –∑–∞–ª–∏—à–∞—î –≤–µ—Ä—Å—ñ—é –≤ —Å—Ç–∞–Ω—ñ —á–µ—Ä–Ω–µ—Ç–∫–∏

### –ö–æ–ª–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –≤–µ—Ä—Å—ñ—ó

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç—Ä–∏–≥–µ—Ä–∏:**
1. –í–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å –≤–∏—è–≤–ª—è—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó –¢–µ–º–∏ (–Ω–∞–∑–≤–∞/–æ–ø–∏—Å/—ñ–∫–æ–Ω–∫–∞/–∫–æ–ª—ñ—Ä)
2. –í–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å –≤–∏—è–≤–ª—è—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ –ê—Ç–æ–º–∞ (—Ç–∏–ø/–≤–º—ñ—Å—Ç/–∑–∞–≥–æ–ª–æ–≤–æ–∫/–≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å/–º–µ—Ç–∞)
3. –í–µ—Ä—Å—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞ –∑ `created_by="knowledge_extraction"` —Ç–∞ `approved=false`

**–†—É—á–Ω—ñ —Ç—Ä–∏–≥–µ—Ä–∏:**
- –ù–∞—Ä–∞–∑—ñ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è (–Ω–µ–º–∞—î API –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ–π)

### –ù—É–º–µ—Ä–∞—Ü—ñ—è –≤–µ—Ä—Å—ñ–π

**–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏—Ö —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª:**
- –í–µ—Ä—Å—ñ—ó –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ 1 –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ
- –ö–æ–∂–Ω–∞ –Ω–æ–≤–∞ –≤–µ—Ä—Å—ñ—è —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç—É—î—Ç—å—Å—è: `latest_version.version + 1`
- –ù–æ–º–µ—Ä–∏ –≤–µ—Ä—Å—ñ–π —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è —Å—É—Ç–Ω–æ—Å—Ç—ñ (–¢–µ–º–∞ #5 –º–æ–∂–µ –º–∞—Ç–∏ v1-v10, –ê—Ç–æ–º #7 –º–æ–∂–µ –º–∞—Ç–∏ v1-v3)
- –ü—Ä–æ–≥–∞–ª–∏–Ω–∏ –≤ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –≤–∏–¥–∞–ª–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó (–Ω–∞—Ä–∞–∑—ñ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)

---

## –ü—Ä–æ—Ü–µ—Å –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

### –î—ñ–∞–≥—Ä–∞–º–∞ —Å—Ç–∞–Ω—ñ–≤

```mermaid
stateDiagram-v2
    [*] --> –ß–µ—Ä–Ω–µ—Ç–∫–∞: –í–µ—Ä—Å—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞<br/>(approved=false)

    –ß–µ—Ä–Ω–µ—Ç–∫–∞ --> –ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ: POST /versions/{id}/approve
    –ß–µ—Ä–Ω–µ—Ç–∫–∞ --> –í—ñ–¥—Ö–∏–ª–µ–Ω–æ: POST /versions/{id}/reject

    –ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ --> [*]: –°—É—Ç–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–∞<br/>approved=true<br/>approved_at=NOW
    –í—ñ–¥—Ö–∏–ª–µ–Ω–æ --> [*]: –°—É—Ç–Ω—ñ—Å—Ç—å –Ω–µ–∑–º—ñ–Ω–Ω–∞<br/>approved=false<br/>approved_at=NULL

    note right of –ß–µ—Ä–Ω–µ—Ç–∫–∞
        –°—Ç–≤–æ—Ä–µ–Ω–æ –≤–∏–ª—É—á–µ–Ω–Ω—è–º –∑–Ω–∞–Ω—å
        –û—á—ñ–∫—É—î –ª—é–¥—Å—å–∫–æ–≥–æ –æ–≥–ª—è–¥—É
    end note

    note right of –ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ
        –ó–º—ñ–Ω–∏ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ –¥–æ –æ—Å–Ω–æ–≤–Ω–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ
        –í–µ—Ä—Å—ñ—è –ø–æ–∑–Ω–∞—á–µ–Ω–∞ —è–∫ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞
    end note

    note right of –í—ñ–¥—Ö–∏–ª–µ–Ω–æ
        –ù–µ–º–∞—î –∑–º—ñ–Ω –¥–æ —Å—É—Ç–Ω–æ—Å—Ç—ñ
        –í–µ—Ä—Å—ñ—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–µ–∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ—é
    end note
```

### –ö—Ä–æ–∫–∏ –ø—Ä–æ—Ü–µ—Å—É

**–ß–µ—Ä–Ω–µ—Ç–∫–∞ ‚Üí –ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è:**
1. –†–µ—Ü–µ–Ω–∑–µ–Ω—Ç –æ—Ç—Ä–∏–º—É—î —Ä—ñ–∑–Ω–∏—Ü—é –≤–µ—Ä—Å—ñ–π –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–º—ñ–Ω
2. –†–µ—Ü–µ–Ω–∑–µ–Ω—Ç –∑–∞—Ç–≤–µ—Ä–¥–∂—É—î –≤–µ—Ä—Å—ñ—é —á–µ—Ä–µ–∑ API
3. –°–∏—Å—Ç–µ–º–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –¥–∞–Ω—ñ –≤–µ—Ä—Å—ñ—ó –¥–æ –æ—Å–Ω–æ–≤–Ω–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ (–¢–µ–º–∞ –∞–±–æ –ê—Ç–æ–º)
4. –°–∏—Å—Ç–µ–º–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î `version.approved = true`
5. –°–∏—Å—Ç–µ–º–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î `version.approved_at = <–ø–æ—Ç–æ—á–Ω–∞ –º—ñ—Ç–∫–∞ —á–∞—Å—É>`
6. –ó–º—ñ–Ω–∏ —Å—É—Ç–Ω–æ—Å—Ç—ñ –≤—ñ–¥—Ä–∞–∑—É –≤–∏–¥–∏–º—ñ –≤—Å—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º

**–ß–µ—Ä–Ω–µ—Ç–∫–∞ ‚Üí –í—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è:**
1. –†–µ—Ü–µ–Ω–∑–µ–Ω—Ç –æ—Ç—Ä–∏–º—É—î —Ä—ñ–∑–Ω–∏—Ü—é –≤–µ—Ä—Å—ñ–π –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∑–º—ñ–Ω
2. –†–µ—Ü–µ–Ω–∑–µ–Ω—Ç –≤—ñ–¥—Ö–∏–ª—è—î –≤–µ—Ä—Å—ñ—é —á–µ—Ä–µ–∑ API
3. **–ù–µ–º–∞—î –∑–º—ñ–Ω –¥–æ –æ—Å–Ω–æ–≤–Ω–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ**
4. –í–µ—Ä—Å—ñ—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –∑ `approved=false`
5. –í–µ—Ä—Å—ñ—é –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∞–±–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ

---

## –°—Ç–∞–Ω–∏ –≤–µ—Ä—Å—ñ–π

### –ü–æ–ª—è —Å—Ç–∞–Ω—ñ–≤

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å | –ó–Ω–∞—á–µ–Ω–Ω—è —á–µ—Ä–Ω–µ—Ç–∫–∏ | –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è | –ó–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è |
|-------|------|-------------|-------------|----------------|----------------|
| `approved` | Boolean | –°—Ç–∞—Ç—É—Å –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è | `false` | `true` | `false` |
| `approved_at` | DateTime(TZ) | –ú—ñ—Ç–∫–∞ —á–∞—Å—É –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è | `NULL` | `<–º—ñ—Ç–∫–∞ —á–∞—Å—É>` | `NULL` |

### –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç—ñ

**–ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –∑–º—ñ–Ω–∏:**

–ö–æ–ª–∏ –≤–µ—Ä—Å—ñ—è –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ –æ–Ω–æ–≤–ª—é—î –æ—Å–Ω–æ–≤–Ω—É —Å—É—Ç–Ω—ñ—Å—Ç—å (–¢–µ–º–∞ –∞–±–æ –ê—Ç–æ–º), –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—á–∏ –≤—Å—ñ –ø–æ–ª—è –∑ `version.data`:

| –¢–∏–ø —Å—É—Ç–Ω–æ—Å—Ç—ñ | –û–Ω–æ–≤–ª–µ–Ω—ñ –ø–æ–ª—è |
|-------------|----------------|
| **–¢–µ–º–∞** | `name`, `description`, `icon`, `color` |
| **–ê—Ç–æ–º** | `type`, `content`, `title`, `confidence`, `meta` |

**–í—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—î —Å—É—Ç–Ω—ñ—Å—Ç—å:**

–ö–æ–ª–∏ –≤–µ—Ä—Å—ñ—è –≤—ñ–¥—Ö–∏–ª–µ–Ω–∞:
- –û—Å–Ω–æ–≤–Ω–∞ —Å—É—Ç–Ω—ñ—Å—Ç—å –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–æ—é
- –í–µ—Ä—Å—ñ—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –∑ `approved=false`
- –ù–µ–º–∞—î –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –º—ñ–∂ "–≤—ñ–¥—Ö–∏–ª–µ–Ω–æ" —Ç–∞ "–æ—á—ñ–∫—É—î –æ–≥–ª—è–¥—É" (–≤–∏—è–≤–ª–µ–Ω–∞ –ø—Ä–æ–≥–∞–ª–∏–Ω–∞)

---

## API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –≤–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è —Ç–µ–º

| –ú–µ—Ç–æ–¥ | –ï–Ω–¥–ø–æ—ñ–Ω—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –í—ñ–¥–ø–æ–≤—ñ–¥—å |
|--------|----------|---------|----------|
| GET | `/api/v1/topics/{topic_id}/versions` | –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –≤–µ—Ä—Å—ñ–π (–Ω–∞–π–Ω–æ–≤—ñ—à—ñ –ø–µ—Ä—à–∏–º–∏) | –ú–∞—Å–∏–≤ TopicVersionResponse |
| GET | `/api/v1/topics/{topic_id}/versions/{version}/diff?compare_to={v}` | –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–≤–æ—Ö –≤–µ—Ä—Å—ñ–π (–ø–æ–∫–∞–∑—É—î –∑–º—ñ–Ω–µ–Ω—ñ –ø–æ–ª—è) | VersionDiffResponse |
| POST | `/api/v1/topics/{topic_id}/versions/{version}/approve` | –ó–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ —Å—É—Ç–Ω–æ—Å—Ç—ñ | TopicVersionResponse |
| POST | `/api/v1/topics/{topic_id}/versions/{version}/reject` | –í—ñ–¥—Ö–∏–ª–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é (–±–µ–∑ –∑–º—ñ–Ω —Å—É—Ç–Ω–æ—Å—Ç—ñ) | TopicVersionResponse |

### –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –≤–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è –∞—Ç–æ–º—ñ–≤

| –ú–µ—Ç–æ–¥ | –ï–Ω–¥–ø–æ—ñ–Ω—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –í—ñ–¥–ø–æ–≤—ñ–¥—å |
|--------|----------|---------|----------|
| GET | `/api/v1/atoms/{atom_id}/versions` | –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –≤–µ—Ä—Å—ñ–π (–Ω–∞–π–Ω–æ–≤—ñ—à—ñ –ø–µ—Ä—à–∏–º–∏) | –ú–∞—Å–∏–≤ AtomVersionResponse |
| GET | `/api/v1/atoms/{atom_id}/versions/{version}/diff?compare_to={v}` | –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–≤–æ—Ö –≤–µ—Ä—Å—ñ–π (–ø–æ–∫–∞–∑—É—î –∑–º—ñ–Ω–µ–Ω—ñ –ø–æ–ª—è) | VersionDiffResponse |
| POST | `/api/v1/atoms/{atom_id}/versions/{version}/approve` | –ó–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ —Å—É—Ç–Ω–æ—Å—Ç—ñ | AtomVersionResponse |
| POST | `/api/v1/atoms/{atom_id}/versions/{version}/reject` | –í—ñ–¥—Ö–∏–ª–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é (–±–µ–∑ –∑–º—ñ–Ω —Å—É—Ç–Ω–æ—Å—Ç—ñ) | AtomVersionResponse |

### –§–æ—Ä–º–∞—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤/–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

**ApproveVersionRequest / RejectVersionRequest:**
- –ü–æ—Ä–æ–∂–Ω—î —Ç—ñ–ª–æ –∑–∞–ø–∏—Ç—É (–∑–∞–ø–æ–≤–Ω—é–≤–∞—á –¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –ø–æ–ª—ñ–≤ —Ç–∏–ø—É `reason`, `approved_by`)

**VersionDiffResponse:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|-------|------|-------------|
| `from_version` | Integer | –ù–æ–º–µ—Ä –≤–∏—Ö—ñ–¥–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó |
| `to_version` | Integer | –ù–æ–º–µ—Ä —Ü—ñ–ª—å–æ–≤–æ—ó –≤–µ—Ä—Å—ñ—ó |
| `changes` | Array | –°–ø–∏—Å–æ–∫ –≤–∏—è–≤–ª–µ–Ω–∏—Ö –∑–º—ñ–Ω |
| `summary` | String | –ó—Ä–æ–∑—É–º—ñ–ª–µ —Ä–µ–∑—é–º–µ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "2 –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–µ–Ω–æ") |

**VersionChange:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|-------|------|-------------|
| `type` | String | –¢–∏–ø –∑–º—ñ–Ω–∏ (`values_changed`, `type_changes`, `dictionary_item_added`, `dictionary_item_removed`) |
| `path` | String | JSON-—à–ª—è—Ö –¥–æ –∑–º—ñ–Ω–µ–Ω–æ–≥–æ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `['description']`) |
| `old_value` | Any | –ü–æ–ø–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è |
| `new_value` | Any | –ù–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è |

---

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤

### VersioningService

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –≤–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è, –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è, –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

**–ö–ª—é—á–æ–≤—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ:**

| –ú–µ—Ç–æ–¥ | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|---------|
| `create_topic_version(db, topic_id, data, created_by)` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∑–Ω—ñ–º–æ–∫ –≤–µ—Ä—Å—ñ—ó —Ç–µ–º–∏ |
| `create_atom_version(db, atom_id, data, created_by)` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∑–Ω—ñ–º–æ–∫ –≤–µ—Ä—Å—ñ—ó –∞—Ç–æ–º–∞ |
| `get_versions(db, entity_type, entity_id)` | –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤–µ—Ä—Å—ñ—ó –¥–ª—è —Å—É—Ç–Ω–æ—Å—Ç—ñ (–Ω–∞–π–Ω–æ–≤—ñ—à—ñ –ø–µ—Ä—à–∏–º–∏) |
| `get_version_diff(db, entity_type, entity_id, v1, v2)` | –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –¥–≤–æ–º–∞ –≤–µ—Ä—Å—ñ—è–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ DeepDiff |
| `approve_version(db, entity_type, entity_id, version)` | –ó–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏ –¥–æ —Å—É—Ç–Ω–æ—Å—Ç—ñ |
| `reject_version(db, entity_type, entity_id, version)` | –í—ñ–¥—Ö–∏–ª–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é (–±–µ–∑ –æ–ø–µ—Ä–∞—Ü—ñ–π, –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–µ–∑–º—ñ–Ω–µ–Ω—É –≤–µ—Ä—Å—ñ—é) |

**–õ–æ–≥—ñ–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ—ó:**
1. –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é –≤–µ—Ä—Å—ñ—é –¥–ª—è —Å—É—Ç–Ω–æ—Å—Ç—ñ (–∞–±–æ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º v0, —è–∫—â–æ –Ω–µ–º–∞—î)
2. –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –Ω–æ–º–µ—Ä –≤–µ—Ä—Å—ñ—ó: `latest_version.version + 1`
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å –≤–µ—Ä—Å—ñ—ó –∑ –Ω–∞–¥–∞–Ω–∏–º –∑–Ω—ñ–º–∫–æ–º –¥–∞–Ω–∏—Ö
4. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `approved=false`, `created_by=<–∞–≤—Ç–æ—Ä>`, `created_at=NOW`
5. –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö

**–õ–æ–≥—ñ–∫–∞ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è:**
1. –û—Ç—Ä–∏–º–∞—Ç–∏ –≤–µ—Ä—Å—ñ—é –∑–∞ entity_id —Ç–∞ version_number
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤–µ—Ä—Å—ñ—è —ñ—Å–Ω—É—î —Ç–∞ —â–µ –Ω–µ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞
3. –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω—É —Å—É—Ç–Ω—ñ—Å—Ç—å (–¢–µ–º–∞ –∞–±–æ –ê—Ç–æ–º)
4. –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –≤–µ—Ä—Å—ñ—ó –¥–æ —Å—É—Ç–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `setattr(entity, key, value)`
5. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `version.approved = true`, `version.approved_at = NOW`
6. –ó–±–µ—Ä–µ–≥—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é

**–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `DeepDiff` –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è JSON-–∑–Ω—ñ–º–∫—ñ–≤
- –í–∏—è–≤–ª—è—î –∑–º—ñ–Ω–∏ –ø–æ–ª—ñ–≤, –∑–º—ñ–Ω–∏ —Ç–∏–ø—ñ–≤, –¥–æ–¥–∞–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- –ü–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∑–º—ñ–Ω –∑—ñ —Å—Ç–∞—Ä–∏–º–∏/–Ω–æ–≤–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏

### KnowledgeExtractionService

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** AI-–∫–µ—Ä–æ–≤–∞–Ω–µ –≤–∏–ª—É—á–µ–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç–µ–π, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î –≤–µ—Ä—Å—ñ—ó –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω—å

**–¢—Ä–∏–≥–µ—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:**

| –°—Ü–µ–Ω–∞—Ä—ñ–π | –î—ñ—è |
|----------|--------|
| –ù–æ–≤–∞ –¢–µ–º–∞ –≤–∏–ª—É—á–µ–Ω–∞ –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å | –°—Ç–≤–æ—Ä–∏—Ç–∏ –¢–µ–º—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ (–±–µ–∑ –≤–µ—Ä—Å—ñ—ó) |
| –Ü—Å–Ω—É—é—á–∞ –¢–µ–º–∞ –≤–∏—è–≤–ª–µ–Ω–∞ –∑—ñ –∑–º—ñ–Ω–∞–º–∏ | –°—Ç–≤–æ—Ä–∏—Ç–∏ TopicVersion –∑ `approved=false` |
| –ù–æ–≤–∏–π –ê—Ç–æ–º –≤–∏–ª—É—á–µ–Ω–∏–π –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å | –°—Ç–≤–æ—Ä–∏—Ç–∏ –ê—Ç–æ–º –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ (–±–µ–∑ –≤–µ—Ä—Å—ñ—ó) |
| –Ü—Å–Ω—É—é—á–∏–π –ê—Ç–æ–º –≤–∏—è–≤–ª–µ–Ω–∏–π –∑—ñ –∑–º—ñ–Ω–∞–º–∏ | –°—Ç–≤–æ—Ä–∏—Ç–∏ AtomVersion –∑ `approved=false` |

**–ó–Ω—ñ–º–∫–∏ –¥–∞–Ω–∏—Ö –≤–µ—Ä—Å—ñ–π:**

–î–ª—è –¢–µ–º:
- `name`, `description`, `icon`, `color`

–î–ª—è –ê—Ç–æ–º—ñ–≤:
- `type`, `content`, `title`, `confidence`, `meta`

**–ê—Ç—Ä–∏–±—É—Ü—ñ—è –∞–≤—Ç–æ—Ä–∞:**
- –í—Å—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –≤–µ—Ä—Å—ñ—ó –º–∞—é—Ç—å `created_by="knowledge_extraction"`
- –í—ñ–¥—Ä—ñ–∑–Ω—è—î AI-–∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –≤–µ—Ä—Å—ñ—ó –≤—ñ–¥ –º–∞–π–±—É—Ç–Ω—ñ—Ö —Ä—É—á–Ω–∏—Ö –≤–µ—Ä—Å—ñ–π

---

## –ü–∞—Ç–µ—Ä–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –•—Ç–æ —Å—Ç–≤–æ—Ä—é—î –≤–µ—Ä—Å—ñ—ó

**–ü–æ—Ç–æ—á–Ω—ñ:**
- –°–µ—Ä–≤—ñ—Å –≤–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ AI-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

**–ú–∞–π–±—É—Ç–Ω—ñ–π –ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª:**
- –†—É—á–Ω–∏–π API –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å
- –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É
- –ó–æ–≤–Ω—ñ—à–Ω—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

### –•—Ç–æ –∑–∞—Ç–≤–µ—Ä–¥–∂—É—î –≤–µ—Ä—Å—ñ—ó

**–ü–æ—Ç–æ—á–Ω—ñ:**
- –ë—É–¥—å-—è–∫–∏–π API-–∫–ª—ñ—î–Ω—Ç –∑ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ (–±–µ–∑ —Ä–æ–ª–µ–≤–∏—Ö –¥–æ–∑–≤–æ–ª—ñ–≤)

**–í–∏—è–≤–ª–µ–Ω–∞ –ø—Ä–æ–≥–∞–ª–∏–Ω–∞:**
- –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
- –ù–µ–º–∞—î –ø–æ–ª—è `approved_by` –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –∑–∞—Ç–≤–µ—Ä–¥–∂—É–≤–∞—á–∞
- –ù–µ–º–∞—î –∞—É–¥–∏—Ç-—Ç—Ä–µ–π–ª—É –¥–ª—è —Ä—ñ—à–µ–Ω—å –ø—Ä–æ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

**–û–±—Ö—ñ–¥–Ω–∏–π —à–ª—è—Ö:**
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–µ–∞–ª—ñ–∑—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞ –¥–æ–≤—ñ—Ä—ñ –¥–ª—è –º–∞–ª–∏—Ö –∫–æ–º–∞–Ω–¥
- –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ —á–µ—Ä–µ–∑ –º—ñ—Ç–∫—É —á–∞—Å—É `approved_at`

### –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤–µ—Ä—Å—ñ—ó

**–ê—É–¥–∏—Ç-—Ç—Ä–µ–π–ª:**
- –ü–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –≤—Å—ñ—Ö –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω
- –î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –æ–≥–ª—è–¥—É —á–µ—Ä–µ–∑ API (—Å–ø–∏—Å–æ–∫ –≤–µ—Ä—Å—ñ–π, –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—å)
- –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –±–µ–∑—Å—Ç—Ä–æ–∫–æ–≤–æ (–Ω–µ–º–∞—î –ø–æ–ª—ñ—Ç–∏–∫–∏ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó)

**–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–º—ñ–Ω:**
- –ó–∞–ø–æ–±—ñ–≥–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–º—É –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É –∫—É—Ä–æ–≤–∞–Ω–∏—Ö –∑–Ω–∞–Ω—å
- –ü—Ä–æ—Ü–µ—Å –ª—é–¥–∏–Ω–∞-–≤-—Ü–∏–∫–ª—ñ –¥–ª—è AI-–æ–Ω–æ–≤–ª–µ–Ω—å
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –¥–ª—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö AI-–ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π

**–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:**
- –§—ñ–ª—å—Ç—Ä—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ (—Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î —Ä–µ–∂–∏–º "–ª–∏—à–µ –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ")
- –î–∂–µ—Ä–µ–ª–æ —ñ—Å—Ç–∏–Ω–∏ (–æ—Å–Ω–æ–≤–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ, –Ω–µ –≤–µ—Ä—Å—ñ—ó)
- –í—ñ–¥–∫–∞—Ç (–Ω–µ–º–∞—î –ø—Ä—è–º–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º—É –≤—ñ–¥–∫–∞—Ç—É, –¥–∏–≤. –æ–±—Ö—ñ–¥–Ω–∏–π —à–ª—è—Ö –Ω–∏–∂—á–µ)

---

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–µ—Ä—Å—ñ–π

### –î–≤–∏–∂–æ–∫ —Ä—ñ–∑–Ω–∏—Ü—ñ

**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è:** –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ DeepDiff –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è JSON

**–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ç–∏–ø–∏ –∑–º—ñ–Ω:**

| –¢–∏–ø | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
|------|-------------|---------|
| `values_changed` | –ó–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è –∑–º—ñ–Ω–µ–Ω–æ | `description: "–°—Ç–∞—Ä–µ" ‚Üí "–ù–æ–≤–µ"` |
| `type_changes` | –¢–∏–ø –ø–æ–ª—è –∑–º—ñ–Ω–µ–Ω–æ | `confidence: 0.8 ‚Üí "–≤–∏—Å–æ–∫–∞"` |
| `dictionary_item_added` | –î–æ–¥–∞–Ω–æ –Ω–æ–≤–µ –ø–æ–ª–µ | `meta: null ‚Üí {"tags": [...]}` |
| `dictionary_item_removed` | –ü–æ–ª–µ –≤–∏–¥–∞–ª–µ–Ω–æ | `icon: "üìù" ‚Üí null` |

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Diff API

**–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –≤–µ—Ä—Å—ñ—é 2 –∑ –≤–µ—Ä—Å—ñ—î—é 1:**

–ï–Ω–¥–ø–æ—ñ–Ω—Ç: `GET /topics/{id}/versions/2/diff?compare_to=1`

–í—ñ–¥–ø–æ–≤—ñ–¥—å –ø–æ–∫–∞–∑—É—î –∑–º—ñ–Ω–∏ –∑ v1 ‚Üí v2

**–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –ø–æ—Ç–æ—á–Ω—É —Å—É—Ç–Ω—ñ—Å—Ç—å –∑ –≤–µ—Ä—Å—ñ—î—é:**

–ï–Ω–¥–ø–æ—ñ–Ω—Ç: `GET /topics/{id}/versions/0/diff?compare_to=3`

–í–µ—Ä—Å—ñ—è 0 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Å—É—Ç–Ω–æ—Å—Ç—ñ

---

## –ü—Ä–æ–≥–∞–ª–∏–Ω–∏ —Å–∏—Å—Ç–µ–º–∏

### –í–∏—è–≤–ª–µ–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

| –ü—Ä–æ–≥–∞–ª–∏–Ω–∞ | –í–ø–ª–∏–≤ | –û–±—Ö—ñ–¥–Ω–∏–π —à–ª—è—Ö |
|-----|--------|------------|
| **–ù–µ–º–∞—î —Ä–æ–ª–µ–≤–∏—Ö –¥–æ–∑–≤–æ–ª—ñ–≤** | –ë—É–¥—å-—è–∫–∏–π API-–∫–ª—ñ—î–Ω—Ç –º–æ–∂–µ –∑–∞—Ç–≤–µ—Ä–¥–∂—É–≤–∞—Ç–∏/–≤—ñ–¥—Ö–∏–ª—è—Ç–∏ | –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É, —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –¥–æ–≤—ñ—Ä—ñ |
| **–ù–µ–º–∞—î –ø–æ–ª—è `approved_by`** | –ù–µ–º–æ–∂–ª–∏–≤–æ –≤—ñ–¥—Å—Ç–µ–∂–∏—Ç–∏, —Ö—Ç–æ –∑–∞—Ç–≤–µ—Ä–¥–∏–≤ –≤–µ—Ä—Å—ñ—ó | –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –º—ñ—Ç–∫—É —á–∞—Å—É `approved_at`, —Å–ø—ñ–≤–≤—ñ–¥–Ω–µ—Å—Ç–∏ –∑ –ª–æ–≥–∞–º–∏ |
| **–ù–µ–º–∞—î –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è** | –í—ñ–¥—Ö–∏–ª–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó –Ω–µ–≤—ñ–¥—Ä—ñ–∑–Ω–∏–º—ñ –≤—ñ–¥ –æ—á—ñ–∫—É—é—á–∏—Ö | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `approved=false` —Ç–∞ –≤—Ä—É—á–Ω—É –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è |
| **–ù–µ–º–∞—î –º–µ—Ö–∞–Ω—ñ–∑–º—É –≤—ñ–¥–∫–∞—Ç—É** | –ù–µ–º–æ–∂–ª–∏–≤–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó | –í—Ä—É—á–Ω—É –∑–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Å—Ç–∞—Ä—ñ—à—É –≤–µ—Ä—Å—ñ—é (—Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –Ω–æ–º–µ—Ä –≤–µ—Ä—Å—ñ—ó) |
| **–ù–µ–º–∞—î –ø–∞–∫–µ—Ç–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π** | –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Ç–≤–µ—Ä–¥–∂—É–≤–∞—Ç–∏/–≤—ñ–¥—Ö–∏–ª—è—Ç–∏ –≤–µ—Ä—Å—ñ—ó –ø–æ–æ–¥–∏–Ω—Ü—ñ | –Ü—Ç–µ—Ä—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ API-–∫–ª—ñ—î–Ω—Ç |
| **–ù–µ–º–∞—î –ø–æ–ª—ñ—Ç–∏–∫–∏ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É** | –ù–µ–∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –±–µ–∑—Å—Ç—Ä–æ–∫–æ–≤–æ | –†—É—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–∏—Ö |
| **–ù–µ–º–∞—î —Å–∏—Å—Ç–µ–º–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å** | –ù–µ–º–∞—î –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω—å –ø—Ä–æ –æ—á—ñ–∫—É—é—á—ñ –≤–µ—Ä—Å—ñ—ó | –û–ø–∏—Ç—É–≤–∞–Ω–Ω—è API –¥–ª—è –Ω–µ–∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏—Ö –≤–µ—Ä—Å—ñ–π |

### –û–±—Ö—ñ–¥–Ω–∏–π —à–ª—è—Ö –¥–ª—è –≤—ñ–¥–∫–∞—Ç—É

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–º–∞—î –ø—Ä—è–º–æ–≥–æ API-–µ–Ω–¥–ø–æ—ñ–Ω—Ç—É –¥–ª—è –≤—ñ–¥–∫–∞—Ç—É

**–†—ñ—à–µ–Ω–Ω—è:** –í—Ä—É—á–Ω—É –∑–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Å—Ç–∞—Ä—ñ—à—É –≤–µ—Ä—Å—ñ—é

**–ü—Ä–æ—Ü–µ—Å:**
1. –í–∏–∑–Ω–∞—á–∏—Ç–∏ —Ü—ñ–ª—å–æ–≤—É –≤–µ—Ä—Å—ñ—é –¥–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, v3)
2. –ó–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Ü—é –≤–µ—Ä—Å—ñ—é: `POST /topics/{id}/versions/3/approve`
3. –°–∏—Å—Ç–µ–º–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –¥–∞–Ω—ñ v3 –¥–æ –æ—Å–Ω–æ–≤–Ω–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ
4. –Ü—Å—Ç–æ—Ä—ñ—è –≤–µ—Ä—Å—ñ–π –ø–æ–∫–∞–∑—É—î v3 —è–∫ –æ—Å—Ç–∞–Ω–Ω—é –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω—É –≤–µ—Ä—Å—ñ—é

**–ó–∞—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è:** –¶–µ —Å—Ç–≤–æ—Ä—é—î –µ—Ñ–µ–∫—Ç "–≤—ñ–¥–∫–∞—Ç—É", –∞–ª–µ –Ω–µ –≤–∏–¥–∞–ª—è—î –Ω–æ–≤—ñ—à—ñ –≤–µ—Ä—Å—ñ—ó –∑ —ñ—Å—Ç–æ—Ä—ñ—ó

---

## –ü—ñ–¥—Å—É–º–æ–∫

### –ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –≤–µ—Ä—Å—ñ—ó

**–°—Ç–≤–æ—Ä–µ–Ω–Ω—è ‚Üí –ß–µ—Ä–Ω–µ—Ç–∫–∞ ‚Üí –û–≥–ª—è–¥ ‚Üí –ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è/–í—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è**

1. –í–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å –≤–∏—è–≤–ª—è—î –∑–º—ñ–Ω—É —ñ—Å–Ω—É—é—á–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ
2. –°–∏—Å—Ç–µ–º–∞ —Å—Ç–≤–æ—Ä—é—î –≤–µ—Ä—Å—ñ—é –∑ `approved=false`
3. –ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –æ—á—ñ–∫—É—é—á—ñ –≤–µ—Ä—Å—ñ—ó
4. –†–µ—Ü–µ–Ω–∑–µ–Ω—Ç –ø–æ—Ä—ñ–≤–Ω—é—î —Ä—ñ–∑–Ω–∏—Ü—é
5. –†–µ—Ü–µ–Ω–∑–µ–Ω—Ç –∑–∞—Ç–≤–µ—Ä–¥–∂—É—î (–∑–∞—Å—Ç–æ—Å–æ–≤—É—î –∑–º—ñ–Ω–∏) –∞–±–æ –≤—ñ–¥—Ö–∏–ª—è—î (–±–µ–∑ –∑–º—ñ–Ω)
6. –í–µ—Ä—Å—ñ—è –ø–æ–∑–Ω–∞—á–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–º –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ç–∞ –º—ñ—Ç–∫–æ—é —á–∞—Å—É

### –ü–æ—Ç–æ—á–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ–π –¥–ª—è AI-–æ–Ω–æ–≤–ª–µ–Ω—å
‚úÖ –ü—Ä–æ—Ü–µ—Å –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑ API-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞–º–∏
‚úÖ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –≤–µ—Ä—Å—ñ—è–º–∏
‚úÖ –ü–æ–≤–Ω–∏–π –∞—É–¥–∏—Ç-—Ç—Ä–µ–π–ª –∑–º—ñ–Ω
‚úÖ –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∞ –Ω—É–º–µ—Ä–∞—Ü—ñ—è –≤–µ—Ä—Å—ñ–π

‚ùå –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–ª–µ–π
‚ùå –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è (`approved_by`, `rejected_by`)
‚ùå –ü—Ä—è–º–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –≤—ñ–¥–∫–∞—Ç—É
‚ùå –ü–∞–∫–µ—Ç–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
‚ùå –ü–æ–ª—ñ—Ç–∏–∫–∏ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É

---

## –î–∏–≤—ñ—Ç—å—Å—è —Ç–∞–∫–æ–∂

- [–í–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å](./knowledge-extraction.md) - –Ø–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –≤–µ—Ä—Å—ñ—ó
- [–§–æ–Ω–æ–≤—ñ –∑–∞–¥–∞—á—ñ](./background-tasks.md) - –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞–Ω—å
