# З чого почати: Production Deploy на Hostinger VPS

**Total time**: 2 години one-time setup
**Наступні deploys**: 5-10 хвилин

---

## Крок 1: Підготовка (локально, 30 хв)

```bash
# Build frontend
cd frontend
npm run build

# Створити .env.production
cd ..
cp .env.example .env.production
nano .env.production
# Встановити: DATABASE_URL, TELEGRAM_BOT_TOKEN, OPENAI_API_KEY, domains

# Commit
git add .
git commit -m "prod: ready for hostinger"
git push
```

---

## Крок 2: VPS Setup (одноразово, 20 хв)

```bash
ssh user@your-vps-ip

# Install Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
newgrp docker

# Clone
git clone https://github.com/yourusername/task-tracker.git
cd task-tracker
nano .env  # paste .env.production
```

---

## Крок 3: Deploy (15 хв)

```bash
# Start 4 services (БЕЗ dashboard container!)
docker compose up -d postgres nats api worker nginx

# Migrations
docker compose exec api uv run alembic upgrade head

# Verify
curl http://localhost:8000/api/health
```

---

## Крок 4: SSL (20 хв)

```bash
sudo apt install certbot
docker compose stop nginx
sudo certbot certonly --standalone -d yourdomain.com
sudo cp /etc/letsencrypt/live/yourdomain.com/*.pem nginx/ssl/
# Update nginx.conf для HTTPS
docker compose start nginx
```

---

## Крок 5: Verify (10 хв)

```bash
curl https://yourdomain.com/api/health
# Open browser: https://yourdomain.com
# Send Telegram message
docker stats  # Check RAM: ~1.8GB expected
```

---

## Крок 6: Backup (10 хв)

```bash
cat > ~/backup-db.sh <<'EOF'
#!/bin/bash
docker compose exec -T postgres pg_dump -U postgres tasktracker | gzip > ~/backups/tasktracker_$(date +%Y%m%d).sql.gz
EOF
chmod +x ~/backup-db.sh
crontab -e  # Add: 0 2 * * * ~/backup-db.sh
```

---

## Готово! ✅

**Production Stack** (4 контейнери):
- postgres: ~300MB
- nats: ~50MB (JetStream ✅)
- worker: ~600MB
- api: ~800MB
- nginx: ~20MB (static frontend)

**Total**: ~1.8GB (30% з 6GB), **3.5GB free** ✅

**Cost**: $16-30/month
**Capacity**: 200-300 msg/day комфортно

**Monitoring**: Loguru logs (вже працює), додаткове НЕ потрібне для MVP

**Next**: Monitor 24-48h, adjust якщо потрібно (але stack добре збалансований)

---

## Детальна документація

- **Повний guide**: [HOSTINGER-DEPLOYMENT.md](./synthesis/HOSTINGER-DEPLOYMENT.md)
- **Audit results**: [COMPREHENSIVE-SYNTHESIS.md](./synthesis/COMPREHENSIVE-SYNTHESIS.md)
- **Quick wins**: [QUICK-START.md](./synthesis/QUICK-START.md)
