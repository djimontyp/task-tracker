{
  "openapi": "3.1.0",
  "info": {
    "title": "Pulse Radar API",
    "description": "Feel the heartbeat of your projects",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health check endpoint",
        "description": "Check API health status.\n\nReturns current timestamp and healthy status indicator.",
        "operationId": "health_check_api_v1_health_get",
        "responses": {
          "200": {
            "description": "Current API health status with timestamp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/config": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Get client configuration",
        "description": "Get client-side configuration for WebSocket and API connections.\n\nDetects nginx proxy via X-Forwarded-* headers and returns appropriate URLs.\nFalls back to localhost for local development without nginx.",
        "operationId": "get_client_config_api_v1_config_get",
        "responses": {
          "200": {
            "description": "WebSocket and API base URLs for client connection",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/test-task": {
      "post": {
        "tags": [
          "health"
        ],
        "summary": "Trigger test task for WebSocket monitoring",
        "description": "Trigger a test background task to verify WebSocket monitoring.\n\nThis endpoint kicks off a score_message_task for testing the real-time\nmonitoring dashboard. Watch for task_started, task_completed, or task_failed\nevents on the 'monitoring' WebSocket topic.",
        "operationId": "trigger_test_task_api_v1_test_task_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestTaskRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Task trigger confirmation with task ID",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Trigger Test Task Api V1 Test Task Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/metrics": {
      "get": {
        "tags": [
          "dashboard"
        ],
        "summary": "Get dashboard metrics",
        "description": "Get aggregated dashboard metrics.\n\nReturns:\n- **messages**: Total count, signal/noise breakdown, signal ratio\n- **atoms**: Total count, pending review, approved, by type\n- **topics**: Total count, active today count\n- **trends**: Comparison with previous period\n\nThe 'auto' period uses yesterday's data if:\n- No messages today AND\n- Current time is before noon",
        "operationId": "get_dashboard_metrics_api_v1_dashboard_metrics_get",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "auto",
                "today",
                "yesterday"
              ],
              "type": "string",
              "description": "Time period: 'auto' (detect), 'today', or 'yesterday'",
              "default": "auto",
              "title": "Period"
            },
            "description": "Time period: 'auto' (detect), 'today', or 'yesterday'"
          }
        ],
        "responses": {
          "200": {
            "description": "Aggregated metrics for messages, atoms, and topics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__api__v1__schemas__dashboard__DashboardMetricsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get all users",
        "description": "Retrieve all users.\n\nReturns complete user information including computed full_name.",
        "operationId": "get_users_api_v1_users_get",
        "responses": {
          "200": {
            "description": "List of all users",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  },
                  "type": "array",
                  "title": "Response Get Users Api V1 Users Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create new user",
        "description": "Create a new user manually.\n\nUsed for manual user creation (not via Telegram auto-linking).",
        "operationId": "create_user_api_v1_users_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created user",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get user by ID",
        "description": "Retrieve a specific user by ID.\n\nRaises 404 error if user doesn't exist.",
        "operationId": "get_user_api_v1_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/telegram-profile": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get user's Telegram profile",
        "description": "Retrieve Telegram profile for a user.\n\nReturns 404 if user doesn't exist or doesn't have a Telegram profile.",
        "operationId": "get_user_telegram_profile_api_v1_users__user_id__telegram_profile_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Telegram profile details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramProfileResponse"
                }
              }
            }
          },
          "404": {
            "description": "User or TelegramProfile not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/link-telegram": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Manually link Telegram profile to user",
        "description": "Manually link an existing Telegram user to a User.\n\nThis is used when auto-linking fails or for manual correction.\nRequires that telegram_user_id exists in system (user must have sent at least one message).",
        "operationId": "link_telegram_profile_api_v1_users__user_id__link_telegram_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LinkTelegramProfileRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Linked Telegram profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramProfileResponse"
                }
              }
            }
          },
          "404": {
            "description": "User or Telegram user not found"
          },
          "409": {
            "description": "TelegramProfile already linked to another user"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages": {
      "post": {
        "tags": [
          "messages"
        ],
        "summary": "Create a new message",
        "description": "Create a new message.\n\nRequires author_id (User.id) and source_id.\nBroadcasts created message to WebSocket clients in real-time.",
        "operationId": "create_message_api_v1_messages_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Confirmation with created message ID",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      }
                    ]
                  },
                  "title": "Response Create Message Api V1 Messages Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "Get messages list with pagination",
        "description": "Retrieve messages with pagination and optional filtering.\n\nSupports filtering by author, source, topic, date range, and noise classification.\nImportance score filtering allows finding high-signal messages (>0.7) or noise (<0.3).\nReturns most recent messages first with pagination support.",
        "operationId": "get_messages_api_v1_messages_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (starting from 1)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (starting from 1)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Number of items per page",
              "default": 50,
              "title": "Page Size"
            },
            "description": "Number of items per page"
          },
          {
            "name": "author",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by author name",
              "title": "Author"
            },
            "description": "Filter by author name"
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by source name",
              "title": "Source"
            },
            "description": "Filter by source name"
          },
          {
            "name": "topic_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic ID",
              "title": "Topic Id"
            },
            "description": "Filter by topic ID"
          },
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter messages from this date",
              "title": "Date From"
            },
            "description": "Filter messages from this date"
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter messages until this date",
              "title": "Date To"
            },
            "description": "Filter messages until this date"
          },
          {
            "name": "importance_min",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 1.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by importance score >= min",
              "title": "Importance Min"
            },
            "description": "Filter by importance score >= min"
          },
          {
            "name": "importance_max",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 1.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by importance score <= max",
              "title": "Importance Max"
            },
            "description": "Filter by importance score <= max"
          },
          {
            "name": "classification",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by noise classification (signal, noise, spam, low_quality, high_quality)",
              "title": "Classification"
            },
            "description": "Filter by noise classification (signal, noise, spam, low_quality, high_quality)"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Column to sort by (author_name, source_name, analyzed, sent_at)",
              "title": "Sort By"
            },
            "description": "Column to sort by (author_name, source_name, analyzed, sent_at)"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sort order (asc or desc)",
              "default": "desc",
              "title": "Sort Order"
            },
            "description": "Sort order (asc or desc)"
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of messages with optional filters applied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedMessagesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/filters": {
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "Get message filter options",
        "description": "Get available filter options for messages.\n\nReturns unique authors, sources, date range, and total message count\nfor building filter UI components.",
        "operationId": "get_message_filters_api_v1_messages_filters_get",
        "responses": {
          "200": {
            "description": "Available filter values and message statistics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageFiltersResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/{message_id}": {
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "Get message details",
        "description": "Get message details for consumer view.\n\nReturns basic message information with author, source, and topic details\nfor displaying in ConsumerMessageModal.",
        "operationId": "get_message_details_api_v1_messages__message_id__get",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Message details for consumer view",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/{message_id}/inspect": {
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "Get full message inspection details",
        "description": "Get full inspection details for a message.\n\nReturns comprehensive data for MessageInspectModal:\n- Message metadata (content, source, timestamp)\n- Classification details (confidence, reasoning, topic)\n- Extracted atoms (entities, keywords, embeddings)\n- Classification history (reassignments, approvals)",
        "operationId": "inspect_message_api_v1_messages__message_id__inspect_get",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Complete message inspection data for MessageInspectModal",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageInspectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/{message_id}/reassign": {
      "put": {
        "tags": [
          "messages"
        ],
        "summary": "Reassign message to different topic",
        "description": "Reassign message to a different topic.\n\nSteps:\n1. Validate message exists\n2. Validate new topic exists\n3. Update message.topic_id\n4. Log history event (reassignment)\n5. Broadcast WebSocket update\n6. Return updated message",
        "operationId": "reassign_message_topic_api_v1_messages__message_id__reassign_put",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReassignRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success confirmation with updated message",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "title": "Response Reassign Message Topic Api V1 Messages  Message Id  Reassign Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/{message_id}/approve": {
      "post": {
        "tags": [
          "messages"
        ],
        "summary": "Approve message classification",
        "description": "Approve message classification as correct.\n\nSteps:\n1. Update message.status = \"approved\"\n2. Log history event\n3. Store feedback for model retraining\n4. Broadcast WebSocket update",
        "operationId": "approve_message_classification_api_v1_messages__message_id__approve_post",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success confirmation with approval status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "title": "Response Approve Message Classification Api V1 Messages  Message Id  Approve Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/{message_id}/reject": {
      "post": {
        "tags": [
          "messages"
        ],
        "summary": "Reject message classification",
        "description": "Reject message classification as incorrect.\n\nSteps:\n1. Update message.status = \"rejected\"\n2. Store rejection reason\n3. Log history event\n4. Store feedback for model retraining (negative sample)\n5. Broadcast WebSocket update",
        "operationId": "reject_message_classification_api_v1_messages__message_id__reject_post",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success confirmation with rejection status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "title": "Response Reject Message Classification Api V1 Messages  Message Id  Reject Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/activity": {
      "get": {
        "tags": [
          "statistics"
        ],
        "summary": "Get activity data",
        "description": "Get message activity data for heatmap visualization.\n\nReturns activity data points with timestamp, source, and count,\ngrouped by hour and day for the specified period.",
        "operationId": "get_activity_data_api_v1_activity_get",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "week",
                "month"
              ],
              "type": "string",
              "description": "Period type: 'week' or 'month'",
              "default": "week",
              "title": "Period"
            },
            "description": "Period type: 'week' or 'month'"
          },
          {
            "name": "month",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Month (0-11, for month period)",
              "title": "Month"
            },
            "description": "Month (0-11, for month period)"
          },
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Year (for month period)",
              "title": "Year"
            },
            "description": "Year (for month period)"
          }
        ],
        "responses": {
          "200": {
            "description": "Message activity grouped by hour and source",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityDataResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sidebar-counts": {
      "get": {
        "tags": [
          "statistics"
        ],
        "summary": "Get sidebar notification counts",
        "description": "Get notification counts for sidebar badges.\n\nReturns:\n- unclosed_runs: Count of analysis runs with status != 'closed'\n  (pending, running, completed, reviewed)\n- pending_proposals: Count of task proposals with status = 'pending'\n\nThese counts are used to display notification badges in the sidebar\nnavigation to alert the PM about items requiring attention.",
        "operationId": "get_sidebar_counts_api_v1_sidebar_counts_get",
        "responses": {
          "200": {
            "description": "Counts of unclosed runs and pending proposals for sidebar badges",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SidebarCountsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings": {
      "get": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Get webhook settings",
        "description": "Get current webhook configuration.\n\nReturns Telegram webhook config along with default protocol and host values.",
        "operationId": "get_webhook_settings_api_v1_webhook_settings_get",
        "responses": {
          "200": {
            "description": "Current webhook configuration and defaults",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookConfigResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Save webhook settings",
        "description": "Save webhook configuration without activating it.\n\nValidates and stores webhook protocol and host settings.\nDoes not set the webhook in Telegram until explicitly activated.",
        "operationId": "save_webhook_settings_api_v1_webhook_settings_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetWebhookRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Saved webhook configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramWebhookConfig"
                }
              }
            }
          },
          "400": {
            "description": "Invalid host format"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings/telegram/set": {
      "post": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Set Telegram webhook",
        "description": "Set Telegram webhook URL via Bot API.\n\nValidates settings, constructs webhook URL, and activates it in Telegram.\nSaves configuration with active status on success.",
        "operationId": "set_telegram_webhook_api_v1_webhook_settings_telegram_set_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetWebhookRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Webhook activation result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetWebhookResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid host format"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings/telegram": {
      "delete": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Delete Telegram Webhook",
        "operationId": "delete_telegram_webhook_api_v1_webhook_settings_telegram_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetWebhookResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings/telegram/info": {
      "get": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Get Telegram webhook info",
        "description": "Get current webhook information from Telegram Bot API.\n\nQueries Telegram API for webhook status, URL, certificate info,\nand pending updates count.",
        "operationId": "get_telegram_webhook_info_api_v1_webhook_settings_telegram_info_get",
        "responses": {
          "200": {
            "description": "Current webhook information from Telegram API",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "additionalProperties": {
                          "type": "string"
                        },
                        "type": "object"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "type": "object",
                  "title": "Response Get Telegram Webhook Info Api V1 Webhook Settings Telegram Info Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings/telegram/group-ids": {
      "put": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Update Telegram Group Ids",
        "operationId": "update_telegram_group_ids_api_v1_webhook_settings_telegram_group_ids_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTelegramGroupIdsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramWebhookConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings/telegram/groups": {
      "post": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Add Telegram Group",
        "operationId": "add_telegram_group_api_v1_webhook_settings_telegram_groups_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddTelegramGroupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramWebhookConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings/telegram/groups/{group_id}": {
      "delete": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Remove Telegram Group",
        "operationId": "remove_telegram_group_api_v1_webhook_settings_telegram_groups__group_id__delete",
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Group Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramWebhookConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhook-settings/telegram/groups/refresh-names": {
      "post": {
        "tags": [
          "webhook-settings"
        ],
        "summary": "Refresh Telegram Group Names",
        "operationId": "refresh_telegram_group_names_api_v1_webhook_settings_telegram_groups_refresh_names_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramWebhookConfig"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ingestion/telegram": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Start Telegram Ingestion",
        "description": "Start ingesting messages from Telegram chats.\n\nCreates a background job that fetches historical messages from specified chats.\nProgress can be tracked via WebSocket or by polling the job status endpoint.",
        "operationId": "start_telegram_ingestion_api_v1_ingestion_telegram_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TelegramIngestionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestionJobResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ingestion/jobs/{job_id}": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "Get Ingestion Job",
        "description": "Get status of an ingestion job.",
        "operationId": "get_ingestion_job_api_v1_ingestion_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageIngestionJobPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ingestion/jobs": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "List Ingestion Jobs",
        "description": "List ingestion jobs with optional status filter.",
        "operationId": "list_ingestion_jobs_api_v1_ingestion_jobs_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MessageIngestionJobPublic"
                  },
                  "title": "Response List Ingestion Jobs Api V1 Ingestion Jobs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects": {
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "List project configurations",
        "description": "Get list of all project configurations with pagination and filters.",
        "operationId": "list_projects_api_v1_projects_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by active status (null = all)",
              "title": "Is Active"
            },
            "description": "Filter by active status (null = all)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectConfigListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Create project configuration",
        "description": "Create new project configuration with keywords and settings.",
        "operationId": "create_project_api_v1_projects_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectConfigCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}": {
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Get project configuration by ID",
        "description": "Get single project configuration with full details.",
        "operationId": "get_project_api_v1_projects__project_id__get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Update project configuration",
        "description": "Update project configuration with automatic version increment.",
        "operationId": "update_project_api_v1_projects__project_id__put",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Delete project configuration",
        "description": "Delete project configuration (may fail if referenced by runs).",
        "operationId": "delete_project_api_v1_projects__project_id__delete",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/providers": {
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Create LLM provider",
        "description": "Create new LLM provider with encrypted credentials. Triggers async validation.",
        "operationId": "create_provider_api_v1_providers_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMProviderCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMProviderPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "List all providers",
        "description": "Get list of all configured LLM providers with pagination and filters.",
        "operationId": "list_providers_api_v1_providers_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          },
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter for active providers only",
              "default": false,
              "title": "Active Only"
            },
            "description": "Filter for active providers only"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LLMProviderPublic"
                  },
                  "title": "Response List Providers Api V1 Providers Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/providers/{provider_id}": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get provider by ID",
        "description": "Get single provider configuration with validation details.",
        "operationId": "get_provider_api_v1_providers__provider_id__get",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMProviderPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "providers"
        ],
        "summary": "Update provider",
        "description": "Update provider configuration. Triggers re-validation if connection details changed.",
        "operationId": "update_provider_api_v1_providers__provider_id__put",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMProviderUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMProviderPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "providers"
        ],
        "summary": "Delete provider",
        "description": "Delete provider configuration. Fails if referenced by active agents.",
        "operationId": "delete_provider_api_v1_providers__provider_id__delete",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/providers/ollama/models": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "List Ollama models",
        "description": "Fetch available models from configured Ollama host for model selection during provider setup.",
        "operationId": "list_ollama_models_api_v1_providers_ollama_models_get",
        "parameters": [
          {
            "name": "host",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Ollama host URL (e.g., 'http://localhost:11434')",
              "title": "Host"
            },
            "description": "Ollama host URL (e.g., 'http://localhost:11434')"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OllamaModelsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents": {
      "post": {
        "tags": [
          "agents"
        ],
        "summary": "Create agent",
        "description": "Create new agent configuration with prompts and model settings.",
        "operationId": "create_agent_api_v1_agents_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentConfigCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "agents"
        ],
        "summary": "List all agents",
        "description": "Get list of all configured agents with pagination and filters.",
        "operationId": "list_agents_api_v1_agents_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          },
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter for active agents only",
              "default": false,
              "title": "Active Only"
            },
            "description": "Filter for active agents only"
          },
          {
            "name": "provider_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by provider ID",
              "title": "Provider Id"
            },
            "description": "Filter by provider ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentConfigPublic"
                  },
                  "title": "Response List Agents Api V1 Agents Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}": {
      "get": {
        "tags": [
          "agents"
        ],
        "summary": "Get agent by ID",
        "description": "Get single agent configuration with provider details.",
        "operationId": "get_agent_api_v1_agents__agent_id__get",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "agents"
        ],
        "summary": "Update agent",
        "description": "Update agent configuration. Doesn't affect running instances (per FR-011).",
        "operationId": "update_agent_api_v1_agents__agent_id__put",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "agents"
        ],
        "summary": "Delete agent",
        "description": "Delete agent configuration. Running instances continue independently (per FR-033).",
        "operationId": "delete_agent_api_v1_agents__agent_id__delete",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/tasks": {
      "post": {
        "tags": [
          "agents"
        ],
        "summary": "Assign task to agent",
        "description": "Create agent-task assignment. System creates dedicated agent instance.",
        "operationId": "assign_task_api_v1_agents__agent_id__tasks_post",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentTaskAssignmentCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentTaskAssignmentPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "agents"
        ],
        "summary": "List agent's tasks",
        "description": "Get all tasks assigned to this agent.",
        "operationId": "get_agent_tasks_api_v1_agents__agent_id__tasks_get",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          },
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter for active assignments only",
              "default": false,
              "title": "Active Only"
            },
            "description": "Filter for active assignments only"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentTaskAssignmentPublic"
                  },
                  "title": "Response Get Agent Tasks Api V1 Agents  Agent Id  Tasks Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/tasks/{task_id}": {
      "delete": {
        "tags": [
          "agents"
        ],
        "summary": "Unassign task from agent",
        "description": "Remove agent-task assignment.",
        "operationId": "unassign_task_api_v1_agents__agent_id__tasks__task_id__delete",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          },
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/test": {
      "post": {
        "tags": [
          "agents"
        ],
        "summary": "Test agent with custom prompt",
        "description": "Test an agent configuration with a custom prompt.\n\nSends the provided prompt to the LLM using the agent's configuration\n(system prompt, model, temperature, etc.) and returns the response.\n\nUseful for validating agent behavior before deploying to production tasks.\nRequires the associated provider to be validated and active.\n\nArgs:\n    agent_id: Agent UUID\n    request: Test request with prompt\n    session: Database session\n\nReturns:\n    Test response with LLM output and execution metrics\n\nRaises:\n    HTTPException 404: Agent not found\n    HTTPException 400: Invalid prompt or provider configuration\n    HTTPException 500: LLM execution failed",
        "operationId": "test_agent_api_v1_agents__agent_id__test_post",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentTestRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Agent test response with LLM output",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/task-configs": {
      "post": {
        "tags": [
          "task-configs"
        ],
        "summary": "Create task configuration",
        "description": "Create new task configuration with Pydantic schema for structured outputs.",
        "operationId": "create_task_config_api_v1_task_configs_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskConfigCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "task-configs"
        ],
        "summary": "List all task configurations",
        "description": "Get list of all configured task configurations with pagination.",
        "operationId": "list_task_configs_api_v1_task_configs_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          },
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter for active tasks only",
              "default": false,
              "title": "Active Only"
            },
            "description": "Filter for active tasks only"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TaskConfigPublic"
                  },
                  "title": "Response List Task Configs Api V1 Task Configs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/task-configs/{task_id}": {
      "get": {
        "tags": [
          "task-configs"
        ],
        "summary": "Get task configuration by ID",
        "description": "Get single task configuration with Pydantic schema details.",
        "operationId": "get_task_config_api_v1_task_configs__task_id__get",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "task-configs"
        ],
        "summary": "Update task configuration",
        "description": "Update task configuration. Running instances use assignment-time schema.",
        "operationId": "update_task_config_api_v1_task_configs__task_id__put",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskConfigPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "task-configs"
        ],
        "summary": "Delete task configuration",
        "description": "Delete task configuration. Cascades to agent_task_assignments.",
        "operationId": "delete_task_config_api_v1_task_configs__task_id__delete",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assignments": {
      "get": {
        "tags": [
          "assignments"
        ],
        "summary": "List all assignments with details",
        "description": "Get all agent-task assignments with detailed information from joined tables.\n\nReturns assignment data enriched with:\n- **agent_name**: Name of the assigned agent\n- **task_name**: Name of the assigned task\n- **provider_name**: Name of the LLM provider used by the agent\n- **provider_type**: Type of the LLM provider (ollama/openai)\n\nThis endpoint performs optimized JOIN queries to fetch all related data\nin a single database roundtrip for better performance.\n\nUse filters and pagination to manage large datasets efficiently.",
        "operationId": "list_all_assignments_api_v1_assignments_get",
        "parameters": [
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter for active assignments only (is_active=true)",
              "default": false,
              "title": "Active Only"
            },
            "description": "Filter for active assignments only (is_active=true)"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip for pagination",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip for pagination"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return (max: 1000)",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return (max: 1000)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentTaskAssignmentWithDetails"
                  },
                  "title": "Response List All Assignments Api V1 Assignments Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics": {
      "get": {
        "tags": [
          "topics"
        ],
        "summary": "List topics",
        "description": "Get list of all topics with pagination, search, and sorting.",
        "operationId": "list_topics_api_v1_topics_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name or description",
              "title": "Search"
            },
            "description": "Search by name or description"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sort criteria: name_asc, name_desc, created_desc, created_asc, updated_desc",
              "default": "created_desc",
              "title": "Sort By"
            },
            "description": "Sort criteria: name_asc, name_desc, created_desc, created_asc, updated_desc"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "topics"
        ],
        "summary": "Create topic",
        "description": "Create a new topic. Icon is auto-selected if not provided.",
        "operationId": "create_topic_api_v1_topics_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TopicCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/icons": {
      "get": {
        "tags": [
          "topics"
        ],
        "summary": "List available icons",
        "description": "Get list of all available Heroicons that can be used for topics.",
        "operationId": "list_available_icons_api_v1_topics_icons_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "type": "object",
                  "title": "Response List Available Icons Api V1 Topics Icons Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/recent": {
      "get": {
        "tags": [
          "topics"
        ],
        "summary": "Get recent topics",
        "description": "Retrieve topics ordered by last message activity with filtering by time period.",
        "operationId": "get_recent_topics_api_v1_topics_recent_get",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TimePeriod"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Time period filter (today, yesterday, week, month)",
              "title": "Period"
            },
            "description": "Time period filter (today, yesterday, week, month)"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Custom start date for filtering (ISO 8601)",
              "title": "Start Date"
            },
            "description": "Custom start date for filtering (ISO 8601)"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Custom end date for filtering (ISO 8601)",
              "title": "End Date"
            },
            "description": "Custom end date for filtering (ISO 8601)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of topics to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of topics to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecentTopicsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}": {
      "get": {
        "tags": [
          "topics"
        ],
        "summary": "Get topic by ID",
        "description": "Retrieve a specific topic by its ID.",
        "operationId": "get_topic_api_v1_topics__topic_id__get",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "topics"
        ],
        "summary": "Update topic",
        "description": "Update an existing topic by ID.",
        "operationId": "update_topic_api_v1_topics__topic_id__patch",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TopicUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}/suggest-color": {
      "get": {
        "tags": [
          "topics"
        ],
        "summary": "Suggest color for topic",
        "description": "Auto-suggest color based on topic name and icon",
        "operationId": "suggest_topic_color_api_v1_topics__topic_id__suggest_color_get",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Suggest Topic Color Api V1 Topics  Topic Id  Suggest Color Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}/atoms": {
      "get": {
        "tags": [
          "topics"
        ],
        "summary": "Get atoms for topic",
        "description": "Retrieve all atoms associated with a specific topic.",
        "operationId": "get_topic_atoms_api_v1_topics__topic_id__atoms_get",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AtomPublic"
                  },
                  "title": "Response Get Topic Atoms Api V1 Topics  Topic Id  Atoms Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}/messages": {
      "get": {
        "tags": [
          "topics"
        ],
        "summary": "Get messages for topic",
        "description": "Retrieve all messages associated with a specific topic.",
        "operationId": "get_topic_messages_api_v1_topics__topic_id__messages_get",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MessageResponse"
                  },
                  "title": "Response Get Topic Messages Api V1 Topics  Topic Id  Messages Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms": {
      "get": {
        "tags": [
          "atoms"
        ],
        "summary": "List atoms",
        "description": "Get list of all atoms with pagination.",
        "operationId": "list_atoms_api_v1_atoms_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AtomListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "atoms"
        ],
        "summary": "Create atom",
        "description": "Create a new atomic knowledge unit.",
        "operationId": "create_atom_api_v1_atoms_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AtomCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AtomPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/{atom_id}": {
      "get": {
        "tags": [
          "atoms"
        ],
        "summary": "Get atom by ID",
        "description": "Retrieve a specific atom by its ID.",
        "operationId": "get_atom_api_v1_atoms__atom_id__get",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AtomPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "atoms"
        ],
        "summary": "Update atom",
        "description": "Update an existing atom by ID.",
        "operationId": "update_atom_api_v1_atoms__atom_id__patch",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AtomUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AtomPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "atoms"
        ],
        "summary": "Delete atom",
        "description": "Delete an atom by ID. Use with caution.",
        "operationId": "delete_atom_api_v1_atoms__atom_id__delete",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/bulk-approve": {
      "post": {
        "tags": [
          "atoms"
        ],
        "summary": "Bulk approve atoms",
        "description": "Approve multiple atoms in a single transaction with partial success support.",
        "operationId": "bulk_approve_atoms_api_v1_atoms_bulk_approve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkApproveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkApproveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/bulk-archive": {
      "post": {
        "tags": [
          "atoms"
        ],
        "summary": "Bulk archive atoms",
        "description": "Archive multiple atoms in a single transaction with partial success support.",
        "operationId": "bulk_archive_atoms_api_v1_atoms_bulk_archive_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkArchiveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkArchiveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/bulk-delete": {
      "post": {
        "tags": [
          "atoms"
        ],
        "summary": "Bulk delete atoms",
        "description": "Delete multiple atoms permanently in a single transaction with partial success support.",
        "operationId": "bulk_delete_atoms_api_v1_atoms_bulk_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkDeleteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkDeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/bulk-reject": {
      "post": {
        "tags": [
          "atoms"
        ],
        "summary": "Bulk reject atoms",
        "description": "Reject multiple atoms by archiving them in a single transaction.",
        "operationId": "bulk_reject_atoms_api_v1_atoms_bulk_reject_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkRejectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkRejectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/{atom_id}/topics/{topic_id}": {
      "post": {
        "tags": [
          "atoms"
        ],
        "summary": "Link atom to topic",
        "description": "Create a relationship between an atom and a topic.",
        "operationId": "link_atom_to_topic_api_v1_atoms__atom_id__topics__topic_id__post",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          },
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          },
          {
            "name": "position",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Display order within topic",
              "title": "Position"
            },
            "description": "Display order within topic"
          },
          {
            "name": "note",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Contextual note about the relationship",
              "title": "Note"
            },
            "description": "Contextual note about the relationship"
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Link Atom To Topic Api V1 Atoms  Atom Id  Topics  Topic Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/embeddings/messages/batch": {
      "post": {
        "tags": [
          "embeddings"
        ],
        "summary": "Generate Batch Embeddings",
        "description": "Generate embeddings for multiple messages in background.\n\nQueues background task to process messages in batches. Returns immediately\nwith task_id for tracking progress. Task handles errors gracefully and\ntracks success/failed/skipped counts.\n\nArgs:\n    request: Request containing message_ids and provider_id\n    session: Database session (injected)\n\nReturns:\n    BatchEmbedResponse with task_id and message count\n\nRaises:\n    404: Provider not found\n    400: Invalid request (empty message_ids list)\n\nExample:\n    ```\n    POST / api / v1 / embeddings / messages / batch\n    {\"message_ids\": [1, 2, 3, 4, 5], \"provider_id\": \"550e8400-e29b-41d4-a716-446655440000\"}\n    ```\n\n    Response:\n    ```\n    {\"task_id\": \"abc123...\", \"count\": 5, \"provider_id\": \"550e8400-e29b-41d4-a716-446655440000\"}\n    ```",
        "operationId": "generate_batch_embeddings_api_v1_embeddings_messages_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchEmbedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchEmbedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/embeddings/atoms/batch": {
      "post": {
        "tags": [
          "embeddings"
        ],
        "summary": "Generate Batch Atom Embeddings",
        "description": "Generate embeddings for multiple atoms in background.\n\nQueues background task to process atoms in batches. Returns immediately\nwith task_id for tracking progress. Task handles errors gracefully and\ntracks success/failed/skipped counts.\n\nArgs:\n    request: Request containing atom_ids and provider_id\n    session: Database session (injected)\n\nReturns:\n    BatchEmbedResponse with task_id and atom count\n\nRaises:\n    404: Provider not found\n    400: Invalid request (empty atom_ids list)\n\nExample:\n    ```\n    POST / api / v1 / embeddings / atoms / batch\n    {\"atom_ids\": [1, 2, 3, 4, 5], \"provider_id\": \"550e8400-e29b-41d4-a716-446655440000\"}\n    ```\n\n    Response:\n    ```\n    {\"task_id\": \"def456...\", \"count\": 5, \"provider_id\": \"550e8400-e29b-41d4-a716-446655440000\"}\n    ```",
        "operationId": "generate_batch_atom_embeddings_api_v1_embeddings_atoms_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchEmbedAtomsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchEmbedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/embeddings/messages/{message_id}": {
      "post": {
        "tags": [
          "embeddings"
        ],
        "summary": "Generate Message Embedding",
        "description": "Generate embedding for a single message.\n\nUses specified LLM provider to generate vector embedding for message content.\nIf message already has embedding, operation is skipped.\n\nArgs:\n    message_id: ID of message to embed\n    request: Request containing provider_id\n    session: Database session (injected)\n\nReturns:\n    EmbedResponse with embedding status and length\n\nRaises:\n    404: Message or Provider not found\n    400: Provider doesn't support embeddings\n    500: Embedding generation failed\n\nExample:\n    ```\n    POST / api / v1 / embeddings / messages / 123\n    {\"provider_id\": \"550e8400-e29b-41d4-a716-446655440000\"}\n    ```",
        "operationId": "generate_message_embedding_api_v1_embeddings_messages__message_id__post",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmbedRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmbedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/embeddings/atoms/{atom_id}": {
      "post": {
        "tags": [
          "embeddings"
        ],
        "summary": "Generate Atom Embedding",
        "description": "Generate embedding for a single atom.\n\nUses specified LLM provider to generate vector embedding for atom content\n(combination of title and content). If atom already has embedding, operation is skipped.\n\nArgs:\n    atom_id: ID of atom to embed\n    request: Request containing provider_id\n    session: Database session (injected)\n\nReturns:\n    EmbedResponse with embedding status and length\n\nRaises:\n    404: Atom or Provider not found\n    400: Provider doesn't support embeddings\n    500: Embedding generation failed\n\nExample:\n    ```\n    POST / api / v1 / embeddings / atoms / 456\n    {\"provider_id\": \"550e8400-e29b-41d4-a716-446655440000\"}\n    ```",
        "operationId": "generate_atom_embedding_api_v1_embeddings_atoms__atom_id__post",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmbedRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmbedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/embeddings/topics/{topic_id}": {
      "post": {
        "tags": [
          "embeddings"
        ],
        "summary": "Generate Topic Embedding",
        "description": "Generate embedding for a single topic.\n\nUses specified LLM provider to generate vector embedding for topic content\n(combination of name and description). If topic already has embedding, operation is skipped.\n\nArgs:\n    topic_id: ID of topic to embed\n    request: Request containing provider_id\n    session: Database session (injected)\n\nReturns:\n    EmbedResponse with embedding status and length\n\nRaises:\n    404: Topic or Provider not found\n    400: Provider doesn't support embeddings\n    500: Embedding generation failed\n\nExample:\n    ```\n    POST / api / v1 / embeddings / topics / 550e8400-e29b-41d4-a716-446655440000\n    {\"provider_id\": \"550e8400-e29b-41d4-a716-446655440000\"}\n    ```",
        "operationId": "generate_topic_embedding_api_v1_embeddings_topics__topic_id__post",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmbedRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmbedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search/messages": {
      "get": {
        "tags": [
          "semantic-search"
        ],
        "summary": "Search messages by semantic similarity",
        "description": "Search messages using semantic similarity to find relevant content.\n\nUses vector embeddings to find messages that are semantically similar to the\nquery text, even if they don't contain the exact words. Results are ranked\nby similarity score.\n\nExample:\n    GET /api/v1/search/messages?query=bug+in+production&provider_id=550e8400-e29b-41d4-a716-446655440000&limit=10&threshold=0.7\n\nArgs:\n    query: Natural language search query\n    provider_id: UUID of LLM provider to use for embedding generation\n    limit: Maximum results to return (1-100)\n    threshold: Minimum similarity score (0.0-1.0)\n\nReturns:\n    List of messages with similarity scores, ordered by relevance",
        "operationId": "search_messages_semantic_api_v1_search_messages_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query text",
              "title": "Query"
            },
            "description": "Search query text"
          },
          {
            "name": "provider_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "LLM provider UUID for generating query embeddings",
              "title": "Provider Id"
            },
            "description": "LLM provider UUID for generating query embeddings"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Minimum similarity score",
              "default": 0.7,
              "title": "Threshold"
            },
            "description": "Minimum similarity score"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages ranked by semantic similarity to query",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/app__api__v1__semantic_search__MessageSearchResult"
                  },
                  "title": "Response Search Messages Semantic Api V1 Search Messages Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search/messages/{message_id}/similar": {
      "get": {
        "tags": [
          "semantic-search"
        ],
        "summary": "Find messages similar to a given message",
        "description": "Find messages similar to a specific message using its embedding.\n\nUses the message's existing vector embedding to find other semantically\nsimilar messages. Useful for exploring related content or finding\nconversations on similar topics.\n\nExample:\n    GET /api/v1/search/messages/123/similar?limit=5&threshold=0.8\n\nArgs:\n    message_id: ID of the reference message\n    limit: Maximum results to return (1-100)\n    threshold: Minimum similarity score (0.0-1.0)\n\nReturns:\n    List of similar messages with similarity scores, ordered by relevance",
        "operationId": "find_similar_messages_api_v1_search_messages__message_id__similar_get",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Minimum similarity score",
              "default": 0.7,
              "title": "Threshold"
            },
            "description": "Minimum similarity score"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages semantically similar to the specified message",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/app__api__v1__semantic_search__MessageSearchResult"
                  },
                  "title": "Response Find Similar Messages Api V1 Search Messages  Message Id  Similar Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search/messages/{message_id}/duplicates": {
      "get": {
        "tags": [
          "semantic-search"
        ],
        "summary": "Find potential duplicate messages",
        "description": "Find potential duplicate messages with very high similarity.\n\nUses a high similarity threshold (default 0.95) to detect near-duplicate\ncontent. Useful for deduplication, spam detection, or finding repeated messages.\n\nExample:\n    GET /api/v1/search/messages/123/duplicates?threshold=0.95\n\nArgs:\n    message_id: ID of the reference message\n    threshold: High similarity threshold (0.0-1.0, default 0.95)\n\nReturns:\n    List of potential duplicate messages with similarity scores",
        "operationId": "find_duplicate_messages_api_v1_search_messages__message_id__duplicates_get",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "High similarity threshold for duplicates",
              "default": 0.95,
              "title": "Threshold"
            },
            "description": "High similarity threshold for duplicates"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages with very high similarity (potential duplicates)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/app__api__v1__semantic_search__MessageSearchResult"
                  },
                  "title": "Response Find Duplicate Messages Api V1 Search Messages  Message Id  Duplicates Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search/atoms": {
      "get": {
        "tags": [
          "semantic-search"
        ],
        "summary": "Search atoms by semantic similarity",
        "description": "Search atoms using semantic similarity to find relevant knowledge units.\n\nUses vector embeddings to find atoms (atomic knowledge units) that are\nsemantically similar to the query. Searches across both atom titles and\ncontent. Results are ranked by similarity score.\n\nExample:\n    GET /api/v1/search/atoms?query=dependency+injection&provider_id=550e8400-e29b-41d4-a716-446655440000&limit=10&threshold=0.7\n\nArgs:\n    query: Natural language search query\n    provider_id: UUID of LLM provider to use for embedding generation\n    limit: Maximum results to return (1-100)\n    threshold: Minimum similarity score (0.0-1.0)\n\nReturns:\n    List of atoms with similarity scores, ordered by relevance",
        "operationId": "search_atoms_semantic_api_v1_search_atoms_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query text",
              "title": "Query"
            },
            "description": "Search query text"
          },
          {
            "name": "provider_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "LLM provider UUID for generating query embeddings",
              "title": "Provider Id"
            },
            "description": "LLM provider UUID for generating query embeddings"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Minimum similarity score",
              "default": 0.7,
              "title": "Threshold"
            },
            "description": "Minimum similarity score"
          }
        ],
        "responses": {
          "200": {
            "description": "List of atoms ranked by semantic similarity to query",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AtomSearchResult"
                  },
                  "title": "Response Search Atoms Semantic Api V1 Search Atoms Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search/atoms/{atom_id}/similar": {
      "get": {
        "tags": [
          "semantic-search"
        ],
        "summary": "Find atoms similar to a given atom",
        "description": "Find atoms similar to a specific atom using its embedding.\n\nUses the atom's existing vector embedding to find other semantically\nsimilar knowledge units. Useful for exploring related concepts or\ndiscovering connections in the knowledge graph.\n\nExample:\n    GET /api/v1/search/atoms/42/similar?limit=5&threshold=0.8\n\nArgs:\n    atom_id: ID of the reference atom\n    limit: Maximum results to return (1-100)\n    threshold: Minimum similarity score (0.0-1.0)\n\nReturns:\n    List of similar atoms with similarity scores, ordered by relevance",
        "operationId": "find_similar_atoms_api_v1_search_atoms__atom_id__similar_get",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Atom Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Minimum similarity score",
              "default": 0.7,
              "title": "Threshold"
            },
            "description": "Minimum similarity score"
          }
        ],
        "responses": {
          "200": {
            "description": "List of atoms semantically similar to the specified atom",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AtomSearchResult"
                  },
                  "title": "Response Find Similar Atoms Api V1 Search Atoms  Atom Id  Similar Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search/topics": {
      "get": {
        "tags": [
          "semantic-search"
        ],
        "summary": "Search topics by semantic similarity",
        "description": "Search topics using semantic similarity to find relevant categories.\n\nUses vector embeddings to find topics that are semantically similar to the\nquery text. Searches across both topic names and descriptions. Results are\nranked by similarity score.\n\nExample:\n    GET /api/v1/search/topics?query=mobile+development&provider_id=550e8400-e29b-41d4-a716-446655440000&limit=10&threshold=0.7\n\nArgs:\n    query: Natural language search query\n    provider_id: UUID of LLM provider to use for embedding generation\n    limit: Maximum results to return (1-100)\n    threshold: Minimum similarity score (0.0-1.0)\n\nReturns:\n    List of topics with similarity scores, ordered by relevance",
        "operationId": "search_topics_semantic_api_v1_search_topics_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query text",
              "title": "Query"
            },
            "description": "Search query text"
          },
          {
            "name": "provider_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "LLM provider UUID for generating query embeddings",
              "title": "Provider Id"
            },
            "description": "LLM provider UUID for generating query embeddings"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Minimum similarity score",
              "default": 0.7,
              "title": "Threshold"
            },
            "description": "Minimum similarity score"
          }
        ],
        "responses": {
          "200": {
            "description": "List of topics ranked by semantic similarity to query",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/app__api__v1__semantic_search__TopicSearchResult"
                  },
                  "title": "Response Search Topics Semantic Api V1 Search Topics Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search": {
      "get": {
        "tags": [
          "search"
        ],
        "summary": "Search topics and messages",
        "description": "Search across topics and messages using PostgreSQL Full-Text Search with ranked results.",
        "operationId": "search_api_v1_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 500,
              "description": "Search query string",
              "title": "Q"
            },
            "description": "Search query string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResultsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/noise/stats": {
      "get": {
        "tags": [
          "noise"
        ],
        "summary": "Get noise filtering statistics",
        "description": "Retrieve statistics on signal vs noise classification with 7-day trends and top noise sources.",
        "operationId": "get_noise_stats_api_v1_noise_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoiseStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/noise/score/{message_id}": {
      "post": {
        "tags": [
          "noise"
        ],
        "summary": "Score a specific message",
        "description": "Trigger background task to calculate importance score for a message using ImportanceScorer.",
        "operationId": "score_message_api_v1_noise_score__message_id__post",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      }
                    ]
                  },
                  "title": "Response Score Message Api V1 Noise Score  Message Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/noise/score-batch": {
      "post": {
        "tags": [
          "noise"
        ],
        "summary": "Score unscored messages in batch",
        "description": "Trigger background task to score messages with NULL importance_score. Processes up to 'limit' messages.",
        "operationId": "score_batch_api_v1_noise_score_batch_post",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of messages to score",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of messages to score"
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      }
                    ]
                  },
                  "title": "Response Score Batch Api V1 Noise Score Batch Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/extract": {
      "post": {
        "tags": [
          "knowledge"
        ],
        "summary": "Trigger Knowledge Extraction",
        "description": "Trigger manual knowledge extraction from selected messages.\n\nQueues a background task to analyze messages and extract:\n- **Topics**: Discussion themes and contexts\n- **Atoms**: Atomic knowledge units (problems, solutions, decisions, insights)\n- **Links**: Relationships between atoms\n\nThe task processes messages in batches and broadcasts real-time updates via WebSocket.\n\n**Message Selection Methods:**\n1. **Direct IDs**: Provide `message_ids` list (1-100, 10-50 recommended)\n2. **Time Period**: Provide `period` object with:\n   - `period_type`: \"last_24h\", \"last_7d\", \"last_30d\", or \"custom\"\n   - `topic_id`: Optional topic filter\n   - `start_date`, `end_date`: Required for custom periods\n\n**WebSocket Events:**\n- `knowledge.extraction_started` - Extraction begins\n- `knowledge.topic_created` - New topic created\n- `knowledge.atom_created` - New atom created\n- `knowledge.version_created` - Version created for existing entity\n- `knowledge.extraction_completed` - Extraction finished\n- `knowledge.extraction_failed` - Extraction failed\n\n**Recommended batch size:** 10-50 messages for optimal extraction quality.\n\nArgs:\n    request: Extraction request with message IDs/period and agent config\n    db: Database session\n\nReturns:\n    Response confirming extraction task was queued\n\nRaises:\n    HTTPException 404: If agent config not found\n    HTTPException 400: If request validation fails or no messages found",
        "operationId": "trigger_knowledge_extraction_api_v1_knowledge_extract_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KnowledgeExtractionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeExtractionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}/versions": {
      "get": {
        "tags": [
          "versions"
        ],
        "summary": "Get all versions for a topic",
        "description": "Retrieve all versions for a specific topic, ordered newest first",
        "operationId": "get_topic_versions_api_v1_topics__topic_id__versions_get",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TopicVersionResponse"
                  },
                  "title": "Response Get Topic Versions Api V1 Topics  Topic Id  Versions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}/versions/{version}/diff": {
      "get": {
        "tags": [
          "versions"
        ],
        "summary": "Get diff between topic versions",
        "description": "Generate diff between two topic versions.\n\n- **version**: Version to compare (typically newer)\n- **compare_to**: Base version to compare against (typically older)",
        "operationId": "get_topic_version_diff_api_v1_topics__topic_id__versions__version__diff_get",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          },
          {
            "name": "compare_to",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Compare To"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionDiffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}/versions/{version}/approve": {
      "post": {
        "tags": [
          "versions"
        ],
        "summary": "Approve topic version",
        "description": "Approve a topic version and apply changes to the main topic entity.\n\nThis action:\n1. Marks the version as approved\n2. Applies version data to the main Topic record\n3. Sets approved_at timestamp",
        "operationId": "approve_topic_version_api_v1_topics__topic_id__versions__version__approve_post",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveVersionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/topics/{topic_id}/versions/{version}/reject": {
      "post": {
        "tags": [
          "versions"
        ],
        "summary": "Reject topic version",
        "description": "Reject a topic version (mark as reviewed but not applied)",
        "operationId": "reject_topic_version_api_v1_topics__topic_id__versions__version__reject_post",
        "parameters": [
          {
            "name": "topic_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Topic Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectVersionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/{atom_id}/versions": {
      "get": {
        "tags": [
          "versions"
        ],
        "summary": "Get all versions for an atom",
        "description": "Retrieve all versions for a specific atom, ordered newest first",
        "operationId": "get_atom_versions_api_v1_atoms__atom_id__versions_get",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AtomVersionResponse"
                  },
                  "title": "Response Get Atom Versions Api V1 Atoms  Atom Id  Versions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/{atom_id}/versions/{version}/diff": {
      "get": {
        "tags": [
          "versions"
        ],
        "summary": "Get diff between atom versions",
        "description": "Generate diff between two atom versions",
        "operationId": "get_atom_version_diff_api_v1_atoms__atom_id__versions__version__diff_get",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          },
          {
            "name": "compare_to",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Compare To"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionDiffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/{atom_id}/versions/{version}/approve": {
      "post": {
        "tags": [
          "versions"
        ],
        "summary": "Approve atom version",
        "description": "Approve an atom version and apply changes to the main atom entity",
        "operationId": "approve_atom_version_api_v1_atoms__atom_id__versions__version__approve_post",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveVersionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AtomVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/atoms/{atom_id}/versions/{version}/reject": {
      "post": {
        "tags": [
          "versions"
        ],
        "summary": "Reject atom version",
        "description": "Reject an atom version",
        "operationId": "reject_atom_version_api_v1_atoms__atom_id__versions__version__reject_post",
        "parameters": [
          {
            "name": "atom_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Atom Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectVersionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AtomVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bulk-approve": {
      "post": {
        "tags": [
          "versions"
        ],
        "summary": "Bulk approve versions",
        "description": "Approve multiple versions in a single transaction-safe operation.\n\nValidates entity_type and processes all versions atomically.\nReturns success count and any failed IDs with error messages.",
        "operationId": "bulk_approve_versions_api_v1_bulk_approve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkVersionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bulk-reject": {
      "post": {
        "tags": [
          "versions"
        ],
        "summary": "Bulk reject versions",
        "description": "Reject multiple versions in a single operation.\n\nMarks versions as reviewed but not applied.\nReturns success count and any failed IDs with error messages.",
        "operationId": "bulk_reject_versions_api_v1_bulk_reject_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkVersionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pending-count": {
      "get": {
        "tags": [
          "versions"
        ],
        "summary": "Get pending versions count",
        "description": "Get count of pending (unapproved) versions across all entities.\n\nReturns total count and breakdown by entity type (topics/atoms).",
        "operationId": "get_pending_count_api_v1_pending_count_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PendingVersionsCountResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scheduler/jobs": {
      "get": {
        "tags": [
          "scheduler"
        ],
        "summary": "List scheduled jobs",
        "description": "Get list of all scheduled jobs with pagination and status information.",
        "operationId": "list_jobs_api_v1_scheduler_jobs_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJobListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "scheduler"
        ],
        "summary": "Create scheduled job",
        "description": "Create a new scheduled job with cron expression.",
        "operationId": "create_job_api_v1_scheduler_jobs_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledJobCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJobPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scheduler/jobs/{job_id}": {
      "get": {
        "tags": [
          "scheduler"
        ],
        "summary": "Get job details",
        "description": "Retrieve detailed information about a specific scheduled job.",
        "operationId": "get_job_api_v1_scheduler_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJobPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "scheduler"
        ],
        "summary": "Update scheduled job",
        "description": "Update job configuration including schedule and task name.",
        "operationId": "update_job_api_v1_scheduler_jobs__job_id__put",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledJobUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJobPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "scheduler"
        ],
        "summary": "Delete scheduled job",
        "description": "Remove a scheduled job and unschedule its executions.",
        "operationId": "delete_job_api_v1_scheduler_jobs__job_id__delete",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scheduler/jobs/{job_id}/toggle": {
      "post": {
        "tags": [
          "scheduler"
        ],
        "summary": "Toggle job status",
        "description": "Enable or disable a scheduled job.",
        "operationId": "toggle_job_api_v1_scheduler_jobs__job_id__toggle_post",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJobPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scheduler/jobs/{job_id}/trigger": {
      "post": {
        "tags": [
          "scheduler"
        ],
        "summary": "Manually trigger job",
        "description": "Execute a job immediately, outside its normal schedule.",
        "operationId": "trigger_job_api_v1_scheduler_jobs__job_id__trigger_post",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJobPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/stats": {
      "get": {
        "tags": [
          "automation"
        ],
        "summary": "Get automation statistics",
        "description": "Retrieve KPI metrics for automation dashboard.",
        "operationId": "get_automation_stats_api_v1_automation_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutomationStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/trends": {
      "get": {
        "tags": [
          "automation"
        ],
        "summary": "Get automation trends",
        "description": "Retrieve automation trends over time for dashboard graphs.",
        "operationId": "get_automation_trends_api_v1_automation_trends_get",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(7d|30d|90d)$",
              "description": "Time period: 7d, 30d, or 90d",
              "default": "30d",
              "title": "Period"
            },
            "description": "Time period: 7d, 30d, or 90d"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutomationTrendsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/templates": {
      "get": {
        "tags": [
          "automation",
          "automation"
        ],
        "summary": "Get rule templates",
        "description": "Retrieve pre-built rule templates for common automation scenarios.",
        "operationId": "get_rule_templates_api_v1_automation_templates_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "type": "array",
                  "title": "Response Get Rule Templates Api V1 Automation Templates Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/rules": {
      "get": {
        "tags": [
          "automation"
        ],
        "summary": "List automation rules",
        "description": "Get list of all automation rules with pagination and statistics.",
        "operationId": "list_rules_api_v1_automation_rules_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          },
          {
            "name": "enabled",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by enabled status",
              "title": "Enabled"
            },
            "description": "Filter by enabled status"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutomationRuleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "automation"
        ],
        "summary": "Create automation rule",
        "description": "Create a new automation rule with conditions and action.",
        "operationId": "create_rule_api_v1_automation_rules_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutomationRuleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutomationRulePublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/rules/{rule_id}": {
      "get": {
        "tags": [
          "automation"
        ],
        "summary": "Get rule details",
        "description": "Retrieve detailed information about a specific automation rule.",
        "operationId": "get_rule_api_v1_automation_rules__rule_id__get",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutomationRulePublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "automation"
        ],
        "summary": "Update automation rule",
        "description": "Update rule configuration including conditions and priority.",
        "operationId": "update_rule_api_v1_automation_rules__rule_id__put",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutomationRuleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutomationRulePublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "automation"
        ],
        "summary": "Delete automation rule",
        "description": "Remove an automation rule permanently.",
        "operationId": "delete_rule_api_v1_automation_rules__rule_id__delete",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/rules/{rule_id}/toggle": {
      "post": {
        "tags": [
          "automation"
        ],
        "summary": "Toggle rule status",
        "description": "Enable or disable an automation rule.",
        "operationId": "toggle_rule_api_v1_automation_rules__rule_id__toggle_post",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutomationRulePublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/rules/preview": {
      "post": {
        "tags": [
          "automation"
        ],
        "summary": "Preview rule impact",
        "description": "Preview how many pending versions would be affected by a rule.",
        "operationId": "preview_rule_api_v1_automation_rules_preview_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RulePreviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RulePreviewResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/automation/rules/{rule_id}/stats": {
      "get": {
        "tags": [
          "automation"
        ],
        "summary": "Get rule statistics",
        "description": "Get detailed statistics for a rule's execution history.",
        "operationId": "get_rule_stats_api_v1_automation_rules__rule_id__stats_get",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Rule Stats Api V1 Automation Rules  Rule Id  Stats Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/metrics/dashboard": {
      "get": {
        "tags": [
          "metrics",
          "metrics"
        ],
        "summary": "Get dashboard metrics",
        "description": "Get aggregated metrics for the admin dashboard.\n\nReturns key metrics including topic quality scores, noise filtering stats,\nclassification accuracy, and active analysis runs.\n\n**Use Cases:**\n- Display system health on admin dashboard\n- Monitor key performance indicators\n- Track trends over time\n\n**Returns:**\n- Topic quality score (0-100)\n- Noise ratio (percentage)\n- Classification accuracy (percentage)\n- Active analysis runs count\n- Trend data for each metric\n\n**Example:**\n```\nGET / api / v1 / metrics / dashboard\n```",
        "operationId": "get_dashboard_metrics_api_v1_metrics_dashboard_get",
        "responses": {
          "200": {
            "description": "Key metrics for admin dashboard",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__schemas__metrics__DashboardMetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/prompts/validate": {
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Validate Prompt",
        "description": "Validate a prompt before saving.\n\nChecks:\n- Character limits (50-2000)\n- Required placeholders presence\n- Basic syntax validation\n\nArgs:\n    request: Validation request with prompt text and type\n\nReturns:\n    Validation response with errors (if any)",
        "operationId": "validate_prompt_api_v1_prompts_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptValidationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/prompts": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompts",
        "description": "List all configured prompts.\n\nReturns:\n    List of all prompt configurations",
        "operationId": "list_prompts_api_v1_prompts_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/prompts/{prompt_type}": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Get Prompt",
        "description": "Get specific prompt configuration.\n\nArgs:\n    prompt_type: Type of prompt to retrieve\n\nReturns:\n    Prompt configuration\n\nRaises:\n    HTTPException: If prompt type not found",
        "operationId": "get_prompt_api_v1_prompts__prompt_type__get",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/PromptType"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "prompts"
        ],
        "summary": "Update Prompt",
        "description": "Update a prompt configuration.\n\nValidates prompt before saving and updates the configuration.\n\nArgs:\n    prompt_type: Type of prompt to update\n    request: Update request with new prompt text\n\nReturns:\n    Updated prompt configuration\n\nRaises:\n    HTTPException: If validation fails",
        "operationId": "update_prompt_api_v1_prompts__prompt_type__put",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/PromptType"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/webhook/telegram": {
      "post": {
        "tags": [
          "webhooks"
        ],
        "summary": "Telegram Webhook",
        "operationId": "telegram_webhook_webhook_telegram_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Telegram Webhook Webhook Telegram Post"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Root  Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Root Post",
        "operationId": "root_post__post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Root Post  Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/health": {
      "get": {
        "summary": "Legacy Health Check",
        "description": "Legacy health check endpoint for backward compatibility",
        "operationId": "legacy_health_check_api_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Legacy Health Check Api Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ActivityDataPoint": {
        "properties": {
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "source",
          "count"
        ],
        "title": "ActivityDataPoint"
      },
      "ActivityDataResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/ActivityDataPoint"
            },
            "type": "array",
            "title": "Data"
          },
          "period": {
            "$ref": "#/components/schemas/ActivityPeriod"
          },
          "total_messages": {
            "type": "integer",
            "title": "Total Messages"
          }
        },
        "type": "object",
        "required": [
          "data",
          "period",
          "total_messages"
        ],
        "title": "ActivityDataResponse"
      },
      "ActivityPeriod": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type"
          },
          "start": {
            "type": "string",
            "title": "Start"
          },
          "end": {
            "type": "string",
            "title": "End"
          },
          "month": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Month"
          },
          "year": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Year"
          }
        },
        "type": "object",
        "required": [
          "type",
          "start",
          "end"
        ],
        "title": "ActivityPeriod"
      },
      "AddTelegramGroupRequest": {
        "properties": {
          "group_id": {
            "type": "integer",
            "title": "Group Id",
            "description": "Telegram chat/group ID to add"
          }
        },
        "type": "object",
        "required": [
          "group_id"
        ],
        "title": "AddTelegramGroupRequest",
        "description": "Request schema for adding a Telegram group"
      },
      "AgentConfigCreate": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name",
            "description": "Agent name (required, non-empty)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "provider_id": {
            "type": "string",
            "format": "uuid",
            "title": "Provider Id"
          },
          "model_name": {
            "type": "string",
            "minLength": 1,
            "title": "Model Name",
            "description": "Model name (required, non-empty)"
          },
          "system_prompt": {
            "type": "string",
            "minLength": 1,
            "title": "System Prompt",
            "description": "System prompt (required, non-empty)"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature",
            "description": "Temperature (0.0-1.0)",
            "default": 0.7
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens",
            "description": "Maximum tokens (must be positive)"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "provider_id",
          "model_name",
          "system_prompt"
        ],
        "title": "AgentConfigCreate",
        "description": "Schema for creating new agent configuration."
      },
      "AgentConfigPublic": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "provider_id": {
            "type": "string",
            "format": "uuid",
            "title": "Provider Id"
          },
          "model_name": {
            "type": "string",
            "title": "Model Name"
          },
          "system_prompt": {
            "type": "string",
            "title": "System Prompt"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature"
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "provider_id",
          "model_name",
          "system_prompt",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "AgentConfigPublic",
        "description": "Public schema for agent configuration responses."
      },
      "AgentConfigUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Agent name (non-empty if provided)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Id"
          },
          "model_name": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Name",
            "description": "Model name (non-empty if provided)"
          },
          "system_prompt": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "System Prompt",
            "description": "System prompt (non-empty if provided)"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature",
            "description": "Temperature (0.0-1.0 if provided)"
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens",
            "description": "Maximum tokens (positive if provided)"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "AgentConfigUpdate",
        "description": "Schema for updating agent configuration."
      },
      "AgentTaskAssignmentCreate": {
        "properties": {
          "agent_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id"
          },
          "task_id": {
            "type": "string",
            "format": "uuid",
            "title": "Task Id"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "task_id"
        ],
        "title": "AgentTaskAssignmentCreate",
        "description": "Schema for creating new agent-task assignment."
      },
      "AgentTaskAssignmentPublic": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "agent_id": {
            "type": "string",
            "format": "uuid",
            "title": "Agent Id"
          },
          "task_id": {
            "type": "string",
            "format": "uuid",
            "title": "Task Id"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "assigned_at": {
            "type": "string",
            "format": "date-time",
            "title": "Assigned At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "agent_id",
          "task_id",
          "is_active",
          "assigned_at"
        ],
        "title": "AgentTaskAssignmentPublic",
        "description": "Public schema for agent-task assignment responses."
      },
      "AgentTaskAssignmentWithDetails": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "agent_id": {
            "type": "string",
            "format": "uuid",
            "title": "Agent Id"
          },
          "task_id": {
            "type": "string",
            "format": "uuid",
            "title": "Task Id"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "assigned_at": {
            "type": "string",
            "format": "date-time",
            "title": "Assigned At"
          },
          "agent_name": {
            "type": "string",
            "title": "Agent Name"
          },
          "task_name": {
            "type": "string",
            "title": "Task Name"
          },
          "provider_name": {
            "type": "string",
            "title": "Provider Name"
          },
          "provider_type": {
            "type": "string",
            "title": "Provider Type"
          }
        },
        "type": "object",
        "required": [
          "id",
          "agent_id",
          "task_id",
          "is_active",
          "assigned_at",
          "agent_name",
          "task_name",
          "provider_name",
          "provider_type"
        ],
        "title": "AgentTaskAssignmentWithDetails",
        "description": "Extended assignment schema with JOIN details from related entities."
      },
      "AgentTestRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 1,
            "title": "Prompt",
            "description": "Test prompt to send to the agent"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "AgentTestRequest",
        "description": "Request schema for testing an agent."
      },
      "AgentTestResponse": {
        "properties": {
          "agent_id": {
            "type": "string",
            "format": "uuid",
            "title": "Agent Id",
            "description": "UUID of the tested agent"
          },
          "agent_name": {
            "type": "string",
            "title": "Agent Name",
            "description": "Name of the tested agent"
          },
          "prompt": {
            "type": "string",
            "title": "Prompt",
            "description": "Prompt that was sent to the agent"
          },
          "response": {
            "type": "string",
            "title": "Response",
            "description": "Agent's response from LLM"
          },
          "elapsed_time": {
            "type": "number",
            "title": "Elapsed Time",
            "description": "Time taken to get response in seconds"
          },
          "model_name": {
            "type": "string",
            "title": "Model Name",
            "description": "Model used for the test"
          },
          "provider_name": {
            "type": "string",
            "title": "Provider Name",
            "description": "Provider name"
          },
          "provider_type": {
            "type": "string",
            "title": "Provider Type",
            "description": "Provider type (ollama, openai)"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "agent_name",
          "prompt",
          "response",
          "elapsed_time",
          "model_name",
          "provider_name",
          "provider_type"
        ],
        "title": "AgentTestResponse",
        "description": "Response schema for agent test results."
      },
      "ApproveVersionRequest": {
        "properties": {},
        "type": "object",
        "title": "ApproveVersionRequest"
      },
      "AtomCreate": {
        "properties": {
          "type": {
            "type": "string",
            "maxLength": 20,
            "title": "Type",
            "description": "Type of atom (problem, solution, decision, etc.)"
          },
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "description": "Brief title summarizing the atom"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content",
            "description": "Full content of the atomic knowledge unit"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence",
            "description": "AI confidence score (0-1, optional)"
          },
          "user_approved": {
            "type": "boolean",
            "title": "User Approved",
            "description": "Whether user has explicitly approved this atom",
            "default": false
          },
          "meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta",
            "description": "Additional structured metadata"
          }
        },
        "type": "object",
        "required": [
          "type",
          "title",
          "content"
        ],
        "title": "AtomCreate",
        "description": "Schema for creating a new atom."
      },
      "AtomListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/AtomPublic"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "AtomListResponse",
        "description": "Paginated response schema for atoms."
      },
      "AtomPublic": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "user_approved": {
            "type": "boolean",
            "title": "User Approved"
          },
          "archived": {
            "type": "boolean",
            "title": "Archived"
          },
          "archived_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Archived At"
          },
          "meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta"
          },
          "embedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding"
          },
          "has_embedding": {
            "type": "boolean",
            "title": "Has Embedding",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "title",
          "content",
          "confidence",
          "user_approved",
          "archived",
          "archived_at",
          "meta",
          "created_at",
          "updated_at"
        ],
        "title": "AtomPublic",
        "description": "Public schema for atom responses."
      },
      "AtomSearchResult": {
        "properties": {
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score",
            "description": "Similarity score (0.0-1.0, higher means more similar)"
          },
          "atom": {
            "$ref": "#/components/schemas/AtomPublic"
          }
        },
        "type": "object",
        "required": [
          "similarity_score",
          "atom"
        ],
        "title": "AtomSearchResult",
        "description": "Atom search result with similarity score."
      },
      "AtomStats": {
        "properties": {
          "total": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total",
            "description": "Total atoms in period"
          },
          "pending_review": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pending Review",
            "description": "Atoms awaiting review (user_approved=false)"
          },
          "approved": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approved",
            "description": "Approved atoms (user_approved=true)"
          },
          "by_type": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "By Type",
            "description": "Count by atom type",
            "example": {
              "decision": 2,
              "problem": 5,
              "solution": 3
            }
          }
        },
        "type": "object",
        "required": [
          "total",
          "pending_review",
          "approved"
        ],
        "title": "AtomStats",
        "description": "Atom statistics by type and status."
      },
      "AtomUpdate": {
        "properties": {
          "type": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Type",
            "description": "Type of atom"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Brief title"
          },
          "content": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Full content"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence",
            "description": "AI confidence score (0-1)"
          },
          "user_approved": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Approved",
            "description": "User approval status"
          },
          "archived": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Archived",
            "description": "Archive status"
          },
          "archived_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Archived At",
            "description": "Archive timestamp"
          },
          "meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "title": "AtomUpdate",
        "description": "Schema for updating an existing atom."
      },
      "AtomVersionResponse": {
        "properties": {
          "version": {
            "type": "integer",
            "title": "Version",
            "description": "Version number"
          },
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data",
            "description": "Version snapshot data"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By",
            "description": "User who created version"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Approval status",
            "default": false
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "atom_id": {
            "type": "string",
            "format": "uuid",
            "title": "Atom Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "approved_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved At"
          }
        },
        "type": "object",
        "required": [
          "version",
          "data",
          "id",
          "atom_id",
          "created_at"
        ],
        "title": "AtomVersionResponse"
      },
      "AtomsDetail": {
        "properties": {
          "entities": {
            "$ref": "#/components/schemas/EntitiesDetail"
          },
          "keywords": {
            "items": {
              "$ref": "#/components/schemas/KeywordDetail"
            },
            "type": "array",
            "title": "Keywords"
          },
          "embedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding"
          },
          "similarMessages": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/SimilarMessage"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarmessages"
          }
        },
        "type": "object",
        "required": [
          "entities",
          "keywords"
        ],
        "title": "AtomsDetail",
        "description": "Atoms extracted from message."
      },
      "AutomationRuleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Unique rule name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Rule description"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Rule enabled status",
            "default": true
          },
          "priority": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Priority",
            "description": "Rule priority",
            "default": 0
          },
          "action": {
            "$ref": "#/components/schemas/RuleAction",
            "description": "Action to execute"
          },
          "conditions": {
            "type": "string",
            "minLength": 1,
            "title": "Conditions",
            "description": "JSON-encoded conditions"
          },
          "logic_operator": {
            "$ref": "#/components/schemas/LogicOperator",
            "description": "Logic operator",
            "default": "AND"
          }
        },
        "type": "object",
        "required": [
          "name",
          "action",
          "conditions"
        ],
        "title": "AutomationRuleCreate",
        "description": "Schema for creating a new automation rule."
      },
      "AutomationRuleListResponse": {
        "properties": {
          "rules": {
            "items": {
              "$ref": "#/components/schemas/AutomationRulePublic"
            },
            "type": "array",
            "title": "Rules"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "rules",
          "total",
          "page",
          "page_size"
        ],
        "title": "AutomationRuleListResponse",
        "description": "Response schema for paginated rule listing."
      },
      "AutomationRulePublic": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "priority": {
            "type": "integer",
            "title": "Priority"
          },
          "action": {
            "$ref": "#/components/schemas/RuleAction"
          },
          "conditions": {
            "type": "string",
            "title": "Conditions"
          },
          "logic_operator": {
            "$ref": "#/components/schemas/LogicOperator"
          },
          "triggered_count": {
            "type": "integer",
            "title": "Triggered Count"
          },
          "success_count": {
            "type": "integer",
            "title": "Success Count"
          },
          "last_triggered": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Triggered"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "enabled",
          "priority",
          "action",
          "conditions",
          "logic_operator",
          "triggered_count",
          "success_count",
          "last_triggered",
          "created_at",
          "updated_at"
        ],
        "title": "AutomationRulePublic",
        "description": "Public schema for automation rule responses."
      },
      "AutomationRuleUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Rule name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Rule description"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Rule enabled status"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Rule priority"
          },
          "action": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RuleAction"
              },
              {
                "type": "null"
              }
            ],
            "description": "Action to execute"
          },
          "conditions": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Conditions",
            "description": "JSON-encoded conditions"
          },
          "logic_operator": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LogicOperator"
              },
              {
                "type": "null"
              }
            ],
            "description": "Logic operator"
          }
        },
        "type": "object",
        "title": "AutomationRuleUpdate",
        "description": "Schema for updating an existing automation rule."
      },
      "AutomationStatsResponse": {
        "properties": {
          "auto_approval_rate": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Auto Approval Rate",
            "description": "Percentage of versions auto-approved (0-100)"
          },
          "pending_versions_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pending Versions Count",
            "description": "Number of pending versions awaiting review"
          },
          "total_rules_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Rules Count",
            "description": "Total number of automation rules"
          },
          "active_rules_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Active Rules Count",
            "description": "Number of enabled automation rules"
          }
        },
        "type": "object",
        "required": [
          "auto_approval_rate",
          "pending_versions_count",
          "total_rules_count",
          "active_rules_count"
        ],
        "title": "AutomationStatsResponse",
        "description": "Response schema for automation dashboard statistics."
      },
      "AutomationTrendPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Date in ISO format (YYYY-MM-DD)"
          },
          "approved": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approved",
            "description": "Number of approved versions on this date"
          },
          "rejected": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Rejected",
            "description": "Number of rejected versions on this date"
          },
          "manual": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Manual",
            "description": "Number of manually reviewed versions on this date"
          }
        },
        "type": "object",
        "required": [
          "date",
          "approved",
          "rejected",
          "manual"
        ],
        "title": "AutomationTrendPoint",
        "description": "Single data point for automation trends."
      },
      "AutomationTrendsResponse": {
        "properties": {
          "period": {
            "type": "string",
            "title": "Period",
            "description": "Time period filter applied (7d, 30d, 90d)"
          },
          "data": {
            "items": {
              "$ref": "#/components/schemas/AutomationTrendPoint"
            },
            "type": "array",
            "title": "Data",
            "description": "Daily trend data points"
          }
        },
        "type": "object",
        "required": [
          "period",
          "data"
        ],
        "title": "AutomationTrendsResponse",
        "description": "Response schema for automation trends over time."
      },
      "BatchEmbedAtomsRequest": {
        "properties": {
          "atom_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Atom Ids",
            "description": "List of atom UUIDs to embed"
          },
          "provider_id": {
            "type": "string",
            "format": "uuid",
            "title": "Provider Id",
            "description": "LLMProvider UUID to use for embedding generation"
          }
        },
        "type": "object",
        "required": [
          "atom_ids",
          "provider_id"
        ],
        "title": "BatchEmbedAtomsRequest",
        "description": "Request schema for batch atom embedding operation."
      },
      "BatchEmbedRequest": {
        "properties": {
          "message_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Message Ids",
            "description": "List of message UUIDs to embed"
          },
          "provider_id": {
            "type": "string",
            "format": "uuid",
            "title": "Provider Id",
            "description": "LLMProvider UUID to use for embedding generation"
          }
        },
        "type": "object",
        "required": [
          "message_ids",
          "provider_id"
        ],
        "title": "BatchEmbedRequest",
        "description": "Request schema for batch embedding operation."
      },
      "BatchEmbedResponse": {
        "properties": {
          "task_id": {
            "type": "string",
            "title": "Task Id",
            "description": "Background task ID for tracking progress"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of items queued for embedding"
          },
          "provider_id": {
            "type": "string",
            "format": "uuid",
            "title": "Provider Id",
            "description": "Provider ID used for embedding"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "count",
          "provider_id"
        ],
        "title": "BatchEmbedResponse",
        "description": "Response schema for batch embedding operation."
      },
      "BulkApproveRequest": {
        "properties": {
          "atom_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Atom Ids",
            "description": "List of atom IDs to approve (UUID strings)"
          }
        },
        "type": "object",
        "required": [
          "atom_ids"
        ],
        "title": "BulkApproveRequest",
        "description": "Request schema for bulk approving atoms."
      },
      "BulkApproveResponse": {
        "properties": {
          "approved_count": {
            "type": "integer",
            "title": "Approved Count",
            "description": "Number of atoms successfully approved"
          },
          "failed_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "List of atom IDs that failed to approve"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "Error messages for failed approvals"
          }
        },
        "type": "object",
        "required": [
          "approved_count"
        ],
        "title": "BulkApproveResponse",
        "description": "Response schema for bulk approve operation."
      },
      "BulkArchiveRequest": {
        "properties": {
          "atom_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Atom Ids",
            "description": "List of atom IDs to archive (UUID strings)"
          }
        },
        "type": "object",
        "required": [
          "atom_ids"
        ],
        "title": "BulkArchiveRequest",
        "description": "Request schema for bulk archiving atoms."
      },
      "BulkArchiveResponse": {
        "properties": {
          "archived_count": {
            "type": "integer",
            "title": "Archived Count",
            "description": "Number of atoms successfully archived"
          },
          "failed_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "List of atom IDs that failed to archive"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "Error messages for failed archives"
          }
        },
        "type": "object",
        "required": [
          "archived_count"
        ],
        "title": "BulkArchiveResponse",
        "description": "Response schema for bulk archive operation."
      },
      "BulkDeleteRequest": {
        "properties": {
          "atom_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Atom Ids",
            "description": "List of atom IDs to delete (UUID strings)"
          }
        },
        "type": "object",
        "required": [
          "atom_ids"
        ],
        "title": "BulkDeleteRequest",
        "description": "Request schema for bulk deleting atoms."
      },
      "BulkDeleteResponse": {
        "properties": {
          "deleted_count": {
            "type": "integer",
            "title": "Deleted Count",
            "description": "Number of atoms successfully deleted"
          },
          "failed_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "List of atom IDs that failed to delete"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "Error messages for failed deletions"
          }
        },
        "type": "object",
        "required": [
          "deleted_count"
        ],
        "title": "BulkDeleteResponse",
        "description": "Response schema for bulk delete operation."
      },
      "BulkRejectRequest": {
        "properties": {
          "atom_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Atom Ids",
            "description": "List of atom IDs to reject (UUID strings)"
          }
        },
        "type": "object",
        "required": [
          "atom_ids"
        ],
        "title": "BulkRejectRequest",
        "description": "Request schema for bulk rejecting atoms (sets archived=true)."
      },
      "BulkRejectResponse": {
        "properties": {
          "rejected_count": {
            "type": "integer",
            "title": "Rejected Count",
            "description": "Number of atoms successfully rejected"
          },
          "failed_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "List of atom IDs that failed to reject"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "Error messages for failed rejections"
          }
        },
        "type": "object",
        "required": [
          "rejected_count"
        ],
        "title": "BulkRejectResponse",
        "description": "Response schema for bulk reject operation."
      },
      "BulkVersionRequest": {
        "properties": {
          "version_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Version Ids",
            "description": "List of version IDs to process"
          },
          "entity_type": {
            "type": "string",
            "title": "Entity Type",
            "description": "Entity type: topic or atom"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Optional reason for the action"
          }
        },
        "type": "object",
        "required": [
          "version_ids",
          "entity_type"
        ],
        "title": "BulkVersionRequest",
        "description": "Request schema for bulk version operations."
      },
      "BulkVersionResponse": {
        "properties": {
          "success_count": {
            "type": "integer",
            "title": "Success Count",
            "description": "Number of successfully processed versions"
          },
          "failed_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "IDs of versions that failed to process"
          },
          "errors": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Errors",
            "description": "Error messages keyed by version ID"
          }
        },
        "type": "object",
        "required": [
          "success_count"
        ],
        "title": "BulkVersionResponse",
        "description": "Response schema for bulk version operations."
      },
      "ClassificationDetail": {
        "properties": {
          "confidence": {
            "type": "number",
            "title": "Confidence"
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning"
          },
          "topic_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Id"
          },
          "topic_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Title"
          },
          "noise_score": {
            "type": "number",
            "title": "Noise Score"
          },
          "urgency_score": {
            "type": "number",
            "title": "Urgency Score"
          },
          "reasoning_breakdown": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ReasoningBreakdown"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "confidence",
          "reasoning",
          "topic_id",
          "topic_title",
          "noise_score",
          "urgency_score"
        ],
        "title": "ClassificationDetail",
        "description": "Classification details for a message."
      },
      "ConditionOperator": {
        "type": "string",
        "enum": [
          "gte",
          "lte",
          "gt",
          "lt",
          "eq",
          "neq",
          "contains",
          "starts_with",
          "ends_with"
        ],
        "title": "ConditionOperator",
        "description": "Available comparison operators for rule conditions."
      },
      "ConfigResponse": {
        "properties": {
          "wsUrl": {
            "type": "string",
            "title": "Wsurl"
          },
          "apiBaseUrl": {
            "type": "string",
            "title": "Apibaseurl"
          }
        },
        "type": "object",
        "required": [
          "wsUrl",
          "apiBaseUrl"
        ],
        "title": "ConfigResponse"
      },
      "EmbedRequest": {
        "properties": {
          "provider_id": {
            "type": "string",
            "format": "uuid",
            "title": "Provider Id",
            "description": "LLMProvider UUID to use for embedding generation"
          }
        },
        "type": "object",
        "required": [
          "provider_id"
        ],
        "title": "EmbedRequest",
        "description": "Request schema for generating single embedding."
      },
      "EmbedResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Message or Atom UUID"
          },
          "embedding_length": {
            "type": "integer",
            "title": "Embedding Length",
            "description": "Length of embedding vector (e.g., 1536)"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status: completed/skipped"
          }
        },
        "type": "object",
        "required": [
          "id",
          "embedding_length",
          "status"
        ],
        "title": "EmbedResponse",
        "description": "Response schema for single embedding operation."
      },
      "EntitiesDetail": {
        "properties": {
          "people": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "People",
            "default": []
          },
          "places": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Places",
            "default": []
          },
          "organizations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Organizations",
            "default": []
          },
          "concepts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Concepts",
            "default": []
          }
        },
        "type": "object",
        "title": "EntitiesDetail",
        "description": "Extracted entities grouped by type."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp"
        ],
        "title": "HealthResponse"
      },
      "HistoryEvent": {
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          },
          "action": {
            "type": "string",
            "enum": [
              "classified",
              "reassigned",
              "approved",
              "rejected"
            ],
            "title": "Action"
          },
          "from_topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "From Topic"
          },
          "to_topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "To Topic"
          },
          "admin_user": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin User"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "action"
        ],
        "title": "HistoryEvent",
        "description": "Classification history event."
      },
      "IngestionJobResponse": {
        "properties": {
          "job_id": {
            "type": "integer",
            "title": "Job Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "message"
        ],
        "title": "IngestionJobResponse",
        "description": "Response with job ID."
      },
      "IngestionStatus": {
        "type": "string",
        "enum": [
          "pending",
          "running",
          "completed",
          "failed",
          "cancelled"
        ],
        "title": "IngestionStatus",
        "description": "Status of message ingestion job."
      },
      "JobStatus": {
        "type": "string",
        "enum": [
          "idle",
          "running",
          "success",
          "failed"
        ],
        "title": "JobStatus",
        "description": "Status of scheduled job execution."
      },
      "KeywordDetail": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "relevance": {
            "type": "number",
            "title": "Relevance"
          }
        },
        "type": "object",
        "required": [
          "text",
          "relevance"
        ],
        "title": "KeywordDetail",
        "description": "Keyword with relevance score."
      },
      "KnowledgeExtractionRequest": {
        "properties": {
          "message_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array",
                "maxItems": 100,
                "minItems": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Ids",
            "description": "Message IDs to analyze (1-100, 10-50 recommended). Mutually exclusive with period."
          },
          "period": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PeriodRequest"
              },
              {
                "type": "null"
              }
            ],
            "description": "Period-based message selection. Mutually exclusive with message_ids."
          },
          "agent_config_id": {
            "type": "string",
            "format": "uuid",
            "title": "Agent Config Id",
            "description": "Agent Config UUID to use for extraction"
          }
        },
        "type": "object",
        "required": [
          "agent_config_id"
        ],
        "title": "KnowledgeExtractionRequest",
        "description": "Request schema for triggering knowledge extraction."
      },
      "KnowledgeExtractionResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count",
            "description": "Number of messages queued for extraction"
          },
          "agent_config_id": {
            "type": "string",
            "title": "Agent Config Id",
            "description": "Agent Config UUID used for extraction"
          }
        },
        "type": "object",
        "required": [
          "message",
          "message_count",
          "agent_config_id"
        ],
        "title": "KnowledgeExtractionResponse",
        "description": "Response schema for knowledge extraction trigger."
      },
      "LLMProviderCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "$ref": "#/components/schemas/ProviderType"
          },
          "base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Url"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "type"
        ],
        "title": "LLMProviderCreate",
        "description": "Schema for creating new LLM provider."
      },
      "LLMProviderPublic": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "$ref": "#/components/schemas/ProviderType"
          },
          "base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Url"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "validation_status": {
            "$ref": "#/components/schemas/ValidationStatus"
          },
          "validation_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Validation Error"
          },
          "validated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Validated At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "type",
          "is_active",
          "validation_status",
          "created_at",
          "updated_at"
        ],
        "title": "LLMProviderPublic",
        "description": "Public schema for LLM provider responses."
      },
      "LLMProviderUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ProviderType"
              },
              {
                "type": "null"
              }
            ]
          },
          "base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Url"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "LLMProviderUpdate",
        "description": "Schema for updating LLM provider."
      },
      "LinkTelegramProfileRequest": {
        "properties": {
          "telegram_user_id": {
            "type": "integer",
            "title": "Telegram User Id"
          }
        },
        "type": "object",
        "required": [
          "telegram_user_id"
        ],
        "title": "LinkTelegramProfileRequest",
        "description": "Request schema for manually linking User to TelegramProfile"
      },
      "LogicOperator": {
        "type": "string",
        "enum": [
          "AND",
          "OR"
        ],
        "title": "LogicOperator",
        "description": "Logic operators for combining multiple conditions."
      },
      "MessageCreateRequest": {
        "properties": {
          "external_message_id": {
            "type": "string",
            "title": "External Message Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "sent_at": {
            "type": "string",
            "format": "date-time",
            "title": "Sent At"
          },
          "source_id": {
            "type": "integer",
            "title": "Source Id"
          },
          "author_id": {
            "type": "integer",
            "title": "Author Id"
          },
          "telegram_profile_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telegram Profile Id"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          }
        },
        "type": "object",
        "required": [
          "external_message_id",
          "content",
          "sent_at",
          "source_id",
          "author_id"
        ],
        "title": "MessageCreateRequest",
        "description": "Request schema for creating a message"
      },
      "MessageDetail": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "source": {
            "type": "string",
            "enum": [
              "telegram",
              "manual"
            ],
            "title": "Source"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "telegram_message_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telegram Message Id"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content",
          "source",
          "created_at"
        ],
        "title": "MessageDetail",
        "description": "Message metadata for inspect modal."
      },
      "MessageFiltersResponse": {
        "properties": {
          "authors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Authors"
          },
          "sources": {
            "items": {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "type": "object"
            },
            "type": "array",
            "title": "Sources"
          },
          "date_range": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Date Range"
          }
        },
        "type": "object",
        "required": [
          "authors",
          "sources",
          "date_range"
        ],
        "title": "MessageFiltersResponse",
        "description": "Response schema for available message filters"
      },
      "MessageIngestionJobPublic": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type"
          },
          "source_identifiers": {
            "additionalProperties": true,
            "type": "object",
            "title": "Source Identifiers"
          },
          "status": {
            "$ref": "#/components/schemas/IngestionStatus"
          },
          "messages_fetched": {
            "type": "integer",
            "title": "Messages Fetched"
          },
          "messages_stored": {
            "type": "integer",
            "title": "Messages Stored"
          },
          "messages_skipped": {
            "type": "integer",
            "title": "Messages Skipped"
          },
          "errors_count": {
            "type": "integer",
            "title": "Errors Count"
          },
          "current_batch": {
            "type": "integer",
            "title": "Current Batch"
          },
          "total_batches": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Batches"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "source_type",
          "source_identifiers",
          "status",
          "messages_fetched",
          "messages_stored",
          "messages_skipped",
          "errors_count",
          "current_batch",
          "total_batches",
          "created_at",
          "started_at",
          "completed_at"
        ],
        "title": "MessageIngestionJobPublic",
        "description": "Public schema for ingestion job responses."
      },
      "MessageInspectResponse": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/MessageDetail"
          },
          "classification": {
            "$ref": "#/components/schemas/ClassificationDetail"
          },
          "atoms": {
            "$ref": "#/components/schemas/AtomsDetail"
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/HistoryEvent"
            },
            "type": "array",
            "title": "History"
          }
        },
        "type": "object",
        "required": [
          "message",
          "classification",
          "atoms",
          "history"
        ],
        "title": "MessageInspectResponse",
        "description": "Full inspection response for MessageInspectModal."
      },
      "MessageResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "external_message_id": {
            "type": "string",
            "title": "External Message Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "sent_at": {
            "type": "string",
            "format": "date-time",
            "title": "Sent At"
          },
          "source_id": {
            "type": "integer",
            "title": "Source Id"
          },
          "source_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Name"
          },
          "author_id": {
            "type": "integer",
            "title": "Author Id"
          },
          "author_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "telegram_profile_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telegram Profile Id"
          },
          "topic_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Id"
          },
          "topic_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Name"
          },
          "classification": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Classification"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "analyzed": {
            "type": "boolean",
            "title": "Analyzed",
            "default": false
          },
          "embedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding"
          },
          "has_embedding": {
            "type": "boolean",
            "title": "Has Embedding",
            "default": false
          },
          "importance_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Importance Score"
          },
          "noise_classification": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Noise Classification"
          },
          "noise_factors": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Noise Factors"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          },
          "persisted": {
            "type": "boolean",
            "title": "Persisted",
            "default": true
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "external_message_id",
          "content",
          "sent_at",
          "source_id",
          "author_id"
        ],
        "title": "MessageResponse",
        "description": "Response schema for message"
      },
      "MessageStats": {
        "properties": {
          "total": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total",
            "description": "Total messages in period"
          },
          "signal_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Signal Count",
            "description": "Messages classified as signal"
          },
          "noise_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Noise Count",
            "description": "Messages classified as noise"
          },
          "signal_ratio": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Signal Ratio",
            "description": "Signal count / total ratio"
          }
        },
        "type": "object",
        "required": [
          "total",
          "signal_count",
          "noise_count",
          "signal_ratio"
        ],
        "title": "MessageStats",
        "description": "Message statistics for dashboard."
      },
      "MetricTrend": {
        "properties": {
          "direction": {
            "type": "string",
            "enum": [
              "up",
              "down",
              "stable"
            ],
            "title": "Direction",
            "description": "Trend direction"
          },
          "change": {
            "type": "number",
            "minimum": 0.0,
            "title": "Change",
            "description": "Percentage change"
          }
        },
        "type": "object",
        "required": [
          "direction",
          "change"
        ],
        "title": "MetricTrend",
        "description": "Metric trend information."
      },
      "NoiseSource": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Source name"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of noise messages from this source"
          }
        },
        "type": "object",
        "required": [
          "name",
          "count"
        ],
        "title": "NoiseSource",
        "description": "Top noise source statistics."
      },
      "NoiseStatsResponse": {
        "properties": {
          "total_messages": {
            "type": "integer",
            "title": "Total Messages",
            "description": "Total number of messages in database"
          },
          "signal_count": {
            "type": "integer",
            "title": "Signal Count",
            "description": "Number of signal messages (importance > 0.7)"
          },
          "noise_count": {
            "type": "integer",
            "title": "Noise Count",
            "description": "Number of noise messages (importance < 0.3)"
          },
          "signal_ratio": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Signal Ratio",
            "description": "Ratio of signal to total (0.0-1.0)"
          },
          "needs_review": {
            "type": "integer",
            "title": "Needs Review",
            "description": "Number of weak signals needing review (0.3-0.7)"
          },
          "trend": {
            "items": {
              "$ref": "#/components/schemas/NoiseTrendData"
            },
            "type": "array",
            "title": "Trend",
            "description": "7-day trend data"
          },
          "top_noise_sources": {
            "items": {
              "$ref": "#/components/schemas/NoiseSource"
            },
            "type": "array",
            "title": "Top Noise Sources",
            "description": "Top 5 noise sources"
          }
        },
        "type": "object",
        "required": [
          "total_messages",
          "signal_count",
          "noise_count",
          "signal_ratio",
          "needs_review",
          "trend",
          "top_noise_sources"
        ],
        "title": "NoiseStatsResponse",
        "description": "Noise filtering statistics for dashboard."
      },
      "NoiseTrendData": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Date in YYYY-MM-DD format"
          },
          "signal": {
            "type": "integer",
            "title": "Signal",
            "description": "Count of high-importance messages (score > 0.7)"
          },
          "noise": {
            "type": "integer",
            "title": "Noise",
            "description": "Count of low-importance messages (score < 0.3)"
          },
          "weak_signal": {
            "type": "integer",
            "title": "Weak Signal",
            "description": "Count of medium-importance messages (0.3-0.7)"
          }
        },
        "type": "object",
        "required": [
          "date",
          "signal",
          "noise",
          "weak_signal"
        ],
        "title": "NoiseTrendData",
        "description": "Daily noise classification trend data."
      },
      "OllamaModel": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Model name (e.g., 'llama3.2:latest')"
          },
          "size": {
            "type": "integer",
            "title": "Size",
            "description": "Model size in bytes"
          },
          "modified_at": {
            "type": "string",
            "title": "Modified At",
            "description": "Last modification timestamp"
          }
        },
        "type": "object",
        "required": [
          "name",
          "size",
          "modified_at"
        ],
        "title": "OllamaModel",
        "description": "Schema for single Ollama model information."
      },
      "OllamaModelsResponse": {
        "properties": {
          "models": {
            "items": {
              "$ref": "#/components/schemas/OllamaModel"
            },
            "type": "array",
            "title": "Models",
            "description": "List of available Ollama models"
          }
        },
        "type": "object",
        "title": "OllamaModelsResponse",
        "description": "Response schema for Ollama models listing."
      },
      "PaginatedMessagesResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/MessageResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "PaginatedMessagesResponse"
      },
      "PendingVersionsCountResponse": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Total number of pending versions"
          },
          "topics": {
            "type": "integer",
            "title": "Topics",
            "description": "Number of pending topic versions"
          },
          "atoms": {
            "type": "integer",
            "title": "Atoms",
            "description": "Number of pending atom versions"
          }
        },
        "type": "object",
        "required": [
          "count",
          "topics",
          "atoms"
        ],
        "title": "PendingVersionsCountResponse",
        "description": "Response schema for pending versions count."
      },
      "PeriodRequest": {
        "properties": {
          "period_type": {
            "type": "string",
            "enum": [
              "last_24h",
              "last_7d",
              "last_30d",
              "custom"
            ],
            "title": "Period Type",
            "description": "Time period type: last_24h, last_7d, last_30d, or custom"
          },
          "topic_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Id",
            "description": "Optional topic ID to filter messages"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "Start date for custom period (timezone-aware, required for custom)"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "End date for custom period (timezone-aware, required for custom)"
          }
        },
        "type": "object",
        "required": [
          "period_type"
        ],
        "title": "PeriodRequest",
        "description": "Period-based message selection for knowledge extraction."
      },
      "ProjectConfigCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords"
          },
          "glossary": {
            "additionalProperties": true,
            "type": "object",
            "title": "Glossary",
            "default": {}
          },
          "components": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Components",
            "default": []
          },
          "default_assignee_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Default Assignee Ids",
            "default": []
          },
          "pm_user_id": {
            "type": "integer",
            "title": "Pm User Id"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "priority_rules": {
            "additionalProperties": true,
            "type": "object",
            "title": "Priority Rules",
            "default": {}
          },
          "version": {
            "type": "string",
            "title": "Version",
            "default": "1.0.0"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "keywords",
          "pm_user_id"
        ],
        "title": "ProjectConfigCreate",
        "description": "Schema for creating new project config."
      },
      "ProjectConfigListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ProjectConfigPublic"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "ProjectConfigListResponse",
        "description": "Paginated response schema for project configurations."
      },
      "ProjectConfigPublic": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords"
          },
          "glossary": {
            "additionalProperties": true,
            "type": "object",
            "title": "Glossary"
          },
          "components": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Components"
          },
          "default_assignee_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Default Assignee Ids"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "priority_rules": {
            "additionalProperties": true,
            "type": "object",
            "title": "Priority Rules"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "keywords",
          "glossary",
          "components",
          "default_assignee_ids",
          "is_active",
          "priority_rules",
          "version",
          "created_at",
          "updated_at"
        ],
        "title": "ProjectConfigPublic",
        "description": "Public schema for project config responses."
      },
      "ProjectConfigUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keywords"
          },
          "glossary": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Glossary"
          },
          "components": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Components"
          },
          "default_assignee_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Assignee Ids"
          },
          "pm_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pm User Id"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "priority_rules": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority Rules"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          }
        },
        "type": "object",
        "title": "ProjectConfigUpdate",
        "description": "Schema for updating project config (partial)."
      },
      "PromptConfig": {
        "properties": {
          "prompt_type": {
            "$ref": "#/components/schemas/PromptType"
          },
          "prompt_text": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 50,
            "title": "Prompt Text"
          },
          "placeholders": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Placeholders"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By"
          }
        },
        "type": "object",
        "required": [
          "prompt_type",
          "prompt_text",
          "placeholders",
          "updated_at"
        ],
        "title": "PromptConfig",
        "description": "Prompt configuration model.",
        "example": {
          "placeholders": [
            "{message}",
            "{context}"
          ],
          "prompt_text": "Extract knowledge from the following message: {message}",
          "prompt_type": "knowledge_extraction",
          "updated_at": "2025-01-15T10:30:00Z",
          "updated_by": "admin@example.com"
        }
      },
      "PromptListResponse": {
        "properties": {
          "prompts": {
            "items": {
              "$ref": "#/components/schemas/PromptConfig"
            },
            "type": "array",
            "title": "Prompts"
          }
        },
        "type": "object",
        "required": [
          "prompts"
        ],
        "title": "PromptListResponse",
        "description": "Response model for listing all prompts.",
        "example": {
          "prompts": [
            {
              "placeholders": [
                "{message}",
                "{context}"
              ],
              "prompt_text": "Extract knowledge from: {message}",
              "prompt_type": "knowledge_extraction",
              "updated_at": "2025-01-15T10:30:00Z",
              "updated_by": "admin@example.com"
            }
          ]
        }
      },
      "PromptType": {
        "type": "string",
        "enum": [
          "message_scoring",
          "classification",
          "knowledge_extraction",
          "analysis_proposal"
        ],
        "title": "PromptType",
        "description": "Types of prompts used in the system."
      },
      "PromptUpdateRequest": {
        "properties": {
          "prompt_text": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 50,
            "title": "Prompt Text"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By"
          }
        },
        "type": "object",
        "required": [
          "prompt_text"
        ],
        "title": "PromptUpdateRequest",
        "description": "Request model for updating a prompt.",
        "example": {
          "prompt_text": "Extract knowledge from the following message: {message} using context: {context}",
          "updated_by": "admin@example.com"
        }
      },
      "PromptValidationRequest": {
        "properties": {
          "prompt_text": {
            "type": "string",
            "maxLength": 3000,
            "minLength": 1,
            "title": "Prompt Text"
          },
          "prompt_type": {
            "$ref": "#/components/schemas/PromptType"
          }
        },
        "type": "object",
        "required": [
          "prompt_text",
          "prompt_type"
        ],
        "title": "PromptValidationRequest",
        "description": "Request model for prompt validation.",
        "example": {
          "prompt_text": "Analyze this message: {message} with context: {context}",
          "prompt_type": "knowledge_extraction"
        }
      },
      "PromptValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "errors": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Errors"
          }
        },
        "type": "object",
        "required": [
          "valid",
          "errors"
        ],
        "title": "PromptValidationResponse",
        "description": "Response model for prompt validation.",
        "example": {
          "errors": [
            {
              "field": "length",
              "message": "Prompt must be at least 50 characters"
            }
          ],
          "valid": false
        }
      },
      "ProviderType": {
        "type": "string",
        "enum": [
          "ollama",
          "openai"
        ],
        "title": "ProviderType",
        "description": "Supported LLM provider types."
      },
      "ReasoningBreakdown": {
        "properties": {
          "whyTopic": {
            "type": "string",
            "title": "Whytopic"
          },
          "whyNotNoise": {
            "type": "string",
            "title": "Whynotnoise"
          },
          "keyIndicators": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keyindicators"
          }
        },
        "type": "object",
        "required": [
          "whyTopic",
          "whyNotNoise",
          "keyIndicators"
        ],
        "title": "ReasoningBreakdown",
        "description": "Structured breakdown of classification reasoning."
      },
      "ReassignRequest": {
        "properties": {
          "new_topic_id": {
            "type": "string",
            "title": "New Topic Id"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "new_topic_id"
        ],
        "title": "ReassignRequest",
        "description": "Request schema for topic reassignment."
      },
      "RecentTopicItem": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "last_message_at": {
            "type": "string",
            "title": "Last Message At"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count"
          },
          "atoms_count": {
            "type": "integer",
            "title": "Atoms Count"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "icon",
          "color",
          "last_message_at",
          "message_count",
          "atoms_count"
        ],
        "title": "RecentTopicItem",
        "description": "Schema for a recent topic with activity metrics."
      },
      "RecentTopicsResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/RecentTopicItem"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "RecentTopicsResponse",
        "description": "Response schema for recent topics endpoint."
      },
      "RejectRequest": {
        "properties": {
          "reason": {
            "type": "string",
            "enum": [
              "wrong_topic",
              "noise",
              "duplicate",
              "other"
            ],
            "title": "Reason"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          }
        },
        "type": "object",
        "required": [
          "reason"
        ],
        "title": "RejectRequest",
        "description": "Request schema for message rejection."
      },
      "RejectVersionRequest": {
        "properties": {},
        "type": "object",
        "title": "RejectVersionRequest"
      },
      "RuleAction": {
        "type": "string",
        "enum": [
          "approve",
          "reject",
          "escalate",
          "notify"
        ],
        "title": "RuleAction",
        "description": "Available automation actions."
      },
      "RuleCondition": {
        "properties": {
          "field": {
            "type": "string",
            "minLength": 1,
            "title": "Field",
            "description": "Field path to evaluate (e.g., 'confidence', 'topic.name')"
          },
          "operator": {
            "$ref": "#/components/schemas/ConditionOperator",
            "description": "Comparison operator to apply"
          },
          "value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              }
            ],
            "title": "Value",
            "description": "Expected value to compare against"
          }
        },
        "type": "object",
        "required": [
          "field",
          "operator",
          "value"
        ],
        "title": "RuleCondition",
        "description": "Single condition in an automation rule.\n\nEvaluates a field from version data against an expected value\nusing a comparison operator."
      },
      "RulePreviewRequest": {
        "properties": {
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/RuleCondition"
            },
            "type": "array",
            "minItems": 1,
            "title": "Conditions",
            "description": "List of conditions to evaluate"
          },
          "logic_operator": {
            "type": "string",
            "title": "Logic Operator",
            "description": "Logic operator for combining conditions (AND/OR)",
            "default": "AND"
          },
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Action that would be executed"
          }
        },
        "type": "object",
        "required": [
          "conditions",
          "action"
        ],
        "title": "RulePreviewRequest",
        "description": "Request schema for previewing rule impact."
      },
      "RulePreviewResponse": {
        "properties": {
          "affected_count": {
            "type": "integer",
            "title": "Affected Count",
            "description": "Number of pending versions that would match this rule"
          },
          "sample_versions": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Sample Versions",
            "description": "Sample of versions that would be affected (max 10)"
          }
        },
        "type": "object",
        "required": [
          "affected_count",
          "sample_versions"
        ],
        "title": "RulePreviewResponse",
        "description": "Response schema showing rule preview impact."
      },
      "ScheduledJobCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Unique job name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Job description"
          },
          "schedule_cron": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Schedule Cron",
            "description": "Cron expression"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Job enabled status",
            "default": true
          },
          "task_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Name",
            "description": "TaskIQ task name"
          }
        },
        "type": "object",
        "required": [
          "name",
          "schedule_cron"
        ],
        "title": "ScheduledJobCreate",
        "description": "Schema for creating a new scheduled job."
      },
      "ScheduledJobListResponse": {
        "properties": {
          "jobs": {
            "items": {
              "$ref": "#/components/schemas/ScheduledJobPublic"
            },
            "type": "array",
            "title": "Jobs"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "jobs",
          "total",
          "page",
          "page_size"
        ],
        "title": "ScheduledJobListResponse",
        "description": "Response schema for paginated job listing."
      },
      "ScheduledJobPublic": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "schedule_cron": {
            "type": "string",
            "title": "Schedule Cron"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "last_run": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run"
          },
          "next_run": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Run"
          },
          "status": {
            "$ref": "#/components/schemas/JobStatus"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "run_count": {
            "type": "integer",
            "title": "Run Count"
          },
          "success_count": {
            "type": "integer",
            "title": "Success Count"
          },
          "task_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Name"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "schedule_cron",
          "enabled",
          "last_run",
          "next_run",
          "status",
          "error_message",
          "run_count",
          "success_count",
          "task_name",
          "created_at",
          "updated_at"
        ],
        "title": "ScheduledJobPublic",
        "description": "Public schema for scheduled job responses."
      },
      "ScheduledJobUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Job name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Job description"
          },
          "schedule_cron": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Schedule Cron",
            "description": "Cron expression"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Job enabled status"
          },
          "task_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Name",
            "description": "TaskIQ task name"
          }
        },
        "type": "object",
        "title": "ScheduledJobUpdate",
        "description": "Schema for updating an existing scheduled job."
      },
      "SearchResultsResponse": {
        "properties": {
          "topics": {
            "items": {
              "$ref": "#/components/schemas/app__api__v1__search__TopicSearchResult"
            },
            "type": "array",
            "title": "Topics"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/app__api__v1__search__MessageSearchResult"
            },
            "type": "array",
            "title": "Messages"
          },
          "total_results": {
            "type": "integer",
            "title": "Total Results"
          },
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "topics",
          "messages",
          "total_results",
          "query"
        ],
        "title": "SearchResultsResponse",
        "description": "Search results response."
      },
      "SetWebhookRequest": {
        "properties": {
          "protocol": {
            "type": "string",
            "enum": [
              "http",
              "https"
            ],
            "title": "Protocol",
            "description": "Protocol for webhook URL"
          },
          "host": {
            "type": "string",
            "title": "Host",
            "description": "Host for webhook URL"
          }
        },
        "type": "object",
        "required": [
          "protocol",
          "host"
        ],
        "title": "SetWebhookRequest",
        "description": "Request schema for setting webhook"
      },
      "SetWebhookResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether operation was successful"
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url",
            "description": "Set webhook URL"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Operation result message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if failed"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "SetWebhookResponse",
        "description": "Response schema for webhook setting operation"
      },
      "SidebarCountsResponse": {
        "properties": {
          "unclosed_runs": {
            "type": "integer",
            "title": "Unclosed Runs"
          },
          "pending_proposals": {
            "type": "integer",
            "title": "Pending Proposals"
          }
        },
        "type": "object",
        "required": [
          "unclosed_runs",
          "pending_proposals"
        ],
        "title": "SidebarCountsResponse",
        "description": "Response model for sidebar notification counts."
      },
      "SimilarMessage": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "preview": {
            "type": "string",
            "title": "Preview"
          },
          "similarity": {
            "type": "number",
            "title": "Similarity"
          }
        },
        "type": "object",
        "required": [
          "id",
          "preview",
          "similarity"
        ],
        "title": "SimilarMessage",
        "description": "Similar message with preview and similarity score."
      },
      "TaskConfigCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "response_schema": {
            "additionalProperties": true,
            "type": "object",
            "title": "Response Schema"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "response_schema"
        ],
        "title": "TaskConfigCreate",
        "description": "Schema for creating new task configuration."
      },
      "TaskConfigPublic": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "response_schema": {
            "additionalProperties": true,
            "type": "object",
            "title": "Response Schema"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "response_schema",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "TaskConfigPublic",
        "description": "Public schema for task configuration responses."
      },
      "TaskConfigUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "response_schema": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response Schema"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "TaskConfigUpdate",
        "description": "Schema for updating task configuration."
      },
      "TelegramGroupInfo": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Telegram chat/group ID"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Chat/group name"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "TelegramGroupInfo",
        "description": "Schema for Telegram group/chat information"
      },
      "TelegramIngestionRequest": {
        "properties": {
          "chat_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Chat Ids"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "default": 1000
          }
        },
        "type": "object",
        "required": [
          "chat_ids"
        ],
        "title": "TelegramIngestionRequest",
        "description": "Request to ingest messages from Telegram."
      },
      "TelegramProfileResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "telegram_user_id": {
            "type": "integer",
            "title": "Telegram User Id"
          },
          "first_name": {
            "type": "string",
            "title": "First Name"
          },
          "last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name"
          },
          "full_name": {
            "type": "string",
            "title": "Full Name"
          },
          "language_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language Code"
          },
          "is_bot": {
            "type": "boolean",
            "title": "Is Bot"
          },
          "is_premium": {
            "type": "boolean",
            "title": "Is Premium"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "source_id": {
            "type": "integer",
            "title": "Source Id"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "telegram_user_id",
          "first_name",
          "last_name",
          "full_name",
          "language_code",
          "is_bot",
          "is_premium",
          "user_id",
          "source_id",
          "created_at",
          "updated_at"
        ],
        "title": "TelegramProfileResponse",
        "description": "Response schema for TelegramProfile"
      },
      "TelegramWebhookConfig": {
        "properties": {
          "protocol": {
            "type": "string",
            "enum": [
              "http",
              "https"
            ],
            "title": "Protocol",
            "description": "Protocol for webhook URL",
            "default": "https"
          },
          "host": {
            "type": "string",
            "title": "Host",
            "description": "Host for webhook URL (e.g., 'example.ngrok.io')"
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url",
            "description": "Complete webhook URL (computed)"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether webhook is active",
            "default": false
          },
          "last_set_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Set At",
            "description": "When webhook was last set"
          },
          "groups": {
            "items": {
              "$ref": "#/components/schemas/TelegramGroupInfo"
            },
            "type": "array",
            "title": "Groups",
            "description": "Telegram groups/chats to monitor"
          }
        },
        "type": "object",
        "required": [
          "host"
        ],
        "title": "TelegramWebhookConfig",
        "description": "Schema for Telegram webhook configuration"
      },
      "TestTaskRequest": {
        "properties": {
          "message_id": {
            "type": "integer",
            "title": "Message Id",
            "description": "Message ID to score",
            "default": 1
          }
        },
        "type": "object",
        "title": "TestTaskRequest",
        "description": "Request model for triggering test task."
      },
      "TimePeriod": {
        "type": "string",
        "enum": [
          "today",
          "yesterday",
          "week",
          "month"
        ],
        "title": "TimePeriod",
        "description": "Time period filter for recent topics."
      },
      "TopicBrief": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "TopicBrief",
        "description": "Brief topic information for message search results."
      },
      "TopicCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Topic name (must be unique)"
          },
          "description": {
            "type": "string",
            "minLength": 1,
            "title": "Description",
            "description": "Topic description"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "Heroicon name (auto-selected if not provided)"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 7
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Hex color code (format: #RRGGBB, auto-selected if not provided)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description"
        ],
        "title": "TopicCreate",
        "description": "Schema for creating a new topic."
      },
      "TopicListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/TopicPublic"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "TopicListResponse",
        "description": "Paginated response schema for topics."
      },
      "TopicPublic": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "icon",
          "color",
          "created_at",
          "updated_at"
        ],
        "title": "TopicPublic",
        "description": "Public schema for topic responses."
      },
      "TopicStats": {
        "properties": {
          "total": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total",
            "description": "Total topics count"
          },
          "active_today": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Active Today",
            "description": "Topics with activity in period"
          }
        },
        "type": "object",
        "required": [
          "total",
          "active_today"
        ],
        "title": "TopicStats",
        "description": "Topic activity summary."
      },
      "TopicUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Topic name (must be unique)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Topic description"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "Heroicon name"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 7
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Hex color code (format: #RRGGBB)"
          }
        },
        "type": "object",
        "title": "TopicUpdate",
        "description": "Schema for updating an existing topic."
      },
      "TopicVersionResponse": {
        "properties": {
          "version": {
            "type": "integer",
            "title": "Version",
            "description": "Version number"
          },
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data",
            "description": "Version snapshot data"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By",
            "description": "User who created version"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Approval status",
            "default": false
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "topic_id": {
            "type": "string",
            "format": "uuid",
            "title": "Topic Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "approved_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved At"
          }
        },
        "type": "object",
        "required": [
          "version",
          "data",
          "id",
          "topic_id",
          "created_at"
        ],
        "title": "TopicVersionResponse"
      },
      "TrendData": {
        "properties": {
          "current": {
            "type": "integer",
            "title": "Current",
            "description": "Current period count"
          },
          "previous": {
            "type": "integer",
            "title": "Previous",
            "description": "Previous period count"
          },
          "change_percent": {
            "type": "number",
            "title": "Change Percent",
            "description": "Absolute percentage change"
          },
          "direction": {
            "type": "string",
            "enum": [
              "up",
              "down",
              "neutral"
            ],
            "title": "Direction",
            "description": "Trend direction"
          }
        },
        "type": "object",
        "required": [
          "current",
          "previous",
          "change_percent",
          "direction"
        ],
        "title": "TrendData",
        "description": "Comparison with previous period."
      },
      "UpdateTelegramGroupIdsRequest": {
        "properties": {
          "group_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Group Ids",
            "description": "List of Telegram group/chat IDs to monitor"
          }
        },
        "type": "object",
        "required": [
          "group_ids"
        ],
        "title": "UpdateTelegramGroupIdsRequest",
        "description": "Request schema for updating Telegram group IDs"
      },
      "UserCreateRequest": {
        "properties": {
          "first_name": {
            "type": "string",
            "title": "First Name"
          },
          "last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          }
        },
        "type": "object",
        "required": [
          "first_name"
        ],
        "title": "UserCreateRequest",
        "description": "Request schema for creating User"
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "first_name": {
            "type": "string",
            "title": "First Name"
          },
          "last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name"
          },
          "full_name": {
            "type": "string",
            "title": "Full Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_bot": {
            "type": "boolean",
            "title": "Is Bot"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "first_name",
          "last_name",
          "full_name",
          "email",
          "phone",
          "avatar_url",
          "is_active",
          "is_bot",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse",
        "description": "Response schema for User"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ValidationErrorType": {
        "type": "string",
        "enum": [
          "length",
          "placeholder",
          "syntax"
        ],
        "title": "ValidationErrorType",
        "description": "Types of validation errors."
      },
      "ValidationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "validating",
          "connected",
          "error"
        ],
        "title": "ValidationStatus",
        "description": "Provider validation status."
      },
      "VersionChange": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Change type: values_changed, type_changes, etc."
          },
          "path": {
            "type": "string",
            "title": "Path",
            "description": "JSON path to changed field"
          },
          "old_value": {
            "title": "Old Value",
            "description": "Previous value"
          },
          "new_value": {
            "title": "New Value",
            "description": "New value"
          }
        },
        "type": "object",
        "required": [
          "type",
          "path"
        ],
        "title": "VersionChange"
      },
      "VersionDiffResponse": {
        "properties": {
          "from_version": {
            "type": "integer",
            "title": "From Version"
          },
          "to_version": {
            "type": "integer",
            "title": "To Version"
          },
          "changes": {
            "items": {
              "$ref": "#/components/schemas/VersionChange"
            },
            "type": "array",
            "title": "Changes"
          },
          "summary": {
            "type": "string",
            "title": "Summary"
          }
        },
        "type": "object",
        "required": [
          "from_version",
          "to_version",
          "changes",
          "summary"
        ],
        "title": "VersionDiffResponse"
      },
      "WebhookConfigResponse": {
        "properties": {
          "telegram": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TelegramWebhookConfig"
              },
              {
                "type": "null"
              }
            ]
          },
          "default_protocol": {
            "type": "string",
            "title": "Default Protocol",
            "description": "Default protocol from backend config"
          },
          "default_host": {
            "type": "string",
            "title": "Default Host",
            "description": "Default host from backend config"
          }
        },
        "type": "object",
        "required": [
          "default_protocol",
          "default_host"
        ],
        "title": "WebhookConfigResponse",
        "description": "Response schema for webhook configuration"
      },
      "app__api__v1__schemas__dashboard__DashboardMetricsResponse": {
        "properties": {
          "period": {
            "type": "string",
            "enum": [
              "today",
              "yesterday"
            ],
            "title": "Period",
            "description": "Actual period used for metrics"
          },
          "period_label": {
            "type": "string",
            "title": "Period Label",
            "description": "Localized period label for UI",
            "example": "  "
          },
          "messages": {
            "$ref": "#/components/schemas/MessageStats"
          },
          "atoms": {
            "$ref": "#/components/schemas/AtomStats"
          },
          "topics": {
            "$ref": "#/components/schemas/TopicStats"
          },
          "trends": {
            "additionalProperties": {
              "$ref": "#/components/schemas/TrendData"
            },
            "type": "object",
            "title": "Trends",
            "description": "Trends for messages, atoms, topics"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At",
            "description": "When metrics were generated"
          }
        },
        "type": "object",
        "required": [
          "period",
          "period_label",
          "messages",
          "atoms",
          "topics",
          "generated_at"
        ],
        "title": "DashboardMetricsResponse",
        "description": "Complete dashboard metrics response."
      },
      "app__api__v1__search__MessageSearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "content_snippet": {
            "type": "string",
            "title": "Content Snippet",
            "description": "Content snippet with highlighted match (max 200 chars)"
          },
          "author": {
            "type": "string",
            "title": "Author"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          },
          "topic": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TopicBrief"
              },
              {
                "type": "null"
              }
            ],
            "description": "Linked topic if available"
          },
          "rank": {
            "type": "number",
            "title": "Rank",
            "description": "Relevance rank score"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content_snippet",
          "author",
          "timestamp",
          "rank"
        ],
        "title": "MessageSearchResult",
        "description": "Search result for a message."
      },
      "app__api__v1__search__TopicSearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "match_snippet": {
            "type": "string",
            "title": "Match Snippet",
            "description": "Highlighted match snippet"
          },
          "rank": {
            "type": "number",
            "title": "Rank",
            "description": "Relevance rank score"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "match_snippet",
          "rank"
        ],
        "title": "TopicSearchResult",
        "description": "Search result for a topic."
      },
      "app__api__v1__semantic_search__MessageSearchResult": {
        "properties": {
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score",
            "description": "Similarity score (0.0-1.0, higher means more similar)"
          },
          "message": {
            "$ref": "#/components/schemas/MessageResponse"
          }
        },
        "type": "object",
        "required": [
          "similarity_score",
          "message"
        ],
        "title": "MessageSearchResult",
        "description": "Message search result with similarity score."
      },
      "app__api__v1__semantic_search__TopicSearchResult": {
        "properties": {
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score",
            "description": "Similarity score (0.0-1.0, higher means more similar)"
          },
          "topic": {
            "$ref": "#/components/schemas/TopicPublic"
          }
        },
        "type": "object",
        "required": [
          "similarity_score",
          "topic"
        ],
        "title": "TopicSearchResult",
        "description": "Topic search result with similarity score."
      },
      "app__schemas__metrics__DashboardMetricsResponse": {
        "properties": {
          "topicQualityScore": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Topicqualityscore",
            "description": "Average topic quality score (0-100)"
          },
          "noiseRatio": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Noiseratio",
            "description": "Percentage of messages filtered as noise"
          },
          "classificationAccuracy": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Classificationaccuracy",
            "description": "Classification model accuracy (0-100)"
          },
          "activeAnalysisRuns": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Activeanalysisruns",
            "description": "Number of currently active analysis runs"
          },
          "trends": {
            "additionalProperties": {
              "$ref": "#/components/schemas/MetricTrend"
            },
            "type": "object",
            "title": "Trends",
            "description": "Trend data for each metric"
          }
        },
        "type": "object",
        "required": [
          "topicQualityScore",
          "noiseRatio",
          "classificationAccuracy",
          "activeAnalysisRuns",
          "trends"
        ],
        "title": "DashboardMetricsResponse",
        "description": "Response model for dashboard metrics.",
        "example": {
          "activeAnalysisRuns": 9,
          "classificationAccuracy": 92.3,
          "noiseRatio": 18.5,
          "topicQualityScore": 85.0,
          "trends": {
            "activeAnalysisRuns": {
              "change": 0.0,
              "direction": "stable"
            },
            "classificationAccuracy": {
              "change": 1.5,
              "direction": "up"
            },
            "noiseRatio": {
              "change": 2.1,
              "direction": "down"
            },
            "topicQualityScore": {
              "change": 3.2,
              "direction": "up"
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "health",
      "description": "Health check and configuration endpoints for monitoring API status and client setup."
    },
    {
      "name": "messages",
      "description": "Message management operations including creation, retrieval, and filtering of messages from various sources."
    },
    {
      "name": "tasks",
      "description": "Task CRUD operations for creating, reading, updating, and managing tasks within the system."
    },
    {
      "name": "statistics",
      "description": "Analytics and statistics endpoints providing activity data, task metrics, and message analysis."
    },
    {
      "name": "webhook-settings",
      "description": "Webhook configuration management for Telegram and other integrations, including group monitoring setup."
    },
    {
      "name": "webhooks",
      "description": "Webhook receivers for external integrations like Telegram that process incoming events."
    },
    {
      "name": "websocket",
      "description": "WebSocket connections for real-time updates and bidirectional communication with clients."
    },
    {
      "name": "providers",
      "description": "LLM Provider management for configuring Ollama and OpenAI providers with async validation."
    },
    {
      "name": "agents",
      "description": "Agent Configuration management for creating and managing PydanticAI agents with task assignments."
    },
    {
      "name": "analysis",
      "description": "Analysis Run management for coordinating AI-driven task extraction runs with validation and metrics."
    },
    {
      "name": "proposals",
      "description": "Task Proposal review endpoints for approving, rejecting, and merging AI-generated task proposals."
    },
    {
      "name": "projects",
      "description": "Project Configuration management for defining classification keywords and team settings."
    },
    {
      "name": "topics",
      "description": "Topic management for categorizing messages and tasks into organized groups."
    },
    {
      "name": "versions",
      "description": "Version history management for topics and atoms with diff, approval, and rejection capabilities."
    }
  ]
}