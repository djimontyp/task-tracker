---
type: journal
date: 2026-01-01
author: Maks
tags:
  - journal
  - frontend
  - navbar-redesign
---

# 2026-01-01

## Focus

- [ ] Navbar UX/Visual Redesign
- [ ] Architecture Refactoring for Portability
- [ ] Frontend Flow Implementation

## Tasks (Prioritized)

### P0: Critical (Must Do Today)

#### Task 1: Navbar Portability Refactoring
**Epic:** Navbar Redesign
**Beads:** Create PR-XXX

| Step | Description | File | Status |
|------|-------------|------|--------|
| 1.1 | Create `NavbarProps` interface | `shared/components/Navbar/types.ts` | [ ] |
| 1.2 | Extract Navbar to `shared/components/` | `shared/components/Navbar/index.tsx` | [ ] |
| 1.3 | Remove `useQuery` from Navbar | `Navbar/index.tsx` | [ ] |
| 1.4 | Remove `useLocation` from Navbar | `Navbar/index.tsx` | [ ] |
| 1.5 | Create `useNavbarData` hook | `shared/layouts/MainLayout/useNavbarData.ts` | [ ] |
| 1.6 | Update MainLayout to use container pattern | `MainLayout.tsx` | [ ] |
| 1.7 | Update Storybook stories | `Navbar.stories.tsx` | [ ] |
| 1.8 | Verify portability (story works without mocks) | Manual test | [ ] |

**Acceptance Criteria:**
- [ ] Navbar має 0 залежностей від API (`useQuery`, `apiClient`)
- [ ] Navbar має 0 залежностей від Router (`useLocation`, `useNavigate`)
- [ ] Storybook story працює БЕЗ QueryClientProvider
- [ ] Unit test працює БЕЗ моків API

---

### P1: High (Should Do Today)

#### Task 2: Borderless Design Implementation
**Epic:** Visual Redesign
**Reference:** [[Linear UI Redesign]], [[2025 UI Trends]]

| Step | Description | File | Status |
|------|-------------|------|--------|
| 2.1 | Remove border from TooltipIconButton | `TooltipIconButton/index.tsx` | [ ] |
| 2.2 | Update button classes: `border border-border` → `bg-transparent hover:bg-muted/50` | same | [ ] |
| 2.3 | Remove border from NavUser trigger | `NavUser.tsx` | [ ] |
| 2.4 | Replace navbar `border-b` with subtle shadow | `Navbar/index.tsx` | [ ] |
| 2.5 | Update Input component for search (borderless) | `shared/ui/input.tsx` | [ ] |
| 2.6 | Create variant `searchInput` in Input | same | [ ] |
| 2.7 | Test dark mode compatibility | Manual | [ ] |

**Acceptance Criteria:**
- [ ] Жоден icon button не має `border border-border`
- [ ] Navbar має `shadow-sm` замість `border-b`
- [ ] Search input має `bg-muted/30` замість `border`
- [ ] Dark mode виглядає консистентно

---

#### Task 3: Search Bar Improvements
**Epic:** Visual Redesign

| Step | Description | File | Status |
|------|-------------|------|--------|
| 3.1 | Change search width from fixed to flex | `Navbar/index.tsx` | [ ] |
| 3.2 | Add `max-w-md` constraint | same | [ ] |
| 3.3 | Update placeholder styling | `SearchBar/index.tsx` | [ ] |
| 3.4 | Add keyboard shortcut hint styling | same | [ ] |

---

### P2: Medium (Nice to Have)

#### Task 4: Page Hints after Breadcrumbs
**Epic:** UX Improvements

| Step | Description | File | Status |
|------|-------------|------|--------|
| 4.1 | Add optional `hint` prop to NavBreadcrumbs | `NavBreadcrumbs.tsx` | [ ] |
| 4.2 | Render hint after breadcrumbs with arrow | same | [ ] |
| 4.3 | Remove HelpCircle icon button | `Navbar/index.tsx` | [ ] |
| 4.4 | Update stories with hint examples | `NavBreadcrumbs.stories.tsx` | [ ] |

---

#### Task 5: Status Indicator Improvements
**Epic:** Accessibility

| Step | Description | File | Status |
|------|-------------|------|--------|
| 5.1 | Add `showLabel` prop usage in Navbar | `Navbar/index.tsx` | [ ] |
| 5.2 | Show label on hover (CSS only) | `ServiceStatusIndicator.tsx` | [ ] |
| 5.3 | Ensure WCAG compliance (not color-only) | same | [ ] |

---

### P3: Low (Backlog)

#### Task 6: NavUser Avatar Improvements
- Use Gravatar or custom avatar
- Add gradient background for initials
- Remove border from avatar container

#### Task 7: Mobile Navbar Polish
- Verify touch targets (44px)
- Test hamburger menu animation
- Review breadcrumbs truncation

---

## Sessions

## Notes

- Аудит виявив 3 критичні порушення портативності в `shared/layouts/`
- Linear UI Redesign: "reduce visual noise, maintain visual alignment"
- Тренд 2025: borderless design, glassmorphism, soft shadows
- Референси: [[Linear]], [[Notion]], [[Figma]]

## Findings

### Architecture Issues
1. **Navbar.tsx** має `useQuery` + `topicService` — порушення CDD
2. **MainLayout.tsx** має `useQuery` + `useLocation` — OK для container
3. **NavUser.tsx** має `Link` — допустимо для навігації

### Visual Issues
1. Надмірна "клітчастість" — `border border-border` на кожному елементі
2. Search виглядає окремим блоком, не інтегрованим
3. Help icon незрозумілий без контексту
4. Status indicator — тільки колір (WCAG violation)

### Positive
- `ServiceStatusIndicator` — чистий portable компонент
- `NavBreadcrumbs` — чистий portable компонент
- `useBreadcrumbs` — pure function, добре задокументований
- Design tokens система працює правильно
