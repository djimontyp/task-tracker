# Task Tracker

Універсальна система відстеження завдань, яка обробляє повідомлення з різних комунікаційних каналів (Telegram, Slack тощо) та автоматично класифікує їх як проблеми/завдання за допомогою AI.

## Швидкий старт

1. **Клонування репозиторію**:
   ```bash
   git clone https://github.com/your-org/task-tracker.git
   cd task-tracker
   ```

2. **Налаштування середовища**:
   ```bash
   cp .env.example .env
   # Редагування .env з налаштуваннями
   ```
   **Обов'язкова конфігурація**:
   - `TELEGRAM_BOT_TOKEN`: Токен Telegram бота від @BotFather
   - `DATABASE_URL`: Рядок підключення до PostgreSQL
   - `OLLAMA_BASE_URL`: URL провайдера LLM (необов'язково)

3. **Запуск сервісів**:
   ```bash
   # Режим виробництва (всі сервіси)
   just services

   # Режим розробки з live-перезавантаженням
   just services-dev
   ```

## Огляд архітектури

Task Tracker - це сучасна подійно-орієнтована мікросервісна система з шістьма Docker-сервісами:

- **PostgreSQL**: База даних для постійного зберігання повідомлень та завдань
- **NATS**: Брокер повідомлень для асинхронної обробки
- **FastAPI Backend**: REST API з підтримкою WebSocket
- **React Dashboard**: Веб-інтерфейс для управління завданнями у реальному часі
- **Nginx**: Веб-сервер та зворотній проксі
- **TaskIQ Worker**: Фонова обробка завдань та AI-класифікація

### Ключові функції

- **Обробка повідомлень з багатьох каналів**: Підтримка Telegram, Slack та інших платформ
- **Розширена фільтрація повідомлень**: Фільтрація по автору, джерелу, діапазону дат з оновленнями у реальному часі
- **AI-класифікація завдань**: Інтелектуальна категоризація та пріоритизація
- **Оновлення WebSocket у реальному часі**: Миттєві сповіщення та відстеження завдань з живою фільтрацією
- **Інтерактивний Dashboard**: Сучасний React інтерфейс з responsive дизайном та темною/світлою темами
- **Мікросервіси в Docker**: Легке розгортання та масштабування
- **Сучасний робочий процес розробки**: Live-перезавантаження та відстеження файлів

## Точки доступу

- **Веб-панель**: http://localhost
- **Базова URL API**: http://localhost:8000
- **Документація API**: http://localhost:8000/docs
- **WebSocket-ендпоінт**: `ws://localhost:8000/ws`

## Команди розробки

### Керування сервісами
- `just services`: Запуск всіх сервісів у виробничому режимі
- `just services-dev`: Запуск сервісів з live-перезавантаженням файлів
- `just dev api`: Запуск конкретного сервісу в режимі розробки

### Інструменти розробки
- `just test`: Запуск повного набору тестів
- `just lint`: Перевірка якості коду з ruff
- `just fmt`: Автоформатування коду
- `just bot`: Локальний запуск Telegram-бота

## Керування Webhook

Система включає потужний сервіс керування webhook з наступними можливостями:

### Ендпоінти Webhook
- `GET /api/webhook/config`: Отримати конфігурацію webhook
- `POST /api/webhook/telegram/set`: Налаштувати Telegram webhook
- `DELETE /api/webhook/telegram/delete`: Видалити Telegram webhook

### Конфігурація
Налаштуйте webhook через `.env` або API-ендпоінти:
- `TELEGRAM_WEBHOOK_URL`: URL webhook для Telegram
- `TELEGRAM_GROUP_CHAT_ID`: Груповий чат для обробки повідомлень

## Поточні API-ендпоінти

### Основні ендпоінти
- `GET /`: Статус API
- `GET /api/health`: Перевірка здоров'я
- `GET /api/config`: Конфігурація клієнта

### Керування завданнями
- `POST /api/tasks`: Створити завдання
- `GET /api/tasks`: Список завдань
- `GET /api/tasks/{id}`: Отримати конкретне завдання
- `PUT /api/tasks/{id}/status`: Оновити статус завдання
- `GET /api/stats`: Статистика завдань

### Обробка повідомлень
- `POST /api/messages`: Створити повідомлення
- `GET /api/messages`: Список повідомлень
- `POST /webhook/telegram`: Обробник Telegram webhook

### Реальний час
- `WS /ws`: WebSocket-оновлення у реальному часі

## Робочий процес розробки

### Docker Compose Watch
- **Live-перезавантаження**: Автоматична синхронізація змін у `./frontend/src` та `./backend/`
- **Синхронізація CSS/JS**: Оновлення frontend-файлів без повної перебудови
- **Гаряче перезавантаження backend**: Оновлення коду Python з синхронізацією та перезапуском

### Локальна розробка
- Підтримка запуску окремих сервісів локально
- Використання `uv` для керування пакетами
- Інтегрована перевірка та форматування з ruff

## Налаштування середовища

1. **Python**: Потрібен 3.12+
2. **Залежності**: Керуються за допомогою `uv`
3. **Встановлення**:
   ```bash
   uv sync  # Встановлення залежностей
   uv sync --all-groups  # Встановлення залежностей для розробки/тестування
   ```

## Ліцензування

MIT License