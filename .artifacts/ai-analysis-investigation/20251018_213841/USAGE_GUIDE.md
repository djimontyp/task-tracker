# ü§ñ Analysis System - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

> **TL;DR:** –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É Telegram –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é AI. –í–∏—Ç—è–≥—É—î task proposals –∑ —ñ—Å—Ç–æ—Ä—ñ—ó —á–∞—Ç—É.

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-10-18
**–í–µ—Ä—Å—ñ—è:** 1.0
**–î–ª—è –∫–æ–≥–æ:** –†–æ–∑—Ä–æ–±–Ω–∏–∫–∏, —è–∫—ñ —ñ–º–ø–æ—Ä—Ç—É–≤–∞–ª–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ —Ö–æ—á—É—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç–∏ AI-–∞–Ω–∞–ª—ñ–∑

---

## üìñ –ó–º—ñ—Å—Ç

1. [–©–æ —Ü–µ —Ç–∞–∫–µ?](#-—â–æ-—Ü–µ-—Ç–∞–∫–µ)
2. [–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –ø–æ—á–∞—Ç–∫—É](#-—â–æ-–ø–æ—Ç—Ä—ñ–±–Ω–æ-–¥–ª—è-–ø–æ—á–∞—Ç–∫—É)
3. [–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (5 —Ö–≤–∏–ª–∏–Ω)](#-—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç-5-—Ö–≤–∏–ª–∏–Ω)
4. [–ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è](#-–ø–æ–∫—Ä–æ–∫–æ–≤–∞-—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è)
5. [–ü–µ—Ä–µ–≥–ª—è–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤](#-–ø–µ—Ä–µ–≥–ª—è–¥-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤)
6. [–ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–º–∞–Ω–¥](#-–ø—Ä–∏–∫–ª–∞–¥–∏-–∫–æ–º–∞–Ω–¥)
7. [Troubleshooting](#-troubleshooting)
8. [API Reference](#-api-reference)

---

## üéØ –©–æ —Ü–µ —Ç–∞–∫–µ?

**Analysis System** - —Ü–µ AI-–ø–æ–º—ñ—á–Ω–∏–∫, —è–∫–∏–π:

- üì© –ß–∏—Ç–∞—î –≤–∞—à—ñ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ Telegram –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- üß† –ê–Ω–∞–ª—ñ–∑—É—î —ó—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é LLM (Ollama –∞–±–æ OpenAI)
- üìù –°—Ç–≤–æ—Ä—é—î task proposals (–±–∞–≥–∏, —Ñ—ñ—á—ñ, –∑–∞–≤–¥–∞–Ω–Ω—è)
- ‚úÖ –î–∞—î –∑–º–æ–≥—É approve/reject –∫–æ–∂–Ω—É –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é
- üìä –ó–±–∏—Ä–∞—î –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ accuracy stats

**–ü—Ä–∏–∫–ª–∞–¥:**
–£ –≤–∞—Å —î 100 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ —á–∞—Ç—É –∑–∞ —Ç–∏–∂–¥–µ–Ω—å. AI –∑–Ω–∞–π–¥–µ 5-10 actionable tasks —Ç–∞ –∑–∞–ø—Ä–æ–ø–æ–Ω—É—î —ó—Ö —Å—Ç–≤–æ—Ä–∏—Ç–∏.

---

## üîß –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –ø–æ—á–∞—Ç–∫—É

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ –∑ Ollama (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)

```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Ollama –Ω–∞ host –º–∞—à–∏–Ω—ñ
curl -fsSL https://ollama.com/install.sh | sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Ollama
ollama serve

# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –º–æ–¥–µ–ª—å
ollama pull llama3.2

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
curl http://localhost:11434/v1/models
```

**–ü–ª—é—Å–∏:** –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ, –ø—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å, —à–≤–∏–¥–∫–æ
**–ú—ñ–Ω—É—Å–∏:** –ü–æ—Ç—Ä—ñ–±–µ–Ω –ø–æ—Ç—É–∂–Ω–∏–π –∫–æ–º–ø'—é—Ç–µ—Ä, –≥—ñ—Ä—à–∞ —è–∫—ñ—Å—Ç—å –Ω—ñ–∂ GPT-4

### –í–∞—Ä—ñ–∞–Ω—Ç 2: OpenAI (–ø–ª–∞—Ç–Ω–æ)

```bash
# –û—Ç—Ä–∏–º–∞—Ç–∏ API key
# https://platform.openai.com/api-keys
```

**–ü–ª—é—Å–∏:** –ù–∞–π–∫—Ä–∞—â–∞ —è–∫—ñ—Å—Ç—å, –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
**–ú—ñ–Ω—É—Å–∏:** –ü–ª–∞—Ç–Ω–æ (~$0.01-0.03 –∑–∞ –∑–∞–ø–∏—Ç)

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏
just services

# –ê–±–æ –æ–∫—Ä–µ–º–æ
docker compose up -d postgres nats worker api
```

---

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (5 —Ö–≤–∏–ª–∏–Ω)

**–î–ª—è —Ç–∏—Ö, —Ö—Ç–æ —Ö–æ—á–µ —à–≤–∏–¥–∫–æ –ø–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏:**

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å–∏
just services

# 2. Seed —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ (—Å—Ç–≤–æ—Ä—é—î –≤—Å—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é)
cd backend
uv run python scripts/seed_analysis_system.py --clear --seed --runs 3 --proposals 10

# 3. –í—ñ–¥–∫—Ä–∏—Ç–∏ Swagger UI
open http://localhost/docs#/analysis
```

**–©–æ —Å—Ç–≤–æ—Ä–∏—Ç—å seed script:**

- ‚úÖ 3 LLM Providers (Ollama + OpenAI GPT-4 + GPT-3.5)
- ‚úÖ 5 AI Agents –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏
- ‚úÖ 4 Task Configs (—Ä—ñ–∑–Ω—ñ JSON schemas)
- ‚úÖ 5 Agent-Task Assignments
- ‚úÖ 100 —Ç–µ—Å—Ç–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- ‚úÖ 3 –≥–æ—Ç–æ–≤–∏—Ö Analysis Runs
- ‚úÖ 10 Task Proposals

**–¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞:**

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ proposals
curl http://localhost/api/v1/analysis/proposals | jq

# Approve –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é
curl -X PUT http://localhost/api/v1/analysis/proposals/{proposal_id}/approve \
  -H "Content-Type: application/json" \
  -d '{"notes": "Good catch!"}'
```

---

## üìã –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏—Ç–∏ LLM Provider

**–©–æ —Ü–µ:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ AI (Ollama –∞–±–æ OpenAI)

**–ü—Ä–∏–∫–ª–∞–¥ –∑ Ollama:**

```bash
curl -X POST http://localhost/api/v1/providers \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Local Ollama",
    "type": "ollama",
    "base_url": "http://host.docker.internal:11434/v1",
    "api_key": null,
    "is_active": true
  }'
```

**–ü—Ä–∏–∫–ª–∞–¥ –∑ OpenAI:**

```bash
curl -X POST http://localhost/api/v1/providers \
  -H "Content-Type: application/json" \
  -d '{
    "name": "OpenAI GPT-4",
    "type": "openai",
    "base_url": "https://api.openai.com/v1",
    "api_key": "sk-your-api-key-here",
    "is_active": true
  }'
```

**–ó–±–µ—Ä–µ–∂—ñ—Ç—å `id` –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** - –≤—ñ–Ω –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –≤ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –∫—Ä–æ—Ü—ñ!

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
curl http://localhost/api/v1/providers/{provider_id} | jq '.validation_status'
# –ú–∞—î –±—É—Ç–∏: "valid"
```

---

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–∏—Ç–∏ AI Agent

**–©–æ —Ü–µ:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AI –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏ (system prompt)

**System prompt** - —Ü–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è AI, —â–æ —Å–∞–º–µ –≤—ñ–Ω –º–∞—î —Ä–æ–±–∏—Ç–∏.

**–ü—Ä–∏–∫–ª–∞–¥:**

```bash
curl -X POST http://localhost/api/v1/agents \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Task Proposal Generator",
    "description": "Generates structured task proposals from Telegram discussions",
    "provider_id": "{provider_id_from_step1}",
    "model_name": "llama3.2",
    "system_prompt": "You are a product management assistant. Analyze Telegram chat messages and create well-structured task proposals. Focus on:\n\n- Feature requests from users\n- Bug reports\n- Technical debt\n- Actionable improvements\n\nIgnore:\n- Casual conversations\n- Spam\n- Off-topic discussions\n\nReturn structured JSON with: title, description, priority (low/medium/high/urgent/critical), category (bug/feature/task/documentation), tags, and confidence score (0-1).",
    "temperature": 0.7,
    "max_tokens": 2000,
    "is_active": true
  }'
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**

- `temperature` (0.0-1.0): –ö—Ä–µ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å AI. 0.7 = –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ, 0.3 = –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ, 0.9 = –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ
- `max_tokens`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (2000 = ~500 —Å–ª—ñ–≤)
- `model_name`: –î–ª—è Ollama - `llama3.2`, –¥–ª—è OpenAI - `gpt-4`, `gpt-4-turbo`, `gpt-3.5-turbo`

**üí° Tip:** –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –ø—Ä–∏–∫–ª–∞–¥–∏ –ø—Ä–æ–º–ø—Ç—ñ–≤ —É —Ñ–∞–π–ª—ñ `/backend/scripts/seed_analysis_system.py` (lines 83-119)

**–ó–±–µ—Ä–µ–∂—ñ—Ç—å `id` –∞–≥–µ–Ω—Ç–∞!**

---

### –ö—Ä–æ–∫ 3: –°—Ç–≤–æ—Ä–∏—Ç–∏ Task Config

**–©–æ —Ü–µ:** –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ AI (JSON schema)

**–ü—Ä–∏–∫–ª–∞–¥:**

```bash
curl -X POST http://localhost/api/v1/task-configs \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Task Proposal Generation",
    "description": "Generate structured task proposal from messages",
    "response_schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "description": "Concise task title (max 100 chars)"
        },
        "description": {
          "type": "string",
          "description": "Detailed task description"
        },
        "category": {
          "type": "string",
          "enum": ["bug", "feature", "documentation", "task", "technical_debt"]
        },
        "priority": {
          "type": "string",
          "enum": ["low", "medium", "high", "urgent", "critical"]
        },
        "tags": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Relevant tags: frontend, backend, api, ui, etc."
        },
        "confidence": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "AI confidence score (0-1)"
        }
      },
      "required": ["title", "description", "category", "priority", "confidence"]
    },
    "is_active": true
  }'
```

**üí° Tip:** JSON schema –≤–∞–ª—ñ–¥—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å AI. –Ø–∫—â–æ AI –ø–æ–≤–µ—Ä–Ω–µ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π JSON - –∑–∞–ø–∏—Ç –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è.

**–ó–±–µ—Ä–µ–∂—ñ—Ç—å `id` task config!**

---

### –ö—Ä–æ–∫ 4: –°—Ç–≤–æ—Ä–∏—Ç–∏ Assignment

**–©–æ —Ü–µ:** –ó–≤'—è–∑–æ–∫ –º—ñ–∂ Agent —Ç–∞ Task (—Å—Ç–≤–æ—Ä—é—î –µ–∫–∑–µ–º–ø–ª—è—Ä –∞–≥–µ–Ω—Ç–∞)

**–ü—Ä–∏–∫–ª–∞–¥:**

```bash
curl -X POST http://localhost/api/v1/agents/{agent_id}/tasks \
  -H "Content-Type: application/json" \
  -d '{
    "task_id": "{task_config_id_from_step3}",
    "is_active": true
  }'
```

**–ó–±–µ—Ä–µ–∂—ñ—Ç—å `id` assignment!**

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –∞–∫—Ç–∏–≤–Ω—ñ assignments
curl http://localhost/api/v1/assignments?active_only=true | jq
```

---

### –ö—Ä–æ–∫ 5: –°—Ç–≤–æ—Ä–∏—Ç–∏ Analysis Run

**–©–æ —Ü–µ:** –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è time window –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

**–ü—Ä–∏–∫–ª–∞–¥ (–æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤):**

```bash
# –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –¥–∞—Ç–∏
START_DATE=$(date -u -d '7 days ago' '+%Y-%m-%dT%H:%M:%SZ')
END_DATE=$(date -u '+%Y-%m-%dT%H:%M:%SZ')

# –°—Ç–≤–æ—Ä–∏—Ç–∏ run
curl -X POST http://localhost/api/v1/analysis/runs \
  -H "Content-Type: application/json" \
  -d "{
    \"time_window_start\": \"$START_DATE\",
    \"time_window_end\": \"$END_DATE\",
    \"agent_assignment_id\": \"{assignment_id_from_step4}\",
    \"project_config_id\": null,
    \"trigger_type\": \"manual\",
    \"triggered_by_user_id\": null
  }"
```

**–ü—Ä–∏–∫–ª–∞–¥ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –¥–∞—Ç–∏):**

```bash
curl -X POST http://localhost/api/v1/analysis/runs \
  -H "Content-Type: application/json" \
  -d '{
    "time_window_start": "2025-10-01T00:00:00Z",
    "time_window_end": "2025-10-18T23:59:59Z",
    "agent_assignment_id": "{assignment_id}",
    "trigger_type": "manual"
  }'
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "status": "pending",
  "time_window_start": "2025-10-01T00:00:00Z",
  "time_window_end": "2025-10-18T23:59:59Z",
  "agent_assignment_id": "...",
  "config_snapshot": { ... },
  "created_at": "2025-10-18T21:30:00Z"
}
```

**–ó–±–µ—Ä–µ–∂—ñ—Ç—å `id` run!**

---

### –ö—Ä–æ–∫ 6: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Analysis Run

**–©–æ —Ü–µ:** –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ TaskIQ job –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

**–ü—Ä–∏–∫–ª–∞–¥:**

```bash
# –ó RAG (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –∫—Ä–∞—â–æ—ó —Ç–æ—á–Ω–æ—Å—Ç—ñ)
curl -X POST "http://localhost/api/v1/analysis/runs/{run_id}/start?use_rag=true"

# –ë–µ–∑ RAG (–±–∞–∑–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑)
curl -X POST "http://localhost/api/v1/analysis/runs/{run_id}/start?use_rag=false"
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º:**

1. ‚è≥ Fetch messages in time window (–∑ –ë–î)
2. üßπ Pre-filter (–≤–∏–¥–∞–ª–∏—Ç–∏ —Å–ø–∞–º, –∫–æ—Ä–æ—Ç–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)
3. üì¶ Create batches (–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –ø–æ 10-20 messages)
4. ü§ñ Process each batch with LLM (API call –¥–æ Ollama/OpenAI)
5. üíæ Save proposals (–∑–±–µ—Ä–µ–≥—Ç–∏ AI-–ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó)
6. üìä Update run metrics (—Ç–æ–∫–µ–Ω–∏, –≤–∞—Ä—Ç—ñ—Å—Ç—å)
7. üì° Broadcast WebSocket events (real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

**–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—É:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
curl http://localhost/api/v1/analysis/runs/{run_id} | jq '{
  status: .status,
  total_messages: .total_messages_in_window,
  proposals_total: .proposals_total,
  proposals_pending: .proposals_pending
}'
```

**–°—Ç–∞—Ç—É—Å–∏:**

- `pending` - –°—Ç–≤–æ—Ä–µ–Ω–æ, –∞–ª–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ
- `running` - –í –ø—Ä–æ—Ü–µ—Å—ñ –æ–±—Ä–æ–±–∫–∏
- `completed` - –û–±—Ä–æ–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, —á–µ–∫–∞—î review
- `reviewed` - –í—Å—ñ proposals reviewed
- `closed` - –ó–∞–∫—Ä–∏—Ç–æ –∑ accuracy metrics
- `failed` - –ü–æ–º–∏–ª–∫–∞ (–¥–∏–≤. `error_log`)

---

## üìä –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ proposals

```bash
# –í—Å—ñ proposals –∑ run
curl "http://localhost/api/v1/analysis/proposals?run_id={run_id}" | jq

# –¢—ñ–ª—å–∫–∏ pending (–ø–æ—Ç—Ä–µ–±—É—é—Ç—å review)
curl "http://localhost/api/v1/analysis/proposals?run_id={run_id}&status=pending" | jq

# –í–∏—Å–æ–∫–∏–π confidence (>0.8)
curl "http://localhost/api/v1/analysis/proposals?confidence_min=0.8" | jq

# –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
curl "http://localhost/api/v1/analysis/proposals?page=1&page_size=20" | jq
```

**–ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**

```json
{
  "items": [
    {
      "id": "proposal-uuid",
      "proposed_title": "Fix authentication timeout on backend API",
      "proposed_description": "Users reporting session timeouts after 5 minutes of inactivity. Need to increase JWT token expiration and add refresh token mechanism.",
      "proposed_priority": "high",
      "proposed_category": "bug",
      "proposed_tags": ["backend", "authentication", "security"],
      "source_message_ids": [123, 124, 125],
      "message_count": 3,
      "confidence": 0.92,
      "reasoning": "Multiple user reports indicate production issue affecting user experience. Clear actionable steps identified.",
      "llm_recommendation": "new_task",
      "status": "pending",
      "created_at": "2025-10-18T21:45:00Z"
    }
  ],
  "total": 15,
  "page": 1,
  "page_size": 100
}
```

### Approve proposal

```bash
curl -X PUT http://localhost/api/v1/analysis/proposals/{proposal_id}/approve \
  -H "Content-Type: application/json" \
  -d '{
    "notes": "Good catch! Creating task in backlog."
  }'
```

### Reject proposal

```bash
curl -X PUT http://localhost/api/v1/analysis/proposals/{proposal_id}/reject \
  -H "Content-Type: application/json" \
  -d '{
    "reason": "Duplicate of existing task #123"
  }'
```

### Merge –∑ —ñ—Å–Ω—É—é—á–∏–º –∑–∞–≤–¥–∞–Ω–Ω—è–º

```bash
curl -X PUT http://localhost/api/v1/analysis/proposals/{proposal_id}/merge \
  -H "Content-Type: application/json" \
  -d '{
    "target_task_id": "existing-task-uuid",
    "merge_notes": "Related to ongoing authentication refactoring"
  }'
```

### –ó–∞–∫—Ä–∏—Ç–∏ Analysis Run

**–£–º–æ–≤–∞:** –í—Å—ñ proposals –º–∞—é—Ç—å –±—É—Ç–∏ reviewed (`proposals_pending == 0`)

```bash
curl -X PUT http://localhost/api/v1/analysis/runs/{run_id}/close
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å –∑ accuracy metrics:**

```json
{
  "id": "run-uuid",
  "status": "closed",
  "proposals_total": 15,
  "proposals_approved": 12,
  "proposals_rejected": 3,
  "proposals_pending": 0,
  "accuracy_metrics": {
    "approval_rate": 0.80,
    "avg_confidence": 0.87,
    "precision": 0.92
  },
  "closed_at": "2025-10-18T22:00:00Z"
}
```

---

## üí° –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–º–∞–Ω–¥

### –ü–æ–≤–Ω–∏–π workflow (bash script)

```bash
#!/bin/bash
set -e

# 1. Create Ollama Provider
echo "Creating LLM Provider..."
PROVIDER_ID=$(curl -s -X POST http://localhost/api/v1/providers \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Local Ollama",
    "type": "ollama",
    "base_url": "http://host.docker.internal:11434/v1",
    "is_active": true
  }' | jq -r '.id')

echo "‚úÖ Provider ID: $PROVIDER_ID"

# 2. Create Agent
echo "Creating AI Agent..."
AGENT_ID=$(curl -s -X POST http://localhost/api/v1/agents \
  -H "Content-Type: application/json" \
  -d "{
    \"name\": \"Task Analyzer\",
    \"description\": \"Analyzes messages and creates task proposals\",
    \"provider_id\": \"$PROVIDER_ID\",
    \"model_name\": \"llama3.2\",
    \"system_prompt\": \"You are a PM assistant. Analyze chat messages and create task proposals.\",
    \"temperature\": 0.7,
    \"max_tokens\": 2000
  }" | jq -r '.id')

echo "‚úÖ Agent ID: $AGENT_ID"

# 3. Create Task Config
echo "Creating Task Config..."
TASK_ID=$(curl -s -X POST http://localhost/api/v1/task-configs \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Proposal Generation",
    "description": "Generate task proposal",
    "response_schema": {
      "type": "object",
      "properties": {
        "title": {"type": "string"},
        "description": {"type": "string"},
        "category": {"type": "string"},
        "priority": {"type": "string"},
        "tags": {"type": "array", "items": {"type": "string"}},
        "confidence": {"type": "number"}
      },
      "required": ["title", "description", "confidence"]
    }
  }' | jq -r '.id')

echo "‚úÖ Task ID: $TASK_ID"

# 4. Create Assignment
echo "Creating Assignment..."
ASSIGNMENT_ID=$(curl -s -X POST http://localhost/api/v1/agents/$AGENT_ID/tasks \
  -H "Content-Type: application/json" \
  -d "{\"task_id\": \"$TASK_ID\"}" | jq -r '.id')

echo "‚úÖ Assignment ID: $ASSIGNMENT_ID"

# 5. Create Analysis Run (last 7 days)
echo "Creating Analysis Run..."
START_DATE=$(date -u -d '7 days ago' '+%Y-%m-%dT%H:%M:%SZ')
END_DATE=$(date -u '+%Y-%m-%dT%H:%M:%SZ')

RUN_ID=$(curl -s -X POST http://localhost/api/v1/analysis/runs \
  -H "Content-Type: application/json" \
  -d "{
    \"time_window_start\": \"$START_DATE\",
    \"time_window_end\": \"$END_DATE\",
    \"agent_assignment_id\": \"$ASSIGNMENT_ID\",
    \"trigger_type\": \"manual\"
  }" | jq -r '.id')

echo "‚úÖ Run ID: $RUN_ID"

# 6. Start Analysis Run
echo "Starting Analysis Run..."
curl -s -X POST "http://localhost/api/v1/analysis/runs/$RUN_ID/start?use_rag=true" | jq

# 7. Monitor Progress
echo "Monitoring progress..."
while true; do
  STATUS=$(curl -s http://localhost/api/v1/analysis/runs/$RUN_ID | jq -r '.status')
  echo "Current status: $STATUS"

  if [ "$STATUS" = "completed" ] || [ "$STATUS" = "failed" ]; then
    break
  fi

  sleep 5
done

# 8. List Proposals
echo "Listing proposals..."
curl -s "http://localhost/api/v1/analysis/proposals?run_id=$RUN_ID&status=pending" | jq

echo "‚úÖ Done! Review proposals at: http://localhost/api/v1/analysis/proposals?run_id=$RUN_ID"
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è AI Agent (–±–µ–∑ run)

```bash
# –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∞–≥–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º run
curl -X POST http://localhost/api/v1/agents/{agent_id}/test \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "User reported: \"The login button is not working on mobile Safari. Getting 500 error when clicking submit.\""
  }'
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

```json
{
  "success": true,
  "response": {
    "title": "Fix login button 500 error on mobile Safari",
    "description": "Users experiencing server error when submitting login form on mobile Safari browser...",
    "category": "bug",
    "priority": "high",
    "tags": ["mobile", "safari", "authentication"],
    "confidence": 0.88
  },
  "raw_response": "{...}"
}
```

---

## üî• Troubleshooting

### ‚ùå Provider validation failed

**–°–∏–º–ø—Ç–æ–º:**

```json
{
  "validation_status": "error",
  "last_validation_error": "Connection refused"
}
```

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ Ollama –∑–∞–ø—É—â–µ–Ω–∏–π
curl http://localhost:11434/v1/models

# –Ø–∫—â–æ –Ω–µ –ø—Ä–∞—Ü—é—î - –∑–∞–ø—É—Å—Ç–∏—Ç–∏ Ollama
ollama serve

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ API
docker logs task-tracker-api | grep "Provider validation"

# 3. Re-validate provider
curl -X PUT http://localhost/api/v1/providers/{provider_id} \
  -H "Content-Type: application/json" \
  -d '{"is_active": true}'
```

---

### ‚ùå Analysis run failed

**–°–∏–º–ø—Ç–æ–º:**

```json
{
  "status": "failed",
  "error_log": "LLM API error: ..."
}
```

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ error_log
curl http://localhost/api/v1/analysis/runs/{run_id} | jq '.error_log'

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ worker
docker logs task-tracker-worker | grep "Run {run_id}"

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ time window
curl "http://localhost/api/v1/messages?start_date={start}&end_date={end}" | jq '.total'

# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å LLM provider
curl http://localhost/api/v1/providers/{provider_id} | jq '.validation_status'
```

---

### ‚ùå No proposals created

**–°–∏–º–ø—Ç–æ–º:**

```json
{
  "status": "completed",
  "proposals_total": 0
}
```

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**

1. –ù–µ–º–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤ time window
2. Pre-filter –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞–≤ –≤—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (spam, –∫–æ—Ä–æ—Ç–∫—ñ)
3. LLM –Ω–µ –∑–Ω–∞–π—à–æ–≤ actionable tasks
4. –ü–æ–º–∏–ª–∫–∞ –≤ response_schema

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
curl http://localhost/api/v1/analysis/runs/{run_id} | jq '{
  total_messages: .total_messages_in_window,
  after_filter: .messages_after_prefilter,
  batches: .batches_created,
  proposals: .proposals_total
}'

# –Ø–∫—â–æ total_messages == 0
# ‚Üí –ó–º—ñ–Ω–∏—Ç–∏ time window

# –Ø–∫—â–æ after_filter == 0
# ‚Üí –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è pre-filter

# –Ø–∫—â–æ batches_created > 0, –∞–ª–µ proposals == 0
# ‚Üí –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ LLM –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
docker logs task-tracker-worker | grep "Run {run_id}"
```

---

### ‚ùå Database connection error

**–°–∏–º–ø—Ç–æ–º:**

```
socket.gaierror: Temporary failure in name resolution
```

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ PostgreSQL
just services
# –∞–±–æ
docker compose up -d postgres

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
docker exec -it task-tracker-postgres pg_isready

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
docker exec task-tracker-api env | grep DATABASE_URL
```

---

### ‚ùå JSON schema validation error

**–°–∏–º–ø—Ç–æ–º:**

```json
{
  "error": "LLM response does not match schema"
}
```

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ response_schema
curl http://localhost/api/v1/task-configs/{task_id} | jq '.response_schema'

# 2. –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∞–≥–µ–Ω—Ç–∞
curl -X POST http://localhost/api/v1/agents/{agent_id}/test \
  -H "Content-Type: application/json" \
  -d '{"prompt": "Test message"}' | jq

# 3. –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ schema —Ç–∞ system_prompt —É–∑–≥–æ–¥–∂–µ–Ω—ñ
# –ù–∞–ø—Ä–∏–∫–ª–∞–¥:
# - Schema –≤–∏–º–∞–≥–∞—î "priority": "high"
# - Prompt –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏: enum values (low/medium/high/urgent/critical)

# 4. –û–Ω–æ–≤–∏—Ç–∏ system_prompt
curl -X PUT http://localhost/api/v1/agents/{agent_id} \
  -H "Content-Type: application/json" \
  -d '{
    "system_prompt": "...Return JSON with fields: title (string), description (string), priority (low/medium/high/urgent/critical), confidence (0-1)..."
  }'
```

---

## üìö API Reference

### LLM Providers

| Endpoint                     | Method | Description             |
| ---------------------------- | ------ | ----------------------- |
| `/api/v1/providers`          | POST   | Create provider         |
| `/api/v1/providers`          | GET    | List providers          |
| `/api/v1/providers/{id}`     | GET    | Get provider details    |
| `/api/v1/providers/{id}`     | PUT    | Update provider         |
| `/api/v1/providers/{id}`     | DELETE | Delete provider         |

**Query params (GET):**

- `active_only=true` - –¢—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ providers

---

### Agent Configs

| Endpoint                       | Method | Description             |
| ------------------------------ | ------ | ----------------------- |
| `/api/v1/agents`               | POST   | Create agent            |
| `/api/v1/agents`               | GET    | List agents             |
| `/api/v1/agents/{id}`          | GET    | Get agent details       |
| `/api/v1/agents/{id}`          | PUT    | Update agent            |
| `/api/v1/agents/{id}`          | DELETE | Delete agent            |
| `/api/v1/agents/{id}/test`     | POST   | Test agent with prompt  |

**Query params (GET):**

- `provider_id={uuid}` - Filter by provider
- `active_only=true` - –¢—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ agents

---

### Task Configs

| Endpoint                       | Method | Description             |
| ------------------------------ | ------ | ----------------------- |
| `/api/v1/task-configs`         | POST   | Create task config      |
| `/api/v1/task-configs`         | GET    | List task configs       |
| `/api/v1/task-configs/{id}`    | GET    | Get task config details |
| `/api/v1/task-configs/{id}`    | PUT    | Update task config      |
| `/api/v1/task-configs/{id}`    | DELETE | Delete task config      |

**Query params (GET):**

- `active_only=true` - –¢—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ configs

---

### Assignments

| Endpoint                                      | Method | Description                  |
| --------------------------------------------- | ------ | ---------------------------- |
| `/api/v1/assignments`                         | GET    | List all assignments         |
| `/api/v1/agents/{agent_id}/tasks`             | POST   | Create assignment            |
| `/api/v1/agents/{agent_id}/tasks`             | GET    | List agent's tasks           |
| `/api/v1/agents/{agent_id}/tasks/{task_id}`   | DELETE | Delete assignment            |

**Query params (GET):**

- `active_only=true` - –¢—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ assignments
- `agent_id={uuid}` - Filter by agent
- `task_id={uuid}` - Filter by task

---

### Analysis Runs

| Endpoint                                | Method | Description                      |
| --------------------------------------- | ------ | -------------------------------- |
| `/api/v1/analysis/runs`                 | POST   | Create run                       |
| `/api/v1/analysis/runs`                 | GET    | List runs                        |
| `/api/v1/analysis/runs/{id}`            | GET    | Get run details                  |
| `/api/v1/analysis/runs/{id}/start`      | POST   | Start run (TaskIQ job)           |
| `/api/v1/analysis/runs/{id}/close`      | PUT    | Close run (calculate metrics)    |

**Query params (GET):**

- `status=pending|running|completed|reviewed|closed|failed`
- `trigger_type=manual|scheduled|webhook`
- `assignment_id={uuid}` - Filter by assignment

**Query params (POST /start):**

- `use_rag=true|false` - Enable RAG for context-aware proposals

---

### Proposals

| Endpoint                                       | Method | Description                    |
| ---------------------------------------------- | ------ | ------------------------------ |
| `/api/v1/analysis/proposals`                   | GET    | List proposals                 |
| `/api/v1/analysis/proposals/{id}`              | GET    | Get proposal details           |
| `/api/v1/analysis/proposals/{id}`              | PUT    | Update proposal                |
| `/api/v1/analysis/proposals/{id}/approve`      | PUT    | Approve proposal               |
| `/api/v1/analysis/proposals/{id}/reject`       | PUT    | Reject proposal                |
| `/api/v1/analysis/proposals/{id}/merge`        | PUT    | Merge with existing task       |

**Query params (GET):**

- `run_id={uuid}` - Filter by run
- `status=pending|approved|rejected|merged`
- `confidence_min=0.0` - Min confidence score
- `confidence_max=1.0` - Max confidence score
- `llm_recommendation=new_task|merge_with_existing|update_existing|ignore`
- `page=1` - Page number
- `page_size=100` - Items per page

---

## üéì –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π

**–§–∞–π–ª–∏:**

- System prompts: `/backend/scripts/seed_analysis_system.py` (lines 83-119)
- JSON schemas: `/backend/scripts/seed_analysis_system.py` (lines 121-183)
- Full workflow: –¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç, —Ä–æ–∑–¥—ñ–ª "–ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–º–∞–Ω–¥"

### –ö–æ–¥ –±–∞–∑–∏

**–ú–æ–¥–µ–ª—ñ:**

- LLM Provider: `/backend/app/models/llm_provider.py`
- Agent Config: `/backend/app/models/agent_config.py`
- Task Config: `/backend/app/models/task_config.py`
- Analysis Run: `/backend/app/models/analysis_run.py`
- Task Proposal: `/backend/app/models/task_proposal.py`

**API Endpoints:**

- Providers: `/backend/app/api/v1/providers.py`
- Agents: `/backend/app/api/v1/agents.py`
- Task Configs: `/backend/app/api/v1/task_configs.py`
- Analysis Runs: `/backend/app/api/v1/analysis_runs.py`
- Proposals: `/backend/app/api/v1/proposals.py`

**Background Jobs:**

- TaskIQ executor: `/backend/app/tasks.py` (line 330-441)

### Swagger UI

**–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:**

```
http://localhost/docs#/analysis
```

–¢—É—Ç –º–æ–∂–Ω–∞:

- üìñ –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ endpoints
- üß™ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ API –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤

---

## ‚úÖ Checklist –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –∑–∞–ø—É—Å–∫—É

- [ ] Ollama –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ç–∞ –∑–∞–ø—É—â–µ–Ω–æ (`ollama serve`)
- [ ] –ú–æ–¥–µ–ª—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ (`ollama pull llama3.2`)
- [ ] –°–µ—Ä–≤—ñ—Å–∏ –∑–∞–ø—É—â–µ–Ω–æ (`just services`)
- [ ] –Ñ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –ë–î
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ LLM Provider
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ Agent Config –∑ –ø—Ä–æ–º–ø—Ç–æ–º
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ Task Config –∑ JSON schema
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ Agent-Task Assignment
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ Analysis Run –∑ time window
- [ ] –ó–∞–ø—É—â–µ–Ω–æ Analysis Run (`POST /runs/{id}/start`)
- [ ] –î–æ—á–µ–∫–∞—Ç–∏—Å—è `status: "completed"`
- [ ] –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ proposals (`GET /proposals?run_id=...`)
- [ ] Approve/Reject proposals
- [ ] –ó–∞–∫—Ä–∏—Ç–∏ run (`PUT /runs/{id}/close`)

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

**–ü—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ —É—Å–ø—ñ—à–Ω–æ–≥–æ run:**

1. ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Project Config –∑ glossary (–¥–ª—è RAG)
2. üîÑ –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏
3. üìä –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ accuracy metrics (`approval_rate`, `precision`)
4. ü§ñ –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ –∞–≥–µ–Ω—Ç—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∑–∞–≤–¥–∞–Ω—å
5. üìÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ scheduled runs (cron-like)
6. üé® –Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ PM review UI —É frontend

**–î–ª—è production:**

- üîê –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ OpenAI API key (encrypted)
- üìà –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ LLM usage (—Ç–æ–∫–µ–Ω–∏, –≤–∞—Ä—Ç—ñ—Å—Ç—å)
- ‚ö° Rate limiting –¥–ª—è LLM API
- üîî WebSocket notifications –¥–ª—è PM
- üìä Analytics dashboard –¥–ª—è accuracy tracking

---

**–ü–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏?**

- üìñ –¢–µ—Ö–Ω—ñ—á–Ω–∏–π –∑–≤—ñ—Ç: `.artifacts/ai-analysis-investigation/20251018_213841/agent-reports/backend-implementation-report.md`
- üí¨ Backend team: project Slack channel
- üêõ Bug reports: GitHub Issues

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** 2025-10-18
**–í–µ—Ä—Å—ñ—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready to use
