# Специфікація фічі: Daily Review Epic

**Гілка**: `001-daily-review-epic`
**Створено**: 2025-12-12
**Статус**: Draft
**Джерело**: PRD-FULL-VISION.md - Epic 1: Daily Review (US-001, US-002, US-003, US-004)

## Огляд

Daily Review Epic дає змогу проєктним менеджерам (PM) та тімлідам зрозуміти статус проєкту за 5 хвилин замість 30 хвилин, надаючи сфокусований дашборд з відфільтрованими важливими повідомленнями, AI-витягнутими атомами знань та навігацією по топіках.

**Цільова персона**: Марина (PM) — проводить 30-60 хв/день в системі, потребує не пропустити важливі сигнали

**Ключова цінність**: Економія 85-95% часу на щоденний огляд (з 2-4 годин до 15-20 хвилин)

## Користувацькі сценарії та тестування *(обов'язково)*

### User Story 1 — Огляд Dashboard (Пріоритет: P1)

Як PM, я хочу бачити дашборд з ключовими активностями за сьогодні, щоб розуміти статус проєкту за 5 хвилин замість 30.

**Чому цей пріоритет**: Це точка входу в систему. Без працюючого дашборду користувачі не можуть отримати доступ до іншого функціоналу. Він надає негайну цінність, показуючи "пульс" проєктів з першого погляду.

**Незалежний тест**: Можна повністю протестувати, завантаживши сторінку дашборду та перевіривши, що метрики за сьогодні (кількість повідомлень, нові атоми, активні топіки) відображаються протягом 2 секунд.

**Сценарії приймання**:

1. **Дано** PM відкриває дашборд о 9:00 ранку, **Коли** сторінка завантажується, **Тоді** він бачить кількість повідомлень за сьогодні, кількість нових атомів та активних топіків
2. **Дано** початок дня без даних за сьогодні, **Коли** PM відкриває дашборд, **Тоді** система автоматично показує дані за вчора
3. **Дано** дашборд завантажується, **Коли** дані отримуються, **Тоді** користувач бачить скелетони завантаження (не порожню сторінку)
4. **Дано** є повідомлення за сьогодні, **Коли** PM переглядає дашборд, **Тоді** він бачить картку з загальною кількістю повідомлень та розбивкою по класифікації

---

### User Story 2 — Фільтр Signal/Noise (Пріоритет: P1)

Як PM, я хочу бачити тільки важливі повідомлення (signals), щоб не витрачати час на шум.

**Чому цей пріоритет**: Це напряму вирішує основну проблему — 80% повідомлень це шум. Без цього фільтру система буде просто ще однією inbox, яка перевантажує користувачів.

**Незалежний тест**: Можна протестувати, переглянувши список повідомлень, перемикаючи фільтр signal/noise та перевіривши, що за замовчуванням показуються тільки signal повідомлення.

**Сценарії приймання**:

1. **Дано** PM відкриває сторінку повідомлень, **Коли** сторінка завантажується, **Тоді** за замовчуванням відображаються тільки повідомлення класифіковані як "Signal"
2. **Дано** PM переглядає тільки signals, **Коли** він натискає "Показати всі", **Тоді** відображаються всі повідомлення (включаючи noise)
3. **Дано** повідомлення відображаються, **Коли** PM дивиться на заголовок сторінки, **Тоді** він бачить співвідношення Signal/Noise (напр., "15 signals / 85 noise")
4. **Дано** повідомлення класифіковане як Signal, **Коли** воно відображається в списку, **Тоді** воно має візуальний індикатор, що відрізняє його від noise

---

### User Story 3 — Atoms за сьогодні (Пріоритет: P1)

Як PM, я хочу бачити Atoms витягнуті сьогодні, щоб швидко зрозуміти які рішення, завдання та проблеми з'явились.

**Чому цей пріоритет**: Atoms це основні одиниці знань системи. Можливість переглядати та затверджувати їх необхідна для підтримки якості бази знань.

**Незалежний тест**: Можна протестувати, перейшовши на сторінку Atoms, відфільтрувавши за сьогоднішньою датою та виконавши дії approve/reject на окремих атомах.

**Сценарії приймання**:

1. **Дано** PM відкриває сторінку Atoms, **Коли** сторінка завантажується, **Тоді** атоми згруповані за типом (DECISION, PROBLEM, SOLUTION, QUESTION, тощо)
2. **Дано** PM переглядає атом, **Коли** він натискає на нього, **Тоді** він бачить вихідне повідомлення з якого атом був витягнутий
3. **Дано** PM переглядає атом, **Коли** він натискає "Approve", **Тоді** статус атома змінюється на APPROVED і він виходить з черги на перегляд
4. **Дано** PM переглядає атом, **Коли** він натискає "Reject", **Тоді** статус атома змінюється на REJECTED і він видаляється з бази знань
5. **Дано** PM переглядає сторінку Atoms, **Коли** він дивиться на зведення, **Тоді** він бачить кількість атомів за типом (напр., "3 Decisions, 2 Problems, 1 Blocker")
6. **Дано** кілька атомів потребують перегляду, **Коли** PM натискає "Approve All", **Тоді** всі pending атоми затверджуються пакетно (протягом 1 секунди для 10 атомів)

---

### User Story 4 — Навігація по Topics (Пріоритет: P2)

Як PM, я хочу переглядати знання по Topics, щоб фокусуватись на конкретних областях проєкту.

**Чому цей пріоритет**: Topics забезпечують організаційну структуру. Хоча це важливо, система може надавати цінність без топіків (плоский список атомів працює спочатку).

**Незалежний тест**: Можна протестувати, переглянувши список Topics, натиснувши на топік та перевіривши, що відображаються тільки атоми пов'язані з цим топіком.

**Сценарії приймання**:

1. **Дано** PM відкриває сторінку Topics, **Коли** сторінка завантажується, **Тоді** він бачить список топіків з іконками та кольорами
2. **Дано** PM натискає на топік, **Коли** сторінка деталей топіка завантажується, **Тоді** він бачить всі атоми пов'язані з цим топіком
3. **Дано** PM переглядає топік, **Коли** він дивиться на картку топіка, **Тоді** він бачить кількість повідомлень для цього топіка
4. **Дано** PM переглядає топіки, **Коли** він натискає "Створити Topic", **Тоді** він може створити новий топік з назвою, іконкою та кольором
5. **Дано** PM переглядає топік, **Коли** він натискає "Редагувати" на топіку, **Тоді** він може змінити назву, іконку, колір та keywords топіка

---

### Edge Cases (Граничні випадки)

- Що відбувається коли немає повідомлень за сьогодні і вчора? Показати empty state "Ще немає активності" з підказкою
- Що відбувається коли AI екстракція провалилась? Показати індикатор помилки на відповідних повідомленнях, дозволити ручний retry
- Як система обробляє дуже довгі повідомлення у перегляді source атома? Обрізати з "Показати більше" розгортанням
- Що якщо користувач намагається затвердити вже затверджений атом? Показати попередження, не дозволяти дублювання
- Що відбувається коли користувач втрачає інтернет з'єднання під час затвердження атомів? Зберігати дії локально, синхронізувати при відновленні з'єднання
- Як поводиться дашборд з 0 налаштованих топіків? Показати "Створіть перший топік" підказку
- Що якщо всі атоми за сьогодні вже оброблені? Показати "Все готово!" повідомлення успіху

## Вимоги *(обов'язково)*

### Функціональні вимоги

#### Dashboard (US-001)
- **FR-001**: Система ПОВИННА відображати дашборд як сторінку за замовчуванням після логіну
- **FR-002**: Система ПОВИННА показувати кількість повідомлень за обраний період (сьогодні/вчора)
- **FR-003**: Система ПОВИННА показувати кількість нових витягнутих Atoms
- **FR-004**: Система ПОВИННА показувати кількість активних Topics
- **FR-005**: Система ПОВИННА автоматично перемикатись на "вчора" коли немає даних за сьогодні (до полудня)
- **FR-006**: Система ПОВИННА завантажувати дашборд протягом 2 секунд в нормальних умовах

#### Фільтр Signal/Noise (US-002)
- **FR-007**: Система ПОВИННА класифікувати кожне повідомлення як Signal або Noise
- **FR-008**: Система ПОВИННА відображати тільки Signal повідомлення за замовчуванням у списку повідомлень
- **FR-009**: Система ПОВИННА надавати перемикач для показу всіх повідомлень (включаючи Noise)
- **FR-010**: Система ПОВИННА помітно відображати співвідношення Signal/Noise
- **FR-011**: Система ПОВИННА візуально розрізняти Signal повідомлення від Noise повідомлень

#### Перегляд Atoms (US-003)
- **FR-012**: Система ПОВИННА відображати атоми згруповані за типом (DECISION, PROBLEM, SOLUTION, QUESTION, INSIGHT, IDEA, BLOCKER, RISK, REQUIREMENT)
- **FR-013**: Система ПОВИННА показувати вихідне повідомлення для кожного атома
- **FR-014**: Система ПОВИННА дозволяти користувачам затверджувати окремі атоми
- **FR-015**: Система ПОВИННА дозволяти користувачам відхиляти окремі атоми
- **FR-016**: Система ПОВИННА відображати кількість атомів за типом
- **FR-017**: Система ПОВИННА підтримувати пакетне затвердження кількох атомів
- **FR-018**: Пакетне затвердження 10 атомів ПОВИННО виконуватись протягом 1 секунди

#### Навігація по Topics (US-004)
- **FR-019**: Система ПОВИННА відображати список топіків з іконками та кольорами
- **FR-020**: Система ПОВИННА показувати атоми відфільтровані за обраним топіком
- **FR-021**: Система ПОВИННА відображати кількість повідомлень для кожного топіка
- **FR-022**: Користувачі ПОВИННІ мати можливість створювати нові топіки
- **FR-023**: Користувачі ПОВИННІ мати можливість редагувати існуючі топіки
- **FR-024**: Користувачі ПОВИННІ мати можливість видаляти топіки
- **FR-025**: Topics ПОВИННІ підтримувати keywords для авто-мапінгу атомів

### Ключові сутності

- **Message**: Сирий комунікаційний елемент з джерела (Telegram), містить текст, автора, timestamp, канал. Класифікується як Signal/Noise.
- **Atom**: Витягнута одиниця знань з типом (9 типів), контентом, статусом (DRAFT/PENDING_REVIEW/APPROVED/REJECTED), зв'язана з вихідним повідомленням(ями)
- **Topic**: Категорія для організації атомів, має назву, іконку, колір, keywords. Зв'язок many-to-many з Atoms та Messages
- **Dashboard Metrics**: Агреговані статистики включаючи кількість повідомлень, кількість атомів за типом/статусом, активність топіків

## Критерії успіху *(обов'язково)*

### Вимірювані результати

- **SC-001**: Користувачі можуть зрозуміти статус проєкту з дашборду менш ніж за 5 хвилин (вимірюється через тривалість сесії на сторінці дашборду)
- **SC-002**: Дашборд завантажується повністю менш ніж за 2 секунди для 95% завантажень сторінки
- **SC-003**: Користувачі завершують щоденний перегляд атомів (approve/reject всіх pending) менш ніж за 10 хвилин
- **SC-004**: Рівень затвердження AI-витягнутих атомів перевищує 70% (що вказує на хорошу якість екстракції)
- **SC-005**: Рівень відхилення залишається нижче 15%
- **SC-006**: Користувачі обробляють 100% щоденної черги атомів (без покинутих сесій перегляду)
- **SC-007**: Фільтр Signal/Noise зменшує видимі повідомлення щонайменше на 50% (припускаючи типове 80% співвідношення шуму)
- **SC-008**: Користувачі можуть знайти релевантні атоми по топіку менш ніж за 30 секунд
- **SC-009**: Система обробляє 1000-5000 повідомлень на день без деградації продуктивності
- **SC-010**: Пакетне затвердження 10 атомів виконується менш ніж за 1 секунду

## Припущення

- Користувачі мають стабільне інтернет-з'єднання (offline режим не входить в scope v1.0)
- Telegram канали вже налаштовані та інгестять повідомлення
- AI extraction pipeline (LLM Provider) налаштований та працює
- Користувачі розуміють 9 типів атомів та можуть приймати рішення approve/reject
- Розмір команди 1-5 користувачів, що працюють одночасно
- Українська мова є основною мовою UI (i18n обробляється в окремому epic)
- Всі користувачі мають однакові права (без ролей) — модель авторизації без розмежування для MVP

## Clarifications

### Session 2025-12-13

- Q: Яка модель авторизації для MVP? → A: Всі користувачі мають однакові права (без ролей)
